/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*!
 * jQuery JavaScript Library v2.2.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-03-17T17:51Z
 */

/*Copyright 2016 William R. Dickson ---mytraildotorg 2016-05-22 version:0.0.1 */

//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/**
 * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*
 * RequireJS underscore-tpl
 * Loads and precompile underscore templates
 * https://github.com/dciccale/requirejs-underscore-tpl
 *
 * Dependencies:
 * Underscore.js: https://underscorejs.org
 * RequireJS text plugin: https://github.com/requirejs/text
 *
 * Copyright (c) 2013 Denis Ciccale (@tdecs)
 * Licensed under the MIT license.
 * https://github.com/dciccale/requirejs-underscore-tpl/blob/master/LICENSE-MIT
 */

/*Copyright 2016 William R. Dickson ---mytraildotorg 2016-05-22 version:0.0.1 */

/* ========================================================================
 * Bootstrap: transition.js v3.3.6
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/*Copyright 2016 William R. Dickson ---mytraildotorg 2016-05-22 version:0.0.1 */

/* ========================================================================
 * Bootstrap: button.js v3.3.6
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/*Copyright 2016 William R. Dickson ---mytraildotorg 2016-05-22 version:0.0.1 */

/* ========================================================================
 * Bootstrap: collapse.js v3.3.6
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/*Copyright 2016 William R. Dickson ---mytraildotorg 2016-05-22 version:0.0.1 */

/* ========================================================================
 * Bootstrap: modal.js v3.3.6
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/*Copyright 2016 William R. Dickson ---mytraildotorg 2016-05-22 version:0.0.1 */

/* ========================================================================
 * Bootstrap: popover.js v3.3.6
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/*Copyright 2016 William R. Dickson ---mytraildotorg 2016-05-22 version:0.0.1 */

/* ========================================================================
 * Bootstrap: tab.js v3.3.6
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/*Copyright 2016 William R. Dickson ---mytraildotorg 2016-05-22 version:0.0.1 */

var requirejs,require,define;(function(e){function h(e,t){return f.call(e,t)}function p(e,t){var n,r,i,s,o,a,f,l,h,p,d,v=t&&t.split("/"),m=u.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){e=e.split("/"),o=e.length-1,u.nodeIdCompat&&c.test(e[o])&&(e[o]=e[o].replace(c,"")),e=v.slice(0,v.length-1).concat(e);for(h=0;h<e.length;h+=1){d=e[h];if(d===".")e.splice(h,1),h-=1;else if(d===".."){if(h===1&&(e[2]===".."||e[0]===".."))break;h>0&&(e.splice(h-1,2),h-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(h=n.length;h>0;h-=1){r=n.slice(0,h).join("/");if(v)for(p=v.length;p>0;p-=1){i=m[v.slice(0,p).join("/")];if(i){i=i[r];if(i){s=i,a=h;break}}}if(s)break;!f&&g&&g[r]&&(f=g[r],l=h)}!s&&f&&(s=f,a=l),s&&(n.splice(0,a,s),e=n.join("/"))}return e}function d(t,r){return function(){var i=l.call(arguments,0);return typeof i[0]!="string"&&i.length===1&&i.push(null),n.apply(e,i.concat([t,r]))}}function v(e){return function(t){return p(t,e)}}function m(e){return function(t){s[e]=t}}function g(n){if(h(o,n)){var r=o[n];delete o[n],a[n]=!0,t.apply(e,r)}if(!h(s,n)&&!h(a,n))throw new Error("No "+n);return s[n]}function y(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function b(e){return function(){return u&&u.config&&u.config[e]||{}}}var t,n,r,i,s={},o={},u={},a={},f=Object.prototype.hasOwnProperty,l=[].slice,c=/\.js$/;r=function(e,t){var n,r=y(e),i=r[0];return e=r[1],i&&(i=p(i,t),n=g(i)),i?n&&n.normalize?e=n.normalize(e,v(t)):e=p(e,t):(e=p(e,t),r=y(e),i=r[0],e=r[1],i&&(n=g(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},i={require:function(e){return d(e)},exports:function(e){var t=s[e];return typeof t!="undefined"?t:s[e]={}},module:function(e){return{id:e,uri:"",exports:s[e],config:b(e)}}},t=function(t,n,u,f){var l,c,p,v,y,b=[],w=typeof u,E;f=f||t;if(w==="undefined"||w==="function"){n=!n.length&&u.length?["require","exports","module"]:n;for(y=0;y<n.length;y+=1){v=r(n[y],f),c=v.f;if(c==="require")b[y]=i.require(t);else if(c==="exports")b[y]=i.exports(t),E=!0;else if(c==="module")l=b[y]=i.module(t);else if(h(s,c)||h(o,c)||h(a,c))b[y]=g(c);else{if(!v.p)throw new Error(t+" missing "+c);v.p.load(v.n,d(f,!0),m(c),{}),b[y]=s[c]}}p=u?u.apply(s[t],b):undefined;if(t)if(l&&l.exports!==e&&l.exports!==s[t])s[t]=l.exports;else if(p!==e||!E)s[t]=p}else t&&(s[t]=u)},requirejs=require=n=function(s,o,a,f,l){if(typeof s=="string")return i[s]?i[s](o):g(r(s,o).f);if(!s.splice){u=s,u.deps&&n(u.deps,u.callback);if(!o)return;o.splice?(s=o,o=a,a=null):s=e}return o=o||function(){},typeof a=="function"&&(a=f,f=l),f?t(e,s,o,a):setTimeout(function(){t(e,s,o,a)},4),n},n.config=function(e){return n(e)},requirejs._defined=s,define=function(e,t,n){if(typeof e!="string")throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),!h(s,e)&&!h(o,e)&&(o[e]=[e,t,n])},define.amd={jQuery:!0}})(),define("vendor/node_modules/almond/almond",function(){}),function(e,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}(typeof window!="undefined"?window:this,function(window,noGlobal){function isArrayLike(e){var t=!!e&&"length"in e&&e.length,n=jQuery.type(e);return n==="function"||jQuery.isWindow(e)?!1:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function winnow(e,t,n){if(jQuery.isFunction(t))return jQuery.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return jQuery.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(risSimple.test(t))return jQuery.filter(t,e,n);t=jQuery.filter(t,e)}return jQuery.grep(e,function(e){return indexOf.call(t,e)>-1!==n})}function sibling(e,t){while((e=e[t])&&e.nodeType!==1);return e}function createOptions(e){var t={};return jQuery.each(e.match(rnotwhite)||[],function(e,n){t[n]=!0}),t}function completed(){document.removeEventListener("DOMContentLoaded",completed),window.removeEventListener("load",completed),jQuery.ready()}function Data(){this.expando=jQuery.expando+Data.uid++}function dataAttr(e,t,n){var r;if(n===undefined&&e.nodeType===1){r="data-"+t.replace(rmultiDash,"-$&").toLowerCase(),n=e.getAttribute(r);if(typeof n=="string"){try{n=n==="true"?!0:n==="false"?!1:n==="null"?null:+n+""===n?+n:rbrace.test(n)?jQuery.parseJSON(n):n}catch(i){}dataUser.set(e,t,n)}else n=undefined}return n}function adjustCSS(e,t,n,r){var i,s=1,o=20,u=r?function(){return r.cur()}:function(){return jQuery.css(e,t,"")},a=u(),f=n&&n[3]||(jQuery.cssNumber[t]?"":"px"),l=(jQuery.cssNumber[t]||f!=="px"&&+a)&&rcssNum.exec(jQuery.css(e,t));if(l&&l[3]!==f){f=f||l[3],n=n||[],l=+a||1;do s=s||".5",l/=s,jQuery.style(e,t,l+f);while(s!==(s=u()/a)&&s!==1&&--o)}return n&&(l=+l||+a||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=f,r.start=l,r.end=i)),i}function getAll(e,t){var n=typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll(t||"*"):[];return t===undefined||t&&jQuery.nodeName(e,t)?jQuery.merge([e],n):n}function setGlobalEval(e,t){var n=0,r=e.length;for(;n<r;n++)dataPriv.set(e[n],"globalEval",!t||dataPriv.get(t[n],"globalEval"))}function buildFragment(e,t,n,r,i){var s,o,u,a,f,l,c=t.createDocumentFragment(),h=[],p=0,d=e.length;for(;p<d;p++){s=e[p];if(s||s===0)if(jQuery.type(s)==="object")jQuery.merge(h,s.nodeType?[s]:s);else if(!rhtml.test(s))h.push(t.createTextNode(s));else{o=o||c.appendChild(t.createElement("div")),u=(rtagName.exec(s)||["",""])[1].toLowerCase(),a=wrapMap[u]||wrapMap._default,o.innerHTML=a[1]+jQuery.htmlPrefilter(s)+a[2],l=a[0];while(l--)o=o.lastChild;jQuery.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}}c.textContent="",p=0;while(s=h[p++]){if(r&&jQuery.inArray(s,r)>-1){i&&i.push(s);continue}f=jQuery.contains(s.ownerDocument,s),o=getAll(c.appendChild(s),"script"),f&&setGlobalEval(o);if(n){l=0;while(s=o[l++])rscriptType.test(s.type||"")&&n.push(s)}}return c}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(e){}}function on(e,t,n,r,i,s){var o,u;if(typeof t=="object"){typeof n!="string"&&(r=r||n,n=undefined);for(u in t)on(e,u,n,r,t[u],s);return e}r==null&&i==null?(i=n,r=n=undefined):i==null&&(typeof n=="string"?(i=r,r=undefined):(i=r,r=n,n=undefined));if(i===!1)i=returnFalse;else if(!i)return e;return s===1&&(o=i,i=function(e){return jQuery().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=jQuery.guid++)),e.each(function(){jQuery.event.add(this,t,i,r,n)})}function manipulationTarget(e,t){return jQuery.nodeName(e,"table")&&jQuery.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function disableScript(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function restoreScript(e){var t=rscriptTypeMasked.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function cloneCopyEvent(e,t){var n,r,i,s,o,u,a,f;if(t.nodeType!==1)return;if(dataPriv.hasData(e)){s=dataPriv.access(e),o=dataPriv.set(t,s),f=s.events;if(f){delete o.handle,o.events={};for(i in f)for(n=0,r=f[i].length;n<r;n++)jQuery.event.add(t,i,f[i][n])}}dataUser.hasData(e)&&(u=dataUser.access(e),a=jQuery.extend({},u),dataUser.set(t,a))}function fixInput(e,t){var n=t.nodeName.toLowerCase();if(n==="input"&&rcheckableType.test(e.type))t.checked=e.checked;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function domManip(e,t,n,r){t=concat.apply([],t);var i,s,o,u,a,f,l=0,c=e.length,h=c-1,p=t[0],d=jQuery.isFunction(p);if(d||c>1&&typeof p=="string"&&!support.checkClone&&rchecked.test(p))return e.each(function(i){var s=e.eq(i);d&&(t[0]=p.call(this,i,s.html())),domManip(s,t,n,r)});if(c){i=buildFragment(t,e[0].ownerDocument,!1,e,r),s=i.firstChild,i.childNodes.length===1&&(i=s);if(s||r){o=jQuery.map(getAll(i,"script"),disableScript),u=o.length;for(;l<c;l++)a=i,l!==h&&(a=jQuery.clone(a,!0,!0),u&&jQuery.merge(o,getAll(a,"script"))),n.call(e[l],a,l);if(u){f=o[o.length-1].ownerDocument,jQuery.map(o,restoreScript);for(l=0;l<u;l++)a=o[l],rscriptType.test(a.type||"")&&!dataPriv.access(a,"globalEval")&&jQuery.contains(f,a)&&(a.src?jQuery._evalUrl&&jQuery._evalUrl(a.src):jQuery.globalEval(a.textContent.replace(rcleanScript,"")))}}}return e}function remove(e,t,n){var r,i=t?jQuery.filter(t,e):e,s=0;for(;(r=i[s])!=null;s++)!n&&r.nodeType===1&&jQuery.cleanData(getAll(r)),r.parentNode&&(n&&jQuery.contains(r.ownerDocument,r)&&setGlobalEval(getAll(r,"script")),r.parentNode.removeChild(r));return e}function actualDisplay(e,t){var n=jQuery(t.createElement(e)).appendTo(t.body),r=jQuery.css(n[0],"display");return n.detach(),r}function defaultDisplay(e){var t=document,n=elemdisplay[e];if(!n){n=actualDisplay(e,t);if(n==="none"||!n)iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=iframe[0].contentDocument,t.write(),t.close(),n=actualDisplay(e,t),iframe.detach();elemdisplay[e]=n}return n}function curCSS(e,t,n){var r,i,s,o,u=e.style;return n=n||getStyles(e),o=n?n.getPropertyValue(t)||n[t]:undefined,(o===""||o===undefined)&&!jQuery.contains(e.ownerDocument,e)&&(o=jQuery.style(e,t)),n&&!support.pixelMarginRight()&&rnumnonpx.test(o)&&rmargin.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s),o!==undefined?o+"":o}function addGetHookIf(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function vendorPropName(e){if(e in emptyStyle)return e;var t=e[0].toUpperCase()+e.slice(1),n=cssPrefixes.length;while(n--){e=cssPrefixes[n]+t;if(e in emptyStyle)return e}}function setPositiveNumber(e,t,n){var r=rcssNum.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function augmentWidthOrHeight(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=jQuery.css(e,n+cssExpand[s],!0,i)),r?(n==="content"&&(o-=jQuery.css(e,"padding"+cssExpand[s],!0,i)),n!=="margin"&&(o-=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i))):(o+=jQuery.css(e,"padding"+cssExpand[s],!0,i),n!=="padding"&&(o+=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i)));return o}function getWidthOrHeight(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=getStyles(e),o=jQuery.css(e,"boxSizing",!1,s)==="border-box";document.msFullscreenElement&&window.top!==window&&e.getClientRects().length&&(i=Math.round(e.getBoundingClientRect()[t]*100));if(i<=0||i==null){i=curCSS(e,t,s);if(i<0||i==null)i=e.style[t];if(rnumnonpx.test(i))return i;r=o&&(support.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+augmentWidthOrHeight(e,t,n||(o?"border":"content"),r,s)+"px"}function showHide(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=dataPriv.get(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&isHidden(r)&&(s[o]=dataPriv.access(r,"olddisplay",defaultDisplay(r.nodeName)))):(i=isHidden(r),(n!=="none"||!i)&&dataPriv.set(r,"olddisplay",i?n:jQuery.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function Tween(e,t,n,r,i){return new Tween.prototype.init(e,t,n,r,i)}function createFxNow(){return window.setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function genFx(e,t){var n,r=0,i={height:e};t=t?1:0;for(;r<4;r+=2-t)n=cssExpand[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function createTween(e,t,n){var r,i=(Animation.tweeners[t]||[]).concat(Animation.tweeners["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function defaultPrefilter(e,t,n){var r,i,s,o,u,a,f,l,c=this,h={},p=e.style,d=e.nodeType&&isHidden(e),v=dataPriv.get(e,"fxshow");n.queue||(u=jQuery._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,c.always(function(){c.always(function(){u.unqueued--,jQuery.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],f=jQuery.css(e,"display"),l=f==="none"?dataPriv.get(e,"olddisplay")||defaultDisplay(e.nodeName):f,l==="inline"&&jQuery.css(e,"float")==="none"&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){i=t[r];if(rfxtypes.exec(i)){delete t[r],s=s||i==="toggle";if(i===(d?"hide":"show")){if(i!=="show"||!v||v[r]===undefined)continue;d=!0}h[r]=v&&v[r]||jQuery.style(e,r)}else f=undefined}if(!jQuery.isEmptyObject(h)){v?"hidden"in v&&(d=v.hidden):v=dataPriv.access(e,"fxshow",{}),s&&(v.hidden=!d),d?jQuery(e).show():c.done(function(){jQuery(e).hide()}),c.done(function(){var t;dataPriv.remove(e,"fxshow");for(t in h)jQuery.style(e,t,h[t])});for(r in h)o=createTween(d?v[r]:0,r,c),r in v||(v[r]=o.start,d&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}else(f==="none"?defaultDisplay(e.nodeName):f)==="inline"&&(p.display=f)}function propFilter(e,t){var n,r,i,s,o;for(n in e){r=jQuery.camelCase(n),i=t[r],s=e[n],jQuery.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=jQuery.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Animation(e,t,n){var r,i,s=0,o=Animation.prefilters.length,u=jQuery.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=fxNow||createFxNow(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:jQuery.extend({},t),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},n),originalProperties:t,originalOptions:n,startTime:fxNow||createFxNow(),duration:n.duration,tweens:[],createTween:function(t,n){var r=jQuery.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?(u.notifyWith(e,[f,1,0]),u.resolveWith(e,[f,t])):u.rejectWith(e,[f,t]),this}}),l=f.props;propFilter(l,f.opts.specialEasing);for(;s<o;s++){r=Animation.prefilters[s].call(f,e,l,f.opts);if(r)return jQuery.isFunction(r.stop)&&(jQuery._queueHooks(f.elem,f.opts.queue).stop=jQuery.proxy(r.stop,r)),r}return jQuery.map(l,createTween,f),jQuery.isFunction(f.opts.start)&&f.opts.start.call(e,f),jQuery.fx.timer(jQuery.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function getClass(e){return e.getAttribute&&e.getAttribute("class")||""}function addToPrefiltersOrTransports(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function inspectPrefiltersOrTransports(e,t,n,r){function o(u){var a;return i[u]=!0,jQuery.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===transports;return o(t.dataTypes[0])||!i["*"]&&o("*")}function ajaxExtend(e,t){var n,r,i=jQuery.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&jQuery.extend(!0,e,r),e}function ajaxHandleResponses(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while(a[0]==="*")a.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==a[0]&&a.unshift(s),n[s]}function ajaxConvert(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function buildParams(e,t,n,r){var i;if(jQuery.isArray(t))jQuery.each(t,function(t,i){n||rbracket.test(e)?r(e,i):buildParams(e+"["+(typeof i=="object"&&i!=null?t:"")+"]",i,n,r)});else if(!n&&jQuery.type(t)==="object")for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}function getWindow(e){return jQuery.isWindow(e)?e:e.nodeType===9&&e.defaultView}var arr=[],document=window.document,slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},version="2.2.2",jQuery=function(e,t){return new jQuery.fn.init(e,t)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(e,t){return t.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(e){return e!=null?e<0?this[e+this.length]:this[e]:slice.call(this)},pushStack:function(e){var t=jQuery.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return jQuery.each(this,e)},map:function(e){return this.pushStack(jQuery.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[u]||{},u++),typeof o!="object"&&!jQuery.isFunction(o)&&(o={}),u===a&&(o=this,u--);for(;u<a;u++)if((e=arguments[u])!=null)for(t in e){n=o[t],r=e[t];if(o===r)continue;f&&r&&(jQuery.isPlainObject(r)||(i=jQuery.isArray(r)))?(i?(i=!1,s=n&&jQuery.isArray(n)?n:[]):s=n&&jQuery.isPlainObject(n)?n:{},o[t]=jQuery.extend(f,s,r)):r!==undefined&&(o[t]=r)}return o},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return jQuery.type(e)==="function"},isArray:Array.isArray,isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!jQuery.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if(jQuery.type(e)!=="object"||e.nodeType||jQuery.isWindow(e))return!1;if(e.constructor&&!hasOwn.call(e,"constructor")&&!hasOwn.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return t===undefined||hasOwn.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?class2type[toString.call(e)]||"object":typeof e},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(code.indexOf("use strict")===1?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(e){return e.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(isArrayLike(e)){n=e.length;for(;r<n;r++)if(t.call(e[r],r,e[r])===!1)break}else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return e==null?"":(e+"").replace(rtrim,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(isArrayLike(Object(e))?jQuery.merge(n,typeof e=="string"?[e]:e):push.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:indexOf.call(t,e,n)},merge:function(e,t){var n=+t.length,r=0,i=e.length;for(;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length,u=!n;for(;s<o;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,i,s=0,o=[];if(isArrayLike(e)){r=e.length;for(;s<r;s++)i=t(e[s],s,n),i!=null&&o.push(i)}else for(s in e)i=t(e[s],s,n),i!=null&&o.push(i);return concat.apply([],o)},guid:1,proxy:function(e,t){var n,r,i;return typeof t=="string"&&(n=e[t],t=e,e=n),jQuery.isFunction(e)?(r=slice.call(arguments,2),i=function(){return e.apply(t||this,r.concat(slice.call(arguments)))},i.guid=e.guid=e.guid||jQuery.guid++,i):undefined},now:Date.now,support:support}),typeof Symbol=="function"&&(jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){class2type["[object "+t+"]"]=t.toLowerCase()});var Sizzle=function(e){function st(e,t,r,i){var s,u,f,l,c,d,g,y,S=t&&t.ownerDocument,x=t?t.nodeType:9;r=r||[];if(typeof e!="string"||!e||x!==1&&x!==9&&x!==11)return r;if(!i){(t?t.ownerDocument||t:E)!==p&&h(t),t=t||p;if(v){if(x!==11&&(d=Y.exec(e)))if(s=d[1]){if(x===9){if(!(f=t.getElementById(s)))return r;if(f.id===s)return r.push(f),r}else if(S&&(f=S.getElementById(s))&&b(t,f)&&f.id===s)return r.push(f),r}else{if(d[2])return D.apply(r,t.getElementsByTagName(e)),r;if((s=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(r,t.getElementsByClassName(s)),r}if(n.qsa&&!C[e+" "]&&(!m||!m.test(e))){if(x!==1)S=t,y=e;else if(t.nodeName.toLowerCase()!=="object"){(l=t.getAttribute("id"))?l=l.replace(et,"\\$&"):t.setAttribute("id",l=w),g=o(e),u=g.length,c=$.test(l)?"#"+l:"[id='"+l+"']";while(u--)g[u]=c+" "+mt(g[u]);y=g.join(","),S=Z.test(e)&&dt(t.parentNode)||t}if(y)try{return D.apply(r,S.querySelectorAll(y)),r}catch(T){}finally{l===w&&t.removeAttribute("id")}}}}return a(e.replace(U,"$1"),t,r,i)}function ot(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function ut(e){return e[w]=!0,e}function at(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ft(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function lt(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||L)-(~e.sourceIndex||L);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function pt(e){return ut(function(t){return t=+t,ut(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function dt(e){return e&&typeof e.getElementsByTagName!="undefined"&&e}function vt(){}function mt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function gt(e,t,n){var r=t.dir,i=n&&r==="parentNode",s=x++;return t.first?function(t,n,s){while(t=t[r])if(t.nodeType===1||i)return e(t,n,s)}:function(t,n,o){var u,a,f,l=[S,s];if(o){while(t=t[r])if(t.nodeType===1||i)if(e(t,n,o))return!0}else while(t=t[r])if(t.nodeType===1||i){f=t[w]||(t[w]={}),a=f[t.uniqueID]||(f[t.uniqueID]={});if((u=a[r])&&u[0]===S&&u[1]===s)return l[2]=u[2];a[r]=l;if(l[2]=e(t,n,o))return!0}}}function yt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function bt(e,t,n){var r=0,i=t.length;for(;r<i;r++)st(e,t[r],n);return n}function wt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function Et(e,t,n,r,i,s){return r&&!r[w]&&(r=Et(r)),i&&!i[w]&&(i=Et(i,s)),ut(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||bt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?wt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?H(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):D.apply(o,g)})}function St(e){var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=gt(function(e){return e===t},u,!0),c=gt(function(e){return H(t,e)>-1},u,!0),h=[function(e,n,r){var i=!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r));return t=null,i}];for(;a<s;a++)if(n=r.relative[e[a].type])h=[gt(yt(h),n)];else{n=r.filter[e[a].type].apply(null,e[a].matches);if(n[w]){i=++a;for(;i<s;i++)if(r.relative[e[i].type])break;return Et(a>1&&yt(h),a>1&&mt(e.slice(0,a-1).concat({value:e[a-2].type===" "?"*":""})).replace(U,"$1"),n,a<i&&St(e.slice(a,i)),i<s&&St(e=e.slice(i)),i<s&&mt(e))}h.push(n)}return yt(h)}function xt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,d,m,g=0,y="0",b=s&&[],w=[],E=f,x=s||i&&r.find.TAG("*",l),T=S+=E==null?1:Math.random()||.1,N=x.length;l&&(f=o===p||o||l);for(;y!==N&&(c=x[y])!=null;y++){if(i&&c){d=0,!o&&c.ownerDocument!==p&&(h(c),u=!v);while(m=e[d++])if(m(c,o||p,u)){a.push(c);break}l&&(S=T)}n&&((c=!m&&c)&&g--,s&&b.push(c))}g+=y;if(n&&y!==g){d=0;while(m=t[d++])m(b,w,o,u);if(s){if(g>0)while(y--)!b[y]&&!w[y]&&(w[y]=M.call(a));w=wt(w)}D.apply(a,w),l&&!s&&w.length>0&&g+t.length>1&&st.uniqueSort(a)}return l&&(S=T,f=E),b};return n?ut(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+1*new Date,E=e.document,S=0,x=0,T=ot(),N=ot(),C=ot(),k=function(e,t){return e===t&&(c=!0),0},L=1<<31,A={}.hasOwnProperty,O=[],M=O.pop,_=O.push,D=O.push,P=O.slice,H=function(e,t){var n=0,r=e.length;for(;n<r;n++)if(e[n]===t)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",I="\\["+j+"*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+j+"*\\]",q=":("+F+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|"+".*"+")\\)|)",R=new RegExp(j+"+","g"),U=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),z=new RegExp("^"+j+"*,"+j+"*"),W=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),X=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),V=new RegExp(q),$=new RegExp("^"+F+"$"),J={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,et=/'|\\/g,tt=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),nt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)},rt=function(){h()};try{D.apply(O=P.call(E.childNodes),E.childNodes),O[E.childNodes.length].nodeType}catch(it){D={apply:O.length?function(e,t){_.apply(e,P.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=st.support={},s=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},h=st.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:E;if(o===p||o.nodeType!==9||!o.documentElement)return p;p=o,d=p.documentElement,v=!s(p),(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",rt,!1):i.attachEvent&&i.attachEvent("onunload",rt)),n.attributes=at(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=at(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=G.test(p.getElementsByClassName),n.getById=at(function(e){return d.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!="undefined"&&v){var n=t.getElementById(e);return n?[n]:[]}},r.filter.ID=function(e){var t=e.replace(tt,nt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(tt,nt);return function(e){var n=typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!="undefined")return t.getElementsByTagName(e);if(n.qsa)return t.querySelectorAll(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!="undefined"&&v)return t.getElementsByClassName(e)},g=[],m=[];if(n.qsa=G.test(p.querySelectorAll))at(function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a>"+"<select id='"+w+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+B+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),at(function(e){var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")});return(n.matchesSelector=G.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&at(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",q)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=G.test(d.compareDocumentPosition),b=t||G.test(d.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===E&&b(E,e)?-1:t===p||t.ownerDocument===E&&b(E,t)?1:l?H(l,e)-H(l,t):0:r&4?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,o=[e],u=[t];if(!i||!s)return e===p?-1:t===p?1:i?-1:s?1:l?H(l,e)-H(l,t):0;if(i===s)return lt(e,t);n=e;while(n=n.parentNode)o.unshift(n);n=t;while(n=n.parentNode)u.unshift(n);while(o[r]===u[r])r++;return r?lt(o[r],u[r]):o[r]===E?-1:u[r]===E?1:0},p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){(e.ownerDocument||e)!==p&&h(e),t=t.replace(X,"='$1']");if(n.matchesSelector&&v&&!C[t+" "]&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11)return r}catch(i){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},st.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):undefined;return s!==undefined?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},st.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,r=[],i=0,s=0;c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k);if(c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=st.getText=function(e){var t,n="",r=0,s=e.nodeType;if(!s)while(t=e[r++])n+=i(t);else if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(s===3||s===4)return e.nodeValue;return n},r=st.selectors={cacheLength:50,createPseudo:ut,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(tt,nt),e[3]=(e[3]||e[4]||e[5]||"").replace(tt,nt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(tt,nt).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&T(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!="undefined"&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i.replace(R," ")+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u,b=!1;if(m){if(s){while(v){h=t;while(h=h[v])if(u?h.nodeName.toLowerCase()===g:h.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){h=m,c=h[w]||(h[w]={}),l=c[h.uniqueID]||(c[h.uniqueID]={}),f=l[e]||[],p=f[0]===S&&f[1],b=p&&f[2],h=p&&m.childNodes[p];while(h=++p&&h&&h[v]||(b=p=0)||d.pop())if(h.nodeType===1&&++b&&h===t){l[e]=[S,p,b];break}}else{y&&(h=t,c=h[w]||(h[w]={}),l=c[h.uniqueID]||(c[h.uniqueID]={}),f=l[e]||[],p=f[0]===S&&f[1],b=p);if(b===!1)while(h=++p&&h&&h[v]||(b=p=0)||d.pop())if((u?h.nodeName.toLowerCase()===g:h.nodeType===1)&&++b){y&&(c=h[w]||(h[w]={}),l=c[h.uniqueID]||(c[h.uniqueID]={}),l[e]=[S,b]);if(h===t)break}}return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ut(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=H(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ut(function(e){var t=[],n=[],r=u(e.replace(U,"$1"));return r[w]?ut(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}}),has:ut(function(e){return function(t){return st(e,t).length>0}}),contains:ut(function(e){return e=e.replace(tt,nt),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ut(function(e){return $.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(tt,nt).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[n<0?n+t:n]}),even:pt(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:pt(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ht(t);return vt.prototype=r.filters=r.pseudos,r.setFilters=new vt,o=st.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){if(!n||(i=z.exec(u)))i&&(u=u.slice(i[0].length)||u),a.push(s=[]);n=!1;if(i=W.exec(u))n=i.shift(),s.push({value:n,type:i[0].replace(U," ")}),u=u.slice(n.length);for(o in r.filter)(i=J[o].exec(u))&&(!f[o]||(i=f[o](i)))&&(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?st.error(e):N(e,a).slice(0)},u=st.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=St(t[n]),s[w]?r.push(s):i.push(s);s=C(e,xt(i,r)),s.selector=e}return s},a=st.select=function(e,t,i,s){var a,f,l,c,h,p=typeof e=="function"&&e,d=!s&&o(e=p.selector||e);i=i||[];if(d.length===1){f=d[0]=d[0].slice(0);if(f.length>2&&(l=f[0]).type==="ID"&&n.getById&&t.nodeType===9&&v&&r.relative[f[1].type]){t=(r.find.ID(l.matches[0].replace(tt,nt),t)||[])[0];if(!t)return i;p&&(t=t.parentNode),e=e.slice(f.shift().value.length)}a=J.needsContext.test(e)?0:f.length;while(a--){l=f[a];if(r.relative[c=l.type])break;if(h=r.find[c])if(s=h(l.matches[0].replace(tt,nt),Z.test(f[0].type)&&dt(t.parentNode)||t)){f.splice(a,1),e=s.length&&mt(f);if(!e)return D.apply(i,s),i;break}}}return(p||u(e,d))(s,t,!v,i,!t||Z.test(e)&&dt(t.parentNode)||t),i},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=at(function(e){return e.compareDocumentPosition(p.createElement("div"))&1}),at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||ft("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!n.attributes||!at(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&ft("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),at(function(e){return e.getAttribute("disabled")==null})||ft(B,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),st}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var dir=function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&e.nodeType!==9)if(e.nodeType===1){if(i&&jQuery(e).is(n))break;r.push(e)}return r},siblings=function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n},rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?jQuery.find.matchesSelector(r,e)?[r]:[]:jQuery.find.matches(e,jQuery.grep(t,function(e){return e.nodeType===1}))},jQuery.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if(typeof e!="string")return this.pushStack(jQuery(e).filter(function(){for(t=0;t<n;t++)if(jQuery.contains(i[t],this))return!0}));for(t=0;t<n;t++)jQuery.find(e,i[t],r);return r=this.pushStack(n>1?jQuery.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(winnow(this,e||[],!1))},not:function(e){return this.pushStack(winnow(this,e||[],!0))},is:function(e){return!!winnow(this,typeof e=="string"&&rneedsContext.test(e)?jQuery(e):e||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(e,t,n){var r,i;if(!e)return this;n=n||rootjQuery;if(typeof e=="string"){e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?r=[null,e,null]:r=rquickExpr.exec(e);if(r&&(r[1]||!t)){if(r[1]){t=t instanceof jQuery?t[0]:t,jQuery.merge(this,jQuery.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:document,!0));if(rsingleTag.test(r[1])&&jQuery.isPlainObject(t))for(r in t)jQuery.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=document.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=document,this.selector=e,this}return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):jQuery.isFunction(e)?n.ready!==undefined?n.ready(e):e(jQuery):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),jQuery.makeArray(e,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({has:function(e){var t=jQuery(e,this),n=t.length;return this.filter(function(){var e=0;for(;e<n;e++)if(jQuery.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o=rneedsContext.test(e)||typeof e!="string"?jQuery(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&jQuery.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?jQuery.uniqueSort(s):s)},index:function(e){return e?typeof e=="string"?indexOf.call(jQuery(e),this[0]):indexOf.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),jQuery.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return dir(e,"parentNode")},parentsUntil:function(e,t,n){return dir(e,"parentNode",n)},next:function(e){return sibling(e,"nextSibling")},prev:function(e){return sibling(e,"previousSibling")},nextAll:function(e){return dir(e,"nextSibling")},prevAll:function(e){return dir(e,"previousSibling")},nextUntil:function(e,t,n){return dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return dir(e,"previousSibling",n)},siblings:function(e){return siblings((e.parentNode||{}).firstChild,e)},children:function(e){return siblings(e.firstChild)},contents:function(e){return e.contentDocument||jQuery.merge([],e.childNodes)}},function(e,t){jQuery.fn[e]=function(n,r){var i=jQuery.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=jQuery.filter(r,i)),this.length>1&&(guaranteedUnique[e]||jQuery.uniqueSort(i),rparentsprev.test(e)&&i.reverse()),this.pushStack(i)}});var rnotwhite=/\S+/g;jQuery.Callbacks=function(e){e=typeof e=="string"?createOptions(e):jQuery.extend({},e);var t,n,r,i,s=[],o=[],u=-1,a=function(){i=e.once,r=t=!0;for(;o.length;u=-1){n=o.shift();while(++u<s.length)s[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=s.length,n=!1)}e.memory||(n=!1),t=!1,i&&(n?s=[]:s="")},f={add:function(){return s&&(n&&!t&&(u=s.length-1,o.push(n)),function r(t){jQuery.each(t,function(t,n){jQuery.isFunction(n)?(!e.unique||!f.has(n))&&s.push(n):n&&n.length&&jQuery.type(n)!=="string"&&r(n)})}(arguments),n&&!t&&a()),this},remove:function(){return jQuery.each(arguments,function(e,t){var n;while((n=jQuery.inArray(t,s,n))>-1)s.splice(n,1),n<=u&&u--}),this},has:function(e){return e?jQuery.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=o=[],s=n="",this},disabled:function(){return!s},lock:function(){return i=o=[],n||(s=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],o.push(n),t||a()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},jQuery.extend({Deferred:function(e){var t=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return jQuery.Deferred(function(n){jQuery.each(t,function(t,s){var o=jQuery.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&jQuery.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?jQuery.extend(e,r):r}},i={};return r.pipe=r.then,jQuery.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=slice.call(arguments),r=n.length,i=r!==1||e&&jQuery.isFunction(e.promise)?r:0,s=i===1?e:jQuery.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?slice.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&jQuery.isFunction(n[t].promise)?n[t].promise().progress(o(t,a,u)).done(o(t,f,n)).fail(s.reject):--i}return i||s.resolveWith(f,n),s.promise()}});var readyList;jQuery.fn.ready=function(e){return jQuery.ready.promise().done(e),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(e){e?jQuery.readyWait++:jQuery.ready(!0)},ready:function(e){if(e===!0?--jQuery.readyWait:jQuery.isReady)return;jQuery.isReady=!0;if(e!==!0&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready"))}}),jQuery.ready.promise=function(e){return readyList||(readyList=jQuery.Deferred(),document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?window.setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed),window.addEventListener("load",completed))),readyList.promise(e)},jQuery.ready.promise();var access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=n==null;if(jQuery.type(n)==="object"){i=!0;for(u in n)access(e,t,u,n[u],!0,s,o)}else if(r!==undefined){i=!0,jQuery.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(jQuery(e),n)}));if(t)for(;u<a;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)))}return i?e:f?t.call(e):a?t(e[0],n):s},acceptData=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};Data.uid=1,Data.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!acceptData(e))return{};var t=e[this.expando];return t||(t={},acceptData(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if(typeof t=="string")i[t]=n;else for(r in t)i[r]=t[r];return i},get:function(e,t){return t===undefined?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return t===undefined||t&&typeof t=="string"&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,jQuery.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,s=e[this.expando];if(s===undefined)return;if(t===undefined)this.register(e);else{jQuery.isArray(t)?r=t.concat(t.map(jQuery.camelCase)):(i=jQuery.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(rnotwhite)||[])),n=r.length;while(n--)delete s[r[n]]}if(t===undefined||jQuery.isEmptyObject(s))e.nodeType?e[this.expando]=undefined:delete e[this.expando]},hasData:function(e){var t=e[this.expando];return t!==undefined&&!jQuery.isEmptyObject(t)}};var dataPriv=new Data,dataUser=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;jQuery.extend({hasData:function(e){return dataUser.hasData(e)||dataPriv.hasData(e)},data:function(e,t,n){return dataUser.access(e,t,n)},removeData:function(e,t){dataUser.remove(e,t)},_data:function(e,t,n){return dataPriv.access(e,t,n)},_removeData:function(e,t){dataPriv.remove(e,t)}}),jQuery.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(e===undefined){if(this.length){i=dataUser.get(s);if(s.nodeType===1&&!dataPriv.get(s,"hasDataAttrs")){n=o.length;while(n--)o[n]&&(r=o[n].name,r.indexOf("data-")===0&&(r=jQuery.camelCase(r.slice(5)),dataAttr(s,r,i[r])));dataPriv.set(s,"hasDataAttrs",!0)}}return i}return typeof e=="object"?this.each(function(){dataUser.set(this,e)}):access(this,function(t){var n,r;if(s&&t===undefined){n=dataUser.get(s,e)||dataUser.get(s,e.replace(rmultiDash,"-$&").toLowerCase());if(n!==undefined)return n;r=jQuery.camelCase(e),n=dataUser.get(s,r);if(n!==undefined)return n;n=dataAttr(s,r,undefined);if(n!==undefined)return n;return}r=jQuery.camelCase(e),this.each(function(){var n=dataUser.get(this,r);dataUser.set(this,r,t),e.indexOf("-")>-1&&n!==undefined&&dataUser.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){dataUser.remove(this,e)})}}),jQuery.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=dataPriv.get(e,t),n&&(!r||jQuery.isArray(n)?r=dataPriv.access(e,t,jQuery.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=jQuery.queue(e,t),r=n.length,i=n.shift(),s=jQuery._queueHooks(e,t),o=function(){jQuery.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return dataPriv.get(e,n)||dataPriv.access(e,n,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(e,[t+"queue",n])})})}}),jQuery.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?jQuery.queue(this[0],e):t===undefined?this:this.each(function(){var n=jQuery.queue(this,e,t);jQuery._queueHooks(this,e),e==="fx"&&n[0]!=="inprogress"&&jQuery.dequeue(this,e)})},dequeue:function(e){return this.each(function(){jQuery.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=jQuery.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};typeof e!="string"&&(t=e,e=undefined),e=e||"fx";while(o--)n=dataPriv.get(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),cssExpand=["Top","Right","Bottom","Left"],isHidden=function(e,t){return e=t||e,jQuery.css(e,"display")==="none"||!jQuery.contains(e.ownerDocument,e)},rcheckableType=/^(?:checkbox|radio)$/i,rtagName=/<([\w:-]+)/,rscriptType=/^$|\/(?:java|ecma)script/i,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var rhtml=/<|&#?\w+;/;(function(){var e=document.createDocumentFragment(),t=e.appendChild(document.createElement("div")),n=document.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),support.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;jQuery.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=dataPriv.get(e);if(!m)return;n.handler&&(s=n,n=s.handler,i=s.selector),n.guid||(n.guid=jQuery.guid++),(a=m.events)||(a=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof jQuery!="undefined"&&jQuery.event.triggered!==t.type?jQuery.event.dispatch.apply(e,arguments):undefined}),t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p)continue;c=jQuery.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=jQuery.event.special[p]||{},l=jQuery.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&jQuery.expr.match.needsContext.test(i),namespace:d.join(".")},s),(h=a[p])||(h=a[p]=[],h.delegateCount=0,(!c.setup||c.setup.call(e,r,d,o)===!1)&&e.addEventListener&&e.addEventListener(p,o)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),jQuery.event.global[p]=!0}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=dataPriv.hasData(e)&&dataPriv.get(e);if(!m||!(a=m.events))return;t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in a)jQuery.event.remove(e,p+t[f],n,r,!0);continue}c=jQuery.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],(i||v===l.origType)&&(!n||n.guid===l.guid)&&(!u||u.test(l.namespace))&&(!r||r===l.selector||r==="**"&&l.selector)&&(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&jQuery.removeEvent(e,p,m.handle),delete a[p])}jQuery.isEmptyObject(a)&&dataPriv.remove(e,"handle events")},dispatch:function(e){e=jQuery.event.fix(e);var t,n,r,i,s,o=[],u=slice.call(arguments),a=(dataPriv.get(this,"events")||{})[e.type]||[],f=jQuery.event.special[e.type]||{};u[0]=e,e.delegateTarget=this;if(f.preDispatch&&f.preDispatch.call(this,e)===!1)return;o=jQuery.event.handlers.call(this,e,a),t=0;while((i=o[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((s=i.handlers[n++])&&!e.isImmediatePropagationStopped())if(!e.rnamespace||e.rnamespace.test(s.namespace))e.handleObj=s,e.data=s.data,r=((jQuery.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,u),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return f.postDispatch&&f.postDispatch.call(this,e),e.result},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(e.type!=="click"||isNaN(e.button)||e.button<1))for(;a!==this;a=a.parentNode||this)if(a.nodeType===1&&(a.disabled!==!0||e.type!=="click")){r=[];for(n=0;n<u;n++)s=t[n],i=s.selector+" ",r[i]===undefined&&(r[i]=s.needsContext?jQuery(i,this).index(a)>-1:jQuery.find(i,this,null,[a]).length),r[i]&&r.push(s);r.length&&o.push({elem:a,handlers:r})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return e.pageX==null&&t.clientX!=null&&(n=e.target.ownerDocument||document,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.which&&s!==undefined&&(e.which=s&1?1:s&2?3:s&4?2:0),e}},fix:function(e){if(e[jQuery.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=rmouseEvent.test(i)?this.mouseHooks:rkeyEvent.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new jQuery.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=document),e.target.nodeType===3&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(e){return jQuery.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},jQuery.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},jQuery.Event=function(e,t){if(!(this instanceof jQuery.Event))return new jQuery.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===!1?returnTrue:returnFalse):this.type=e,t&&jQuery.extend(this,t),this.timeStamp=e&&e.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){jQuery.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!jQuery.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),jQuery.fn.extend({on:function(e,t,n,r){return on(this,e,t,n,r)},one:function(e,t,n,r){return on(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,jQuery(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(i in e)this.off(i,t,e[i]);return this}if(t===!1||typeof t=="function")n=t,t=undefined;return n===!1&&(n=returnFalse),this.each(function(){jQuery.event.remove(this,e,n,t)})}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;jQuery.extend({htmlPrefilter:function(e){return e.replace(rxhtmlTag,"<$1></$2>")},clone:function(e,t,n){var r,i,s,o,u=e.cloneNode(!0),a=jQuery.contains(e.ownerDocument,e);if(!support.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!jQuery.isXMLDoc(e)){o=getAll(u),s=getAll(e);for(r=0,i=s.length;r<i;r++)fixInput(s[r],o[r])}if(t)if(n){s=s||getAll(e),o=o||getAll(u);for(r=0,i=s.length;r<i;r++)cloneCopyEvent(s[r],o[r])}else cloneCopyEvent(e,u);return o=getAll(u,"script"),o.length>0&&setGlobalEval(o,!a&&getAll(e,"script")),u},cleanData:function(e){var t,n,r,i=jQuery.event.special,s=0;for(;(n=e[s])!==undefined;s++)if(acceptData(n)){if(t=n[dataPriv.expando]){if(t.events)for(r in t.events)i[r]?jQuery.event.remove(n,r):jQuery.removeEvent(n,r,t.handle);n[dataPriv.expando]=undefined}n[dataUser.expando]&&(n[dataUser.expando]=undefined)}}}),jQuery.fn.extend({domManip:domManip,detach:function(e){return remove(this,e,!0)},remove:function(e){return remove(this,e)},text:function(e){return access(this,function(e){return e===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9)this.textContent=e})},null,e,arguments.length)},append:function(){return domManip(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.appendChild(e)}})},prepend:function(){return domManip(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return domManip(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return domManip(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++)e.nodeType===1&&(jQuery.cleanData(getAll(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return jQuery.clone(this,e,t)})},html:function(e){return access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&t.nodeType===1)return t.innerHTML;if(typeof e=="string"&&!rnoInnerhtml.test(e)&&!wrapMap[(rtagName.exec(e)||["",""])[1].toLowerCase()]){e=jQuery.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},t.nodeType===1&&(jQuery.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return domManip(this,arguments,function(t){var n=this.parentNode;jQuery.inArray(this,e)<0&&(jQuery.cleanData(getAll(this)),n&&n.replaceChild(t,this))},e)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){jQuery.fn[e]=function(e){var n,r=[],i=jQuery(e),s=i.length-1,o=0;for(;o<=s;o++)n=o===s?this:this.clone(!0),jQuery(i[o])[t](n),push.apply(r,n.get());return this.pushStack(r)}});var iframe,elemdisplay={HTML:"block",BODY:"block"},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(e){var t=e.ownerDocument.defaultView;if(!t||!t.opener)t=window;return t.getComputedStyle(e)},swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i},documentElement=document.documentElement;(function(){function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",documentElement.appendChild(i);var o=window.getComputedStyle(s);e=o.top!=="1%",r=o.marginLeft==="2px",t=o.width==="4px",s.style.marginRight="50%",n=o.marginRight==="4px",documentElement.removeChild(i)}var e,t,n,r,i=document.createElement("div"),s=document.createElement("div");if(!s.style)return;s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle=s.style.backgroundClip==="content-box",i.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",i.appendChild(s),jQuery.extend(support,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return t==null&&o(),t},pixelMarginRight:function(){return t==null&&o(),n},reliableMarginLeft:function(){return t==null&&o(),r},reliableMarginRight:function(){var e,t=s.appendChild(document.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",documentElement.appendChild(i),e=!parseFloat(window.getComputedStyle(t).marginRight),documentElement.removeChild(i),s.removeChild(t),e}})})();var rdisplayswap=/^(none|table(?!-c[ea]).+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"],emptyStyle=document.createElement("div").style;jQuery.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=curCSS(e,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var i,s,o,u=jQuery.camelCase(t),a=e.style;t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(u)||u),o=jQuery.cssHooks[t]||jQuery.cssHooks[u];if(n===undefined)return o&&"get"in o&&(i=o.get(e,!1,r))!==undefined?i:a[t];s=typeof n,s==="string"&&(i=rcssNum.exec(n))&&i[1]&&(n=adjustCSS(e,t,i),s="number");if(n==null||n!==n)return;s==="number"&&(n+=i&&i[3]||(jQuery.cssNumber[u]?"":"px")),!support.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(a[t]="inherit");if(!o||!("set"in o)||(n=o.set(e,n,r))!==undefined)a[t]=n},css:function(e,t,n,r){var i,s,o,u=jQuery.camelCase(t);return t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(u)||u),o=jQuery.cssHooks[t]||jQuery.cssHooks[u],o&&"get"in o&&(i=o.get(e,!0,n)),i===undefined&&(i=curCSS(e,t,r)),i==="normal"&&t in cssNormalTransform&&(i=cssNormalTransform[t]),n===""||n?(s=parseFloat(i),n===!0||isFinite(s)?s||0:i):i}}),jQuery.each(["height","width"],function(e,t){jQuery.cssHooks[t]={get:function(e,n,r){if(n)return rdisplayswap.test(jQuery.css(e,"display"))&&e.offsetWidth===0?swap(e,cssShow,function(){return getWidthOrHeight(e,t,r)}):getWidthOrHeight(e,t,r)},set:function(e,n,r){var i,s=r&&getStyles(e),o=r&&augmentWidthOrHeight(e,t,r,jQuery.css(e,"boxSizing",!1,s)==="border-box",s);return o&&(i=rcssNum.exec(n))&&(i[3]||"px")!=="px"&&(e.style[t]=n,n=jQuery.css(e,t)),setPositiveNumber(e,n,o)}}}),jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(e,t){if(t)return(parseFloat(curCSS(e,"marginLeft"))||e.getBoundingClientRect().left-swap(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(e,t){if(t)return swap(e,{display:"inline-block"},curCSS,[e,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(e,t){jQuery.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+cssExpand[r]+t]=s[r]||s[r-2]||s[0];return i}},rmargin.test(e)||(jQuery.cssHooks[e+t].set=setPositiveNumber)}),jQuery.fn.extend({css:function(e,t){return access(this,function(e,t,n){var r,i,s={},o=0;if(jQuery.isArray(t)){r=getStyles(e),i=t.length;for(;o<i;o++)s[t[o]]=jQuery.css(e,t[o],!1,r);return s}return n!==undefined?jQuery.style(e,t,n):jQuery.css(e,t)},e,t,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||jQuery.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(jQuery.cssNumber[n]?"":"px")},cur:function(){var e=Tween.propHooks[this.prop];return e&&e.get?e.get(this):Tween.propHooks._default.get(this)},run:function(e){var t,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=t=jQuery.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(e){var t;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(t=jQuery.css(e.elem,e.prop,""),!t||t==="auto"?0:t)},set:function(e){jQuery.fx.step[e.prop]?jQuery.fx.step[e.prop](e):e.elem.nodeType!==1||e.elem.style[jQuery.cssProps[e.prop]]==null&&!jQuery.cssHooks[e.prop]?e.elem[e.prop]=e.now:jQuery.style(e.elem,e.prop,e.now+e.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},jQuery.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return adjustCSS(n.elem,e,rcssNum.exec(t),n),n}]},tweener:function(e,t){jQuery.isFunction(e)?(t=e,e=["*"]):e=e.match(rnotwhite);var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Animation.tweeners[n]=Animation.tweeners[n]||[],Animation.tweeners[n].unshift(t)},prefilters:[defaultPrefilter],prefilter:function(e,t){t?Animation.prefilters.unshift(e):Animation.prefilters.push(e)}}),jQuery.speed=function(e,t,n){var r=e&&typeof e=="object"?jQuery.extend({},e):{complete:n||!n&&t||jQuery.isFunction(e)&&e,duration:e,easing:n&&t||t&&!jQuery.isFunction(t)&&t};r.duration=jQuery.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in jQuery.fx.speeds?jQuery.fx.speeds[r.duration]:jQuery.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){jQuery.isFunction(r.old)&&r.old.call(this),r.queue&&jQuery.dequeue(this,r.queue)},r},jQuery.fn.extend({fadeTo:function(e,t,n,r){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=jQuery.isEmptyObject(e),s=jQuery.speed(t,n,r),o=function(){var t=Animation(this,jQuery.extend({},e),s);(i||dataPriv.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return typeof e!="string"&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=e!=null&&e+"queueHooks",s=jQuery.timers,o=dataPriv.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&rrun.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem===this&&(e==null||s[i].queue===e)&&(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&jQuery.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=dataPriv.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=jQuery.timers,o=r?r.length:0;n.finish=!0,jQuery.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),jQuery.each(["toggle","show","hide"],function(e,t){var n=jQuery.fn[t];jQuery.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(genFx(t,!0),e,r,i)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){jQuery.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),jQuery.timers=[],jQuery.fx.tick=function(){var e,t=0,n=jQuery.timers;fxNow=jQuery.now();for(;t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(e){jQuery.timers.push(e),e()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=window.setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){window.clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(e,t){return e=jQuery.fx?jQuery.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=window.setTimeout(t,e);n.stop=function(){window.clearTimeout(r)}})},function(){var e=document.createElement("input"),t=document.createElement("select"),n=t.appendChild(document.createElement("option"));e.type="checkbox",support.checkOn=e.value!=="",support.optSelected=n.selected,t.disabled=!0,support.optDisabled=!n.disabled,e=document.createElement("input"),e.value="t",e.type="radio",support.radioValue=e.value==="t"}();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(e,t){return access(this,jQuery.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){jQuery.removeAttr(this,e)})}}),jQuery.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(s===3||s===8||s===2)return;if(typeof e.getAttribute=="undefined")return jQuery.prop(e,t,n);if(s!==1||!jQuery.isXMLDoc(e))t=t.toLowerCase(),i=jQuery.attrHooks[t]||(jQuery.expr.match.bool.test(t)?boolHook:undefined);if(n!==undefined){if(n===null){jQuery.removeAttr(e,t);return}return i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:(e.setAttribute(t,n+""),n)}return i&&"get"in i&&(r=i.get(e,t))!==null?r:(r=jQuery.find.attr(e,t),r==null?undefined:r)},attrHooks:{type:{set:function(e,t){if(!support.radioValue&&t==="radio"&&jQuery.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(rnotwhite);if(s&&e.nodeType===1)while(n=s[i++])r=jQuery.propFix[n]||n,jQuery.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),boolHook={set:function(e,t,n){return t===!1?jQuery.removeAttr(e,n):e.setAttribute(n,n),n}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(e,t){var n=attrHandle[t]||jQuery.find.attr;attrHandle[t]=function(e,t,r){var i,s;return r||(s=attrHandle[t],attrHandle[t]=i,i=n(e,t,r)!=null?t.toLowerCase():null,attrHandle[t]=s),i}});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(e,t){return access(this,jQuery.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[jQuery.propFix[e]||e]})}}),jQuery.extend({prop:function(e,t,n){var r,i,s=e.nodeType;if(s===3||s===8||s===2)return;if(s!==1||!jQuery.isXMLDoc(e))t=jQuery.propFix[t]||t,i=jQuery.propHooks[t];return n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&(r=i.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=jQuery.find.attr(e,"tabindex");return t?parseInt(t,10):rfocusable.test(e.nodeName)||rclickable.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),support.optSelected||(jQuery.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(e){var t,n,r,i,s,o,u,a=0;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).addClass(e.call(this,t,getClass(this)))});if(typeof e=="string"&&e){t=e.match(rnotwhite)||[];while(n=this[a++]){i=getClass(n),r=n.nodeType===1&&(" "+i+" ").replace(rclass," ");if(r){o=0;while(s=t[o++])r.indexOf(" "+s+" ")<0&&(r+=s+" ");u=jQuery.trim(r),i!==u&&n.setAttribute("class",u)}}}return this},removeClass:function(e){var t,n,r,i,s,o,u,a=0;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).removeClass(e.call(this,t,getClass(this)))});if(!arguments.length)return this.attr("class","");if(typeof e=="string"&&e){t=e.match(rnotwhite)||[];while(n=this[a++]){i=getClass(n),r=n.nodeType===1&&(" "+i+" ").replace(rclass," ");if(r){o=0;while(s=t[o++])while(r.indexOf(" "+s+" ")>-1)r=r.replace(" "+s+" "," ");u=jQuery.trim(r),i!==u&&n.setAttribute("class",u)}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):jQuery.isFunction(e)?this.each(function(n){jQuery(this).toggleClass(e.call(this,n,getClass(this),t),t)}):this.each(function(){var t,r,i,s;if(n==="string"){r=0,i=jQuery(this),s=e.match(rnotwhite)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else if(e===undefined||n==="boolean")t=getClass(this),t&&dataPriv.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":dataPriv.get(this,"__className__")||"")})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(n.nodeType===1&&(" "+getClass(n)+" ").replace(rclass," ").indexOf(t)>-1)return!0;return!1}});var rreturn=/\r/g,rspaces=/[\x20\t\r\n\f]+/g;jQuery.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length){if(i)return t=jQuery.valHooks[i.type]||jQuery.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,typeof n=="string"?n.replace(rreturn,""):n==null?"":n);return}return r=jQuery.isFunction(e),this.each(function(n){var i;if(this.nodeType!==1)return;r?i=e.call(this,n,jQuery(this).val()):i=e,i==null?i="":typeof i=="number"?i+="":jQuery.isArray(i)&&(i=jQuery.map(i,function(e){return e==null?"":e+""})),t=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined)this.value=i})}}),jQuery.extend({valHooks:{option:{get:function(e){var t=jQuery.find.attr(e,"value");return t!=null?t:jQuery.trim(jQuery.text(e)).replace(rspaces," ")}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!jQuery.nodeName(n.parentNode,"optgroup"))){t=jQuery(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=jQuery.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=jQuery.inArray(jQuery.valHooks.option.get(r),s)>-1)n=!0}return n||(e.selectedIndex=-1),s}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(e,t){if(jQuery.isArray(t))return e.checked=jQuery.inArray(jQuery(e).val(),t)>-1}},support.checkOn||(jQuery.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/;jQuery.extend(jQuery.event,{trigger:function(e,t,n,r){var i,s,o,u,a,f,l,c=[n||document],h=hasOwn.call(e,"type")?e.type:e,p=hasOwn.call(e,"namespace")?e.namespace.split("."):[];s=o=n=n||document;if(n.nodeType===3||n.nodeType===8)return;if(rfocusMorph.test(h+jQuery.event.triggered))return;h.indexOf(".")>-1&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,e=e[jQuery.expando]?e:new jQuery.Event(h,typeof e=="object"&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=t==null?[e]:jQuery.makeArray(t,[e]),l=jQuery.event.special[h]||{};if(!r&&l.trigger&&l.trigger.apply(n,t)===!1)return;if(!r&&!l.noBubble&&!jQuery.isWindow(n)){u=l.delegateType||h,rfocusMorph.test(u+h)||(s=s.parentNode);for(;s;s=s.parentNode)c.push(s),o=s;o===(n.ownerDocument||document)&&c.push(o.defaultView||o.parentWindow||window)}i=0;while((s=c[i++])&&!e.isPropagationStopped())e.type=i>1?u:l.bindType||h,f=(dataPriv.get(s,"events")||{})[e.type]&&dataPriv.get(s,"handle"),f&&f.apply(s,t),f=a&&s[a],f&&f.apply&&acceptData(s)&&(e.result=f.apply(s,t),e.result===!1&&e.preventDefault());return e.type=h,!r&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(c.pop(),t)===!1)&&acceptData(n)&&a&&jQuery.isFunction(n[h])&&!jQuery.isWindow(n)&&(o=n[a],o&&(n[a]=null),jQuery.event.triggered=h,n[h](),jQuery.event.triggered=undefined,o&&(n[a]=o)),e.result},simulate:function(e,t,n){var r=jQuery.extend(new jQuery.Event,n,{type:e,isSimulated:!0});jQuery.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}}),jQuery.fn.extend({trigger:function(e,t){return this.each(function(){jQuery.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return jQuery.event.trigger(e,t,n,!0)}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){jQuery.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),jQuery.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),support.focusin="onfocusin"in window,support.focusin||jQuery.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){jQuery.event.simulate(t,e.target,jQuery.event.fix(e))};jQuery.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=dataPriv.access(r,t);i||r.addEventListener(e,n,!0),dataPriv.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=dataPriv.access(r,t)-1;i?dataPriv.access(r,t,i):(r.removeEventListener(e,n,!0),dataPriv.remove(r,t))}}});var location=window.location,nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(e){return JSON.parse(e+"")},jQuery.parseXML=function(e){var t;if(!e||typeof e!="string")return null;try{t=(new window.DOMParser).parseFromString(e,"text/xml")}catch(n){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+e),t};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");originAnchor.href=location.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:rlocalProtocol.test(location.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ajaxExtend(ajaxExtend(e,jQuery.ajaxSettings),t):ajaxExtend(jQuery.ajaxSettings,e)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(e,t){function S(e,t,s,u){var f,m,g,b,E,S=t;if(y===2)return;y=2,o&&window.clearTimeout(o),n=undefined,i=u||"",w.readyState=e>0?4:0,f=e>=200&&e<300||e===304,s&&(b=ajaxHandleResponses(l,w,s)),b=ajaxConvert(l,b,w,f);if(f)l.ifModified&&(E=w.getResponseHeader("Last-Modified"),E&&(jQuery.lastModified[r]=E),E=w.getResponseHeader("etag"),E&&(jQuery.etag[r]=E)),e===204||l.type==="HEAD"?S="nocontent":e===304?S="notmodified":(S=b.state,m=b.data,g=b.error,f=!g);else{g=S;if(e||!S)S="error",e<0&&(e=0)}w.status=e,w.statusText=(t||S)+"",f?p.resolveWith(c,[m,S,w]):p.rejectWith(c,[w,S,g]),w.statusCode(v),v=undefined,a&&h.trigger(f?"ajaxSuccess":"ajaxError",[w,l,f?m:g]),d.fireWith(c,[w,S]),a&&(h.trigger("ajaxComplete",[w,l]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}typeof e=="object"&&(t=e,e=undefined),t=t||{};var n,r,i,s,o,u,a,f,l=jQuery.ajaxSetup({},t),c=l.context||l,h=l.context&&(c.nodeType||c.jquery)?jQuery(c):jQuery.event,p=jQuery.Deferred(),d=jQuery.Callbacks("once memory"),v=l.statusCode||{},m={},g={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(y===2){if(!s){s={};while(t=rheaders.exec(i))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return y===2?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=g[n]=g[n]||e,m[e]=t),this},overrideMimeType:function(e){return y||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),S(0,t),this}};p.promise(w).complete=d.add,w.success=w.done,w.error=w.fail,l.url=((e||l.url||location.href)+"").replace(rhash,"").replace(rprotocol,location.protocol+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=jQuery.trim(l.dataType||"*").toLowerCase().match(rnotwhite)||[""];if(l.crossDomain==null){u=document.createElement("a");try{u.href=l.url,u.href=u.href,l.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=u.protocol+"//"+u.host}catch(E){l.crossDomain=!0}}l.data&&l.processData&&typeof l.data!="string"&&(l.data=jQuery.param(l.data,l.traditional)),inspectPrefiltersOrTransports(prefilters,l,t,w);if(y===2)return w;a=jQuery.event&&l.global,a&&jQuery.active++===0&&jQuery.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rnoContent.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(rquery.test(r)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=rts.test(r)?r.replace(rts,"$1_="+nonce++):r+(rquery.test(r)?"&":"?")+"_="+nonce++)),l.ifModified&&(jQuery.lastModified[r]&&w.setRequestHeader("If-Modified-Since",jQuery.lastModified[r]),jQuery.etag[r]&&w.setRequestHeader("If-None-Match",jQuery.etag[r])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):l.accepts["*"]);for(f in l.headers)w.setRequestHeader(f,l.headers[f]);if(!l.beforeSend||l.beforeSend.call(c,w,l)!==!1&&y!==2){b="abort";for(f in{success:1,error:1,complete:1})w[f](l[f]);n=inspectPrefiltersOrTransports(transports,l,t,w);if(!n)S(-1,"No Transport");else{w.readyState=1,a&&h.trigger("ajaxSend",[w,l]);if(y===2)return w;l.async&&l.timeout>0&&(o=window.setTimeout(function(){w.abort("timeout")},l.timeout));try{y=1,n.send(m,S)}catch(E){if(!(y<2))throw E;S(-1,E)}}return w}return w.abort()},getJSON:function(e,t,n){return jQuery.get(e,t,n,"json")},getScript:function(e,t){return jQuery.get(e,undefined,t,"script")}}),jQuery.each(["get","post"],function(e,t){jQuery[t]=function(e,n,r,i){return jQuery.isFunction(n)&&(i=i||r,r=n,n=undefined),jQuery.ajax(jQuery.extend({url:e,type:t,dataType:i,data:n,success:r},jQuery.isPlainObject(e)&&e))}}),jQuery._evalUrl=function(e){return jQuery.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(e){var t;return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapAll(e.call(this,t))}):(this[0]&&(t=jQuery(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapInner(e.call(this,t))}):this.each(function(){var t=jQuery(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=jQuery.isFunction(e);return this.each(function(n){jQuery(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(e){return!jQuery.expr.filters.visible(e)},jQuery.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(e,t){var n,r=[],i=function(e,t){t=jQuery.isFunction(t)?t():t==null?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};t===undefined&&(t=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional);if(jQuery.isArray(e)||e.jquery&&!jQuery.isPlainObject(e))jQuery.each(e,function(){i(this.name,this.value)});else for(n in e)buildParams(n,e[n],t,i);return r.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=jQuery.prop(this,"elements");return e?jQuery.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var n=jQuery(this).val();return n==null?null:jQuery.isArray(n)?jQuery.map(n,function(e){return{name:t.name,value:e.replace(rCRLF,"\r\n")}}):{name:t.name,value:n.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(e){var t,n;if(support.cors||xhrSupported&&!e.crossDomain)return{send:function(r,i){var s,o=e.xhr();o.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields)for(s in e.xhrFields)o[s]=e.xhrFields[s];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),!e.crossDomain&&!r["X-Requested-With"]&&(r["X-Requested-With"]="XMLHttpRequest");for(s in r)o.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=n=o.onload=o.onerror=o.onabort=o.onreadystatechange=null,e==="abort"?o.abort():e==="error"?typeof o.status!="number"?i(0,"error"):i(o.status,o.statusText):i(xhrSuccessStatus[o.status]||o.status,o.statusText,(o.responseType||"text")!=="text"||typeof o.responseText!="string"?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=t(),n=o.onerror=t("error"),o.onabort!==undefined?o.onabort=n:o.onreadystatechange=function(){o.readyState===4&&window.setTimeout(function(){t&&n()})},t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(u){if(t)throw u}},abort:function(){t&&t()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return jQuery.globalEval(e),e}}}),jQuery.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),jQuery.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=jQuery("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i(e.type==="error"?404:200,e.type)}),document.head.appendChild(t[0])},abort:function(){n&&n()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[e]=!0,e}}),jQuery.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,s,o=e.jsonp!==!1&&(rjsonp.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&rjsonp.test(e.data)&&"data");if(o||e.dataTypes[0]==="jsonp")return r=e.jsonpCallback=jQuery.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(rjsonp,"$1"+r):e.jsonp!==!1&&(e.url+=(rquery.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||jQuery.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){s=arguments},n.always(function(){i===undefined?jQuery(window).removeProp(r):window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,oldCallbacks.push(r)),s&&jQuery.isFunction(i)&&i(s[0]),s=i=undefined}),"script"}),jQuery.parseHTML=function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||document;var r=rsingleTag.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=buildFragment([e],t,i),i&&i.length&&jQuery(i).remove(),jQuery.merge([],r.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(e,t,n){if(typeof e!="string"&&_load)return _load.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>-1&&(r=jQuery.trim(e.slice(u)),e=e.slice(0,u)),jQuery.isFunction(t)?(n=t,t=undefined):t&&typeof t=="object"&&(i="POST"),o.length>0&&jQuery.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?jQuery("<div>").append(jQuery.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(o,s||[e.responseText,t,e])})}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){jQuery.fn[t]=function(e){return this.on(t,e)}}),jQuery.expr.filters.animated=function(e){return jQuery.grep(jQuery.timers,function(t){return e===t.elem}).length},jQuery.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=jQuery.css(e,"position"),c=jQuery(e),h={};l==="static"&&(e.style.position="relative"),u=c.offset(),s=jQuery.css(e,"top"),a=jQuery.css(e,"left"),f=(l==="absolute"||l==="fixed")&&(s+a).indexOf("auto")>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),jQuery.isFunction(t)&&(t=t.call(e,n,jQuery.extend({},u))),t.top!=null&&(h.top=t.top-u.top+o),t.left!=null&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},jQuery.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){jQuery.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},s=r&&r.ownerDocument;if(!s)return;return t=s.documentElement,jQuery.contains(t,r)?(i=r.getBoundingClientRect(),n=getWindow(s),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(!this[0])return;var e,t,n=this[0],r={top:0,left:0};return jQuery.css(n,"position")==="fixed"?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),jQuery.nodeName(e[0],"html")||(r=e.offset()),r.top+=jQuery.css(e[0],"borderTopWidth",!0),r.left+=jQuery.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-jQuery.css(n,"marginTop",!0),left:t.left-r.left-jQuery.css(n,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&jQuery.css(e,"position")==="static")e=e.offsetParent;return e||documentElement})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;jQuery.fn[e]=function(r){return access(this,function(e,r,i){var s=getWindow(e);if(i===undefined)return s?s[t]:e[r];s?s.scrollTo(n?s.pageXOffset:i,n?i:s.pageYOffset):e[r]=i},e,r,arguments.length)}}),jQuery.each(["top","left"],function(e,t){jQuery.cssHooks[t]=addGetHookIf(support.pixelPosition,function(e,n){if(n)return n=curCSS(e,t),rnumnonpx.test(n)?jQuery(e).position()[t]+"px":n})}),jQuery.each({Height:"height",Width:"width"},function(e,t){jQuery.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){jQuery.fn[r]=function(r,i){var s=arguments.length&&(n||typeof r!="boolean"),o=n||(r===!0||i===!0?"margin":"border");return access(this,function(t,n,r){var i;return jQuery.isWindow(t)?t.document.documentElement["client"+e]:t.nodeType===9?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?jQuery.css(t,n,o):jQuery.style(t,n,r,o)},t,s?r:undefined,s,null)}})}),jQuery.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),jQuery.fn.andSelf=jQuery.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(e){return window.$===jQuery&&(window.$=_$),e&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},noGlobal||(window.jQuery=window.$=jQuery),jQuery}),function(){function x(e){function t(t,n,r,i,s,o){for(;s>=0&&s<o;s+=e){var u=i?i[s]:s;r=n(r,t[u],u,t)}return r}return function(n,r,i,s){r=v(r,s,4);var o=!S(n)&&d.keys(n),u=(o||n).length,a=e>0?0:u-1;return arguments.length<3&&(i=n[o?o[a]:a],a+=e),t(n,r,i,o,a,u)}}function C(e){return function(t,n,r){n=m(n,r);var i=E(t),s=e>0?0:i-1;for(;s>=0&&s<i;s+=e)if(n(t[s],s,t))return s;return-1}}function k(e,t,n){return function(r,i,s){var u=0,a=E(r);if(typeof s=="number")e>0?u=s>=0?s:Math.max(s+a,u):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=t(o.call(r,u,a),d.isNaN),s>=0?s+u:-1;for(s=e>0?u:a-1;s>=0&&s<a;s+=e)if(r[s]===i)return s;return-1}}function M(e,t){var n=O.length,i=e.constructor,s=d.isFunction(i)&&i.prototype||r,o="constructor";d.has(e,o)&&!d.contains(t,o)&&t.push(o);while(n--)o=O[n],o in e&&e[o]!==s[o]&&!d.contains(t,o)&&t.push(o)}var e=this,t=e._,n=Array.prototype,r=Object.prototype,i=Function.prototype,s=n.push,o=n.slice,u=r.toString,a=r.hasOwnProperty,f=Array.isArray,l=Object.keys,c=i.bind,h=Object.create,p=function(){},d=function(e){if(e instanceof d)return e;if(!(this instanceof d))return new d(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=d),exports._=d):e._=d,d.VERSION="1.8.3";var v=function(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return function(){return e.apply(t,arguments)}},m=function(e,t,n){return e==null?d.identity:d.isFunction(e)?v(e,t,n):d.isObject(e)?d.matcher(e):d.property(e)};d.iteratee=function(e,t){return m(e,t,Infinity)};var g=function(e,t){return function(n){var r=arguments.length;if(r<2||n==null)return n;for(var i=1;i<r;i++){var s=arguments[i],o=e(s),u=o.length;for(var a=0;a<u;a++){var f=o[a];if(!t||n[f]===void 0)n[f]=s[f]}}return n}},y=function(e){if(!d.isObject(e))return{};if(h)return h(e);p.prototype=e;var t=new p;return p.prototype=null,t},b=function(e){return function(t){return t==null?void 0:t[e]}},w=Math.pow(2,53)-1,E=b("length"),S=function(e){var t=E(e);return typeof t=="number"&&t>=0&&t<=w};d.each=d.forEach=function(e,t,n){t=v(t,n);var r,i;if(S(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var s=d.keys(e);for(r=0,i=s.length;r<i;r++)t(e[s[r]],s[r],e)}return e},d.map=d.collect=function(e,t,n){t=m(t,n);var r=!S(e)&&d.keys(e),i=(r||e).length,s=Array(i);for(var o=0;o<i;o++){var u=r?r[o]:o;s[o]=t(e[u],u,e)}return s},d.reduce=d.foldl=d.inject=x(1),d.reduceRight=d.foldr=x(-1),d.find=d.detect=function(e,t,n){var r;S(e)?r=d.findIndex(e,t,n):r=d.findKey(e,t,n);if(r!==void 0&&r!==-1)return e[r]},d.filter=d.select=function(e,t,n){var r=[];return t=m(t,n),d.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},d.reject=function(e,t,n){return d.filter(e,d.negate(m(t)),n)},d.every=d.all=function(e,t,n){t=m(t,n);var r=!S(e)&&d.keys(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(!t(e[o],o,e))return!1}return!0},d.some=d.any=function(e,t,n){t=m(t,n);var r=!S(e)&&d.keys(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(t(e[o],o,e))return!0}return!1},d.contains=d.includes=d.include=function(e,t,n,r){S(e)||(e=d.values(e));if(typeof n!="number"||r)n=0;return d.indexOf(e,t,n)>=0},d.invoke=function(e,t){var n=o.call(arguments,2),r=d.isFunction(t);return d.map(e,function(e){var i=r?t:e[t];return i==null?i:i.apply(e,n)})},d.pluck=function(e,t){return d.map(e,d.property(t))},d.where=function(e,t){return d.filter(e,d.matcher(t))},d.findWhere=function(e,t){return d.find(e,d.matcher(t))},d.max=function(e,t,n){var r=-Infinity,i=-Infinity,s,o;if(t==null&&e!=null){e=S(e)?e:d.values(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s>r&&(r=s)}else t=m(t,n),d.each(e,function(e,n,s){o=t(e,n,s);if(o>i||o===-Infinity&&r===-Infinity)r=e,i=o});return r},d.min=function(e,t,n){var r=Infinity,i=Infinity,s,o;if(t==null&&e!=null){e=S(e)?e:d.values(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s<r&&(r=s)}else t=m(t,n),d.each(e,function(e,n,s){o=t(e,n,s);if(o<i||o===Infinity&&r===Infinity)r=e,i=o});return r},d.shuffle=function(e){var t=S(e)?e:d.values(e),n=t.length,r=Array(n);for(var i=0,s;i<n;i++)s=d.random(0,i),s!==i&&(r[i]=r[s]),r[s]=t[i];return r},d.sample=function(e,t,n){return t==null||n?(S(e)||(e=d.values(e)),e[d.random(e.length-1)]):d.shuffle(e).slice(0,Math.max(0,t))},d.sortBy=function(e,t,n){return t=m(t,n),d.pluck(d.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=m(n,r),d.each(t,function(r,s){var o=n(r,s,t);e(i,r,o)}),i}};d.groupBy=T(function(e,t,n){d.has(e,n)?e[n].push(t):e[n]=[t]}),d.indexBy=T(function(e,t,n){e[n]=t}),d.countBy=T(function(e,t,n){d.has(e,n)?e[n]++:e[n]=1}),d.toArray=function(e){return e?d.isArray(e)?o.call(e):S(e)?d.map(e,d.identity):d.values(e):[]},d.size=function(e){return e==null?0:S(e)?e.length:d.keys(e).length},d.partition=function(e,t,n){t=m(t,n);var r=[],i=[];return d.each(e,function(e,n,s){(t(e,n,s)?r:i).push(e)}),[r,i]},d.first=d.head=d.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:d.initial(e,e.length-t)},d.initial=function(e,t,n){return o.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))},d.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:d.rest(e,Math.max(0,e.length-t))},d.rest=d.tail=d.drop=function(e,t,n){return o.call(e,t==null||n?1:t)},d.compact=function(e){return d.filter(e,d.identity)};var N=function(e,t,n,r){var i=[],s=0;for(var o=r||0,u=E(e);o<u;o++){var a=e[o];if(S(a)&&(d.isArray(a)||d.isArguments(a))){t||(a=N(a,t,n));var f=0,l=a.length;i.length+=l;while(f<l)i[s++]=a[f++]}else n||(i[s++]=a)}return i};d.flatten=function(e,t){return N(e,t,!1)},d.without=function(e){return d.difference(e,o.call(arguments,1))},d.uniq=d.unique=function(e,t,n,r){d.isBoolean(t)||(r=n,n=t,t=!1),n!=null&&(n=m(n,r));var i=[],s=[];for(var o=0,u=E(e);o<u;o++){var a=e[o],f=n?n(a,o,e):a;t?((!o||s!==f)&&i.push(a),s=f):n?d.contains(s,f)||(s.push(f),i.push(a)):d.contains(i,a)||i.push(a)}return i},d.union=function(){return d.uniq(N(arguments,!0,!0))},d.intersection=function(e){var t=[],n=arguments.length;for(var r=0,i=E(e);r<i;r++){var s=e[r];if(d.contains(t,s))continue;for(var o=1;o<n;o++)if(!d.contains(arguments[o],s))break;o===n&&t.push(s)}return t},d.difference=function(e){var t=N(arguments,!0,!0,1);return d.filter(e,function(e){return!d.contains(t,e)})},d.zip=function(){return d.unzip(arguments)},d.unzip=function(e){var t=e&&d.max(e,E).length||0,n=Array(t);for(var r=0;r<t;r++)n[r]=d.pluck(e,r);return n},d.object=function(e,t){var n={};for(var r=0,i=E(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},d.findIndex=C(1),d.findLastIndex=C(-1),d.sortedIndex=function(e,t,n,r){n=m(n,r,1);var i=n(t),s=0,o=E(e);while(s<o){var u=Math.floor((s+o)/2);n(e[u])<i?s=u+1:o=u}return s},d.indexOf=k(1,d.findIndex,d.sortedIndex),d.lastIndexOf=k(-1,d.findLastIndex),d.range=function(e,t,n){t==null&&(t=e||0,e=0),n=n||1;var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r);for(var s=0;s<r;s++,e+=n)i[s]=e;return i};var L=function(e,t,n,r,i){if(r instanceof t){var s=y(e.prototype),o=e.apply(s,i);return d.isObject(o)?o:s}return e.apply(n,i)};d.bind=function(e,t){if(c&&e.bind===c)return c.apply(e,o.call(arguments,1));if(!d.isFunction(e))throw new TypeError("Bind must be called on a function");var n=o.call(arguments,2),r=function(){return L(e,r,t,this,n.concat(o.call(arguments)))};return r},d.partial=function(e){var t=o.call(arguments,1),n=function(){var r=0,i=t.length,s=Array(i);for(var o=0;o<i;o++)s[o]=t[o]===d?arguments[r++]:t[o];while(r<arguments.length)s.push(arguments[r++]);return L(e,n,this,this,s)};return n},d.bindAll=function(e){var t,n=arguments.length,r;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)r=arguments[t],e[r]=d.bind(e[r],e);return e},d.memoize=function(e,t){var n=function(r){var i=n.cache,s=""+(t?t.apply(this,arguments):r);return d.has(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return n.cache={},n},d.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},d.defer=d.partial(d.delay,d,1),d.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:d.now(),o=null,s=e.apply(r,i),o||(r=i=null)};return function(){var f=d.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),u=f,s=e.apply(r,i),o||(r=i=null)):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},d.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=d.now()-o;f<t&&f>=0?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),r||(s=i=null)))};return function(){s=this,i=arguments,o=d.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},d.wrap=function(e,t){return d.partial(t,e)},d.negate=function(e){return function(){return!e.apply(this,arguments)}},d.compose=function(){var e=arguments,t=e.length-1;return function(){var n=t,r=e[t].apply(this,arguments);while(n--)r=e[n].call(this,r);return r}},d.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},d.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},d.once=d.partial(d.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];d.keys=function(e){if(!d.isObject(e))return[];if(l)return l(e);var t=[];for(var n in e)d.has(e,n)&&t.push(n);return A&&M(e,t),t},d.allKeys=function(e){if(!d.isObject(e))return[];var t=[];for(var n in e)t.push(n);return A&&M(e,t),t},d.values=function(e){var t=d.keys(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},d.mapObject=function(e,t,n){t=m(t,n);var r=d.keys(e),i=r.length,s={},o;for(var u=0;u<i;u++)o=r[u],s[o]=t(e[o],o,e);return s},d.pairs=function(e){var t=d.keys(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},d.invert=function(e){var t={},n=d.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},d.functions=d.methods=function(e){var t=[];for(var n in e)d.isFunction(e[n])&&t.push(n);return t.sort()},d.extend=g(d.allKeys),d.extendOwn=d.assign=g(d.keys),d.findKey=function(e,t,n){t=m(t,n);var r=d.keys(e),i;for(var s=0,o=r.length;s<o;s++){i=r[s];if(t(e[i],i,e))return i}},d.pick=function(e,t,n){var r={},i=e,s,o;if(i==null)return r;d.isFunction(t)?(o=d.allKeys(i),s=v(t,n)):(o=N(arguments,!1,!1,1),s=function(e,t,n){return t in n},i=Object(i));for(var u=0,a=o.length;u<a;u++){var f=o[u],l=i[f];s(l,f,i)&&(r[f]=l)}return r},d.omit=function(e,t,n){if(d.isFunction(t))t=d.negate(t);else{var r=d.map(N(arguments,!1,!1,1),String);t=function(e,t){return!d.contains(r,t)}}return d.pick(e,t,n)},d.defaults=g(d.allKeys,!0),d.create=function(e,t){var n=y(e);return t&&d.extendOwn(n,t),n},d.clone=function(e){return d.isObject(e)?d.isArray(e)?e.slice():d.extend({},e):e},d.tap=function(e,t){return t(e),e},d.isMatch=function(e,t){var n=d.keys(t),r=n.length;if(e==null)return!r;var i=Object(e);for(var s=0;s<r;s++){var o=n[s];if(t[o]!==i[o]||!(o in i))return!1}return!0};var _=function(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return e===t;e instanceof d&&(e=e._wrapped),t instanceof d&&(t=t._wrapped);var i=u.call(e);if(i!==u.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var s=i==="[object Array]";if(!s){if(typeof e!="object"||typeof t!="object")return!1;var o=e.constructor,a=t.constructor;if(o!==a&&!(d.isFunction(o)&&o instanceof o&&d.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];var f=n.length;while(f--)if(n[f]===e)return r[f]===t;n.push(e),r.push(t);if(s){f=e.length;if(f!==t.length)return!1;while(f--)if(!_(e[f],t[f],n,r))return!1}else{var l=d.keys(e),c;f=l.length;if(d.keys(t).length!==f)return!1;while(f--){c=l[f];if(!d.has(t,c)||!_(e[c],t[c],n,r))return!1}}return n.pop(),r.pop(),!0};d.isEqual=function(e,t){return _(e,t)},d.isEmpty=function(e){return e==null?!0:S(e)&&(d.isArray(e)||d.isString(e)||d.isArguments(e))?e.length===0:d.keys(e).length===0},d.isElement=function(e){return!!e&&e.nodeType===1},d.isArray=f||function(e){return u.call(e)==="[object Array]"},d.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},d.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){d["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),d.isArguments(arguments)||(d.isArguments=function(e){return d.has(e,"callee")}),typeof /./!="function"&&typeof Int8Array!="object"&&(d.isFunction=function(e){return typeof e=="function"||!1}),d.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},d.isNaN=function(e){return d.isNumber(e)&&e!==+e},d.isBoolean=function(e){return e===!0||e===!1||u.call(e)==="[object Boolean]"},d.isNull=function(e){return e===null},d.isUndefined=function(e){return e===void 0},d.has=function(e,t){return e!=null&&a.call(e,t)},d.noConflict=function(){return e._=t,this},d.identity=function(e){return e},d.constant=function(e){return function(){return e}},d.noop=function(){},d.property=b,d.propertyOf=function(e){return e==null?function(){}:function(t){return e[t]}},d.matcher=d.matches=function(e){return e=d.extendOwn({},e),function(t){return d.isMatch(t,e)}},d.times=function(e,t,n){var r=Array(Math.max(0,e));t=v(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},d.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},d.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=d.invert(D),H=function(e){var t=function(t){return e[t]},n="(?:"+d.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==null?"":""+e,r.test(e)?e.replace(i,t):e}};d.escape=H(D),d.unescape=H(P),d.result=function(e,t,n){var r=e==null?void 0:e[t];return r===void 0&&(r=n),d.isFunction(r)?r.call(e):r};var B=0;d.uniqueId=function(e){var t=++B+"";return e?e+t:t},d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+F[e]};d.template=function(e,t,n){!t&&n&&(t=n),t=d.defaults({},t,d.templateSettings);var r=RegExp([(t.escape||j).source,(t.interpolate||j).source,(t.evaluate||j).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){return s+=e.slice(i,u).replace(I,q),i=u+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(t.variable||"obj","_",s)}catch(u){throw u.source=s,u}var a=function(e){return o.call(this,e,d)},f=t.variable||"obj";return a.source="function("+f+"){\n"+s+"}",a},d.chain=function(e){var t=d(e);return t._chain=!0,t};var R=function(e,t){return e._chain?d(t).chain():t};d.mixin=function(e){d.each(d.functions(e),function(t){var n=d[t]=e[t];d.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),R(this,n.apply(d,e))}})},d.mixin(d),d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];d.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0],R(this,n)}}),d.each(["concat","join","slice"],function(e){var t=n[e];d.prototype[e]=function(){return R(this,t.apply(this._wrapped,arguments))}}),d.prototype.value=function(){return this._wrapped},d.prototype.valueOf=d.prototype.toJSON=d.prototype.value,d.prototype.toString=function(){return""+this._wrapped},typeof define=="function"&&define.amd&&define("underscore",[],function(){return d})}.call(this),typeof JSON!="object"&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),define("json2",function(){}),function(e){var t=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global;if(typeof define=="function"&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,r,i){t.Backbone=e(t,i,n,r)});else if(typeof exports!="undefined"){var n=require("underscore"),r;try{r=require("jquery")}catch(i){}e(t,exports,n,r)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,n,r){var i=e.Backbone,s=Array.prototype.slice;t.VERSION="1.3.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=function(e,t,r){switch(e){case 1:return function(){return n[t](this[r])};case 2:return function(e){return n[t](this[r],e)};case 3:return function(e,i){return n[t](this[r],a(e,this),i)};case 4:return function(e,i,s){return n[t](this[r],a(e,this),i,s)};default:return function(){var e=s.call(arguments);return e.unshift(this[r]),n[t].apply(n,e)}}},u=function(e,t,r){n.each(t,function(t,i){n[i]&&(e.prototype[i]=o(t,i,r))})},a=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?f(e):n.isString(e)?function(t){return t.get(e)}:e},f=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},l=t.Events={},c=/\s+/,h=function(e,t,r,i,s){var o=0,u;if(r&&typeof r=="object"){i!==void 0&&"context"in s&&s.context===void 0&&(s.context=i);for(u=n.keys(r);o<u.length;o++)t=h(e,t,u[o],r[u[o]],s)}else if(r&&c.test(r))for(u=r.split(c);o<u.length;o++)t=e(t,u[o],i,s);else t=e(t,r,i,s);return t};l.on=function(e,t,n){return p(this,e,t,n)};var p=function(e,t,n,r,i){e._events=h(d,e._events||{},t,n,{context:r,ctx:e,listening:i});if(i){var s=e._listeners||(e._listeners={});s[i.id]=i}return e};l.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[i];if(!o){var u=this._listenId||(this._listenId=n.uniqueId("l"));o=s[i]={obj:e,objId:i,id:u,listeningTo:s,count:0}}return p(e,t,r,this,o),this};var d=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),s=r.context,o=r.ctx,u=r.listening;u&&u.count++,i.push({callback:n,context:s,ctx:s||o,listening:u})}return e};l.off=function(e,t,n){return this._events?(this._events=h(v,this._events,e,t,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;var s=e?[e._listenId]:n.keys(i);for(var o=0;o<s.length;o++){var u=i[s[o]];if(!u)break;u.obj.off(t,r,this)}return this};var v=function(e,t,r,i){if(!e)return;var s=0,o,u=i.context,a=i.listeners;if(!t&&!r&&!u){var f=n.keys(a);for(;s<f.length;s++)o=a[f[s]],delete a[o.id],delete o.listeningTo[o.objId];return}var l=t?[t]:n.keys(e);for(;s<l.length;s++){t=l[s];var c=e[t];if(!c)break;var h=[];for(var p=0;p<c.length;p++){var d=c[p];r&&r!==d.callback&&r!==d.callback._callback||u&&u!==d.context?h.push(d):(o=d.listening,o&&--o.count===0&&(delete a[o.id],delete o.listeningTo[o.objId]))}h.length?e[t]=h:delete e[t]}return e};l.once=function(e,t,r){var i=h(m,{},e,t,n.bind(this.off,this));return typeof e=="string"&&r==null&&(t=void 0),this.on(i,t,r)},l.listenToOnce=function(e,t,r){var i=h(m,{},t,r,n.bind(this.stopListening,this,e));return this.listenTo(e,i)};var m=function(e,t,r,i){if(r){var s=e[t]=n.once(function(){i(t,s),r.apply(this,arguments)});s._callback=r}return e};l.trigger=function(e){if(!this._events)return this;var t=Math.max(0,arguments.length-1),n=Array(t);for(var r=0;r<t;r++)n[r]=arguments[r+1];return h(g,this._events,e,void 0,n),this};var g=function(e,t,n,r){if(e){var i=e[t],s=e.all;i&&s&&(s=s.slice()),i&&y(i,r),s&&y(s,[t].concat(r))}return e},y=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}};l.bind=l.on,l.unbind=l.off,n.extend(t,l);var b=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(e==null)return this;var i;typeof e=="object"?(i=e,r=t):(i={})[e]=t,r||(r={});if(!this._validate(i,r))return!1;var s=r.unset,o=r.silent,u=[],a=this._changing;this._changing=!0,a||(this._previousAttributes=n.clone(this.attributes),this.changed={});var f=this.attributes,l=this.changed,c=this._previousAttributes;for(var h in i)t=i[h],n.isEqual(f[h],t)||u.push(h),n.isEqual(c[h],t)?delete l[h]:l[h]=t,s?delete f[h]:f[h]=t;this.idAttribute in i&&(this.id=this.get(this.idAttribute));if(!o){u.length&&(this._pending=r);for(var p=0;p<u.length;p++)this.trigger("change:"+u[p],this,f[u[p]],r)}if(a)return this;if(!o)while(this._pending)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes,r={};for(var i in e){var s=e[i];if(n.isEqual(t[i],s))continue;r[i]=s}return n.size(r)?r:!1},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},R(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0,parse:!0},r);var s=r.wait;if(i&&!s){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var o=this,u=r.success,a=this.attributes;r.success=function(e){o.attributes=a;var t=r.parse?o.parse(e,r):e;s&&(t=n.extend({},i,t));if(t&&!o.set(t,r))return!1;u&&u.call(r.context,o,e,r),o.trigger("sync",o,e,r)},R(this,r),i&&s&&(this.attributes=n.extend({},a,i));var f=this.isNew()?"create":r.patch?"patch":"update";f==="patch"&&!r.attrs&&(r.attrs=i);var l=this.sync(f,this,r);return this.attributes=a,l},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,s=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&s(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var o=!1;return this.isNew()?n.defer(e.success):(R(this,e),o=this.sync("delete",this,e)),i||s(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||q();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var w={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};u(b,w,"attributes");var E=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},S={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},T=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r=Array(e.length-n),i=t.length,s;for(s=0;s<r.length;s++)r[s]=e[s+n];for(s=0;s<i;s++)e[s+n]=t[s];for(s=0;s<r.length;s++)e[s+i+n]=r[s]};n.extend(E.prototype,l,{model:b,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,x))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),r?i[0]:i},set:function(e,t){if(e==null)return;t=n.extend({},S,t),t.parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var r=!n.isArray(e);e=r?[e]:e.slice();var i=t.at;i!=null&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var s=[],o=[],u=[],a=[],f={},l=t.add,c=t.merge,h=t.remove,p=!1,d=this.comparator&&i==null&&t.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,m,g;for(g=0;g<e.length;g++){m=e[g];var y=this.get(m);if(y){if(c&&m!==y){var b=this._isModel(m)?m.attributes:m;t.parse&&(b=y.parse(b,t)),y.set(b,t),u.push(y),d&&!p&&(p=y.hasChanged(v))}f[y.cid]||(f[y.cid]=!0,s.push(y)),e[g]=y}else l&&(m=e[g]=this._prepareModel(m,t),m&&(o.push(m),this._addReference(m,t),f[m.cid]=!0,s.push(m)))}if(h){for(g=0;g<this.length;g++)m=this.models[g],f[m.cid]||a.push(m);a.length&&this._removeModels(a,t)}var w=!1,E=!d&&l&&h;s.length&&E?(w=this.length!==s.length||n.some(this.models,function(e,t){return e!==s[t]}),this.models.length=0,T(this.models,s,0),this.length=this.models.length):o.length&&(d&&(p=!0),T(this.models,o,i==null?this.length:i),this.length=this.models.length),p&&this.sort({silent:!0});if(!t.silent){for(g=0;g<o.length;g++)i!=null&&(t.index=i+g),m=o[g],m.trigger("add",m,this,t);(p||w)&&this.trigger("sort",this,t);if(o.length||a.length||u.length)t.changes={added:o,removed:a,merged:u},this.trigger("update",this,t)}return r?e[0]:e},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return s.apply(this.models,arguments)},get:function(e){return e==null?void 0:this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]},has:function(e){return this.get(e)!=null},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),r===1||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},R(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var r=t.wait;e=this._prepareModel(e,t);if(!e)return!1;r||this.add(e,t);var i=this,s=t.success;return t.success=function(e,t,n){r&&i.add(e,n),s&&s.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){var n=[];for(var r=0;r<e.length;r++){var i=this.get(e[r]);if(!i)continue;var s=this.indexOf(i);this.models.splice(s,1),this.length--,delete this._byId[i.cid];var o=this.modelId(i.attributes);o!=null&&delete this._byId[o],t.silent||(t.index=s,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}return n},_isModel:function(e){return e instanceof b},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);n!=null&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);n!=null&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if(t){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r);if(e==="change"){var i=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);i!==s&&(i!=null&&delete this._byId[i],s!=null&&(this._byId[s]=t))}}this.trigger.apply(this,arguments)}});var N={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};u(E,N,"models");var C=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,L)),this._ensureElement(),this.initialize.apply(this,arguments)},k=/^(\S+)\s*(.*)$/,L=["model","collection","el","id","attributes","className","tagName","events"];n.extend(C.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){e||(e=n.result(this,"events"));if(!e)return this;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[r]);if(!r)continue;var i=t.match(k);this.delegate(i[1],i[2],n.bind(r,this))}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}else this.setElement(n.result(this,"el"))},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var s=A[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||q()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1);var a=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,a&&a.call(i.context,e,t,n)};var f=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,f,i),f};var A={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var O=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},M=/\((.*?)\)/g,_=/(\(\?)?:\w+/g,D=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(O.prototype,l,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(i,o,r)!==!1&&(s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),t.history.trigger("route",s,r,o))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(P,"\\$&").replace(M,"(?:$1)?").replace(_,function(e,t){return t?e:"([^/?]+)"}).replace(D,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var H=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},B=/^[#\/]|\s+$/g,j=/^\/+|\/+$/g,F=/#.*$/;H.started=!1,n.extend(H.prototype,l,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return e.charAt(0)==="/"?e.slice(1):e},getFragment:function(e){return e==null&&(this._usePushState||!this._wantsHashChange?e=this.getPath():e=this.getHash()),e.replace(B,"")},start:function(e){if(H.started)throw new Error("Backbone.history has already been started");H.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!this.history&&!!this.history.pushState,this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(j,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var s=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),H.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return this.matchRoot()?(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})):!1},navigate:function(e,t){if(!H.started)return!1;if(!t||t===!0)t={trigger:!!t};e=this.getFragment(e||"");var n=this.root;if(e===""||e.charAt(0)==="?")n=n.slice(0,-1)||"/";var r=n+e;e=this.decodeFragment(e.replace(F,""));if(this.fragment===e)return;this.fragment=e;if(this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);this._updateHash(this.location,e,t.replace);if(this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;t.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,e,t.replace)}}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new H;var I=function(e,t){var r=this,i;return e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t),i.prototype=n.create(r.prototype,e),i.prototype.constructor=i,i.__super__=r.prototype,i};b.extend=E.extend=O.extend=C.extend=H.extend=I;var q=function(){throw new Error('A "url" property or function must be specified')},R=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}),define("common/dispatch",["backbone"],function(e){var t=_.clone(e.Events);return t.handlers={},t.request=function(e,n,r,i,s,o,u,a,f,l,c){if(t.handlers[e]){try{var h=t.handlers[e](n,r,i,s,o,u,a,f,l,c)}catch(p){var h=p}return h}return undefined},t.setHandler=function(e,n){if(typeof n!="function")throw"error: dispatch.setHandler expects a function as the second parameter";t.handlers[e]=n},t}),define("common/data",["common/dispatch","jquery"],function(e){var t={addNewUser:function(n,r,i,s,o){var u=$.Deferred();return e.trigger("app:spinOn"),$.ajax({method:"post",data:{name:n,pwd:r,perm:i,email:s,phone:o},url:t.getBaseUrl()+"api/users/",success:function(e){u.resolve(e)},complete:function(){e.trigger("app:spinOff")},dataType:"json"}),u.promise()},getAllUsers:function(){var n=$.Deferred();return e.trigger("app:spinOn"),$.ajax({method:"GET",data:{},url:t.getBaseUrl()+"api/users/",success:function(e){n.resolve(e)},complete:function(){e.trigger("app:spinOff")},dataType:"json"}),n.promise()},getBaseUrl:function(){return e.request("app:getBaseUrl")},getFilmList:function(n){e.trigger("app:spinOn");var r=$.Deferred();return $.ajax({method:"GET",data:{year:n},url:t.getBaseUrl()+"api/films/",success:function(e){$.each(e.films,function(t,n){var r=!1;$.each(e.reviews,function(e,t){e==n.id&&(n.reviews=t,r=!0)}),r==0&&(n.reviews=[])}),r.resolve(e)},complete:function(){e.trigger("app:spinOff")},dataType:"json"}),r.promise()},getFilmReviews:function(n){e.trigger("app:spinOn");var r=$.Deferred();return $.ajax({method:"GET",url:t.getBaseUrl()+"api/reviews/"+n,success:function(t){e.trigger("app:spinOff"),r.resolve(t)},error:function(t){e.trigger("app:spinOff")},dataType:"json"}),r.promise()},getFilmsWithReviews:function(n){e.trigger("app:spinOn");var r=$.Deferred();return $.ajax({method:"GET",data:{year:n},url:t.getBaseUrl()+"api/reviewdata/",success:function(e){r.resolve(e)},complete:function(){e.trigger("app:spinOff")},dataType:"json"}),r.promise()},getUserReviews:function(e){var n=$.Deferred();return $.ajax({method:"GET",data:{userId:e},url:t.getBaseUrl()+"api/reviews/user/"+e,success:function(e){n.resolve(e)},dataType:"json"}),n.promise()},saveNewReview:function(e){var n=$.Deferred();return $.ajax({method:"post",data:e,url:t.getBaseUrl()+"api/reviews/",success:function(e){n.resolve(e)},dataType:"json"}),n.promise()},updateReview:function(e){var n=$.Deferred();return $.ajax({method:"post",data:e,url:t.getBaseUrl()+"api/reviews/"+e.film.id,success:function(e){n.resolve(e)},dataType:"json"}),n.promise()},updateUser:function(e){var n=$.Deferred();return $.ajax({method:"post",data:e,url:t.getBaseUrl()+"api/users/"+e.id,success:function(e){n.resolve(e)},dataType:"json"}),n.promise()},updateUserPassword:function(e,n){console.log("userId",e,"newPwd",n);var r={pwd:n,userId:e},i=$.Deferred();return $.ajax({method:"post",data:r,url:t.getBaseUrl()+"api/users/"+e,success:function(e){i.resolve(e)},dataType:"json"}),i.promise()}};return t}),define("text",["module"],function(e){"use strict";var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.10",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}d.isBuild=i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("")===0&&(i=i.substring(1)),t(i)}catch(s){r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("tpl",["underscore","text"],function(e,t){"use strict";var n={},r={version:"0.2.0",load:function(r,i,s,o){var u=function(t){e.extend(e.templateSettings,o.underscoreTemplateSettings||{});try{t=e.template(t)}catch(i){console.log("Template error for "+r+". Exception Details: "+i)}o.isBuild?t=n[r]=t.source:t=(new Function("obj","return "+t.source))(),s(t)};t.load(r,i,u,o)},write:function(e,t,r){n.hasOwnProperty(t)&&r('define("'+e+"!"+t+'", ["underscore"], function(_) { '+"return "+n[t]+";"+"});\n")}};return r}),define("tpl!templates/t1.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="panel panel-default">\r\n	<div class="panel-content">\r\n		<p>View1:</p>\r\n		<p>foo:<code>'+((__t=foo)==null?"":_.escape(__t))+"</code></p>\r\n		<p>bar:<code>"+((__t=bar)==null?"":_.escape(__t))+'</code></p>\r\n		<label for="ta1">Enter:</label>\r\n		<input type="text" id="ta1"></input>\r\n		<button type="button" class="btn btn-primary btn-sm" id="button1">button1</button>\r\n		<button type="button" class="btn btn-primary btn-sm" id="btnAddMenuItem">addMenuItem</button>\r\n	</div>\r\n</div>';return __p}}),define("views/view1",["backbone","common/data","common/dispatch","tpl!templates/t1.tpl"],function(e,t,n,r){var i=e.View.extend({addMenuItem:function(){console.log("firing addMenuItem"),$("#miffNavbar").append('<li id="m"><a id = "m" href="">Added Menu Item</a></li>'),$("#mtoNav  a").on("click",function(e){$(e.target).attr("subMenu")!="true"&&$(".collapse").collapse("hide"),e.preventDefault()})},clickButton1:function(){this.data.set("foo",$("#ta1").val())},events:{"click #button1":"clickButton1","click #btnAddMenuItem":"addMenuItem"},initialize:function(e){this.data=e,this.listenTo(e,"change",function(){console.log("View1 detects model change event"),this.render()})},render:function(){return this.$el.html(this.template(this.data.toJSON())),this},template:r});return i}),define("tpl!templates/t2.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="panel panel-default">\r\n	<div class="panel-content">\r\n		<p>View2:</p>	\r\n		<p>foo:<code>'+((__t=foo)==null?"":_.escape(__t))+"</code></p>\r\n		<p>bar:<code>"+((__t=bar)==null?"":_.escape(__t))+'</code></p>	\r\n		<label for="ta2">Enter:</label>\r\n		<input type="text" id="ta2"></input>\r\n		<button type="button" class="btn btn-primary btn-sm" id="button2">button2</button>\r\n	</div>\r\n</div>';return __p}}),define("views/view2",["backbone","common/data","common/dispatch","tpl!templates/t2.tpl"],function(e,t,n,r){var i=e.View.extend({clickButton2:function(){this.data.set("foo",$("#ta2").val())},events:{"click #button2":"clickButton2"},initialize:function(e){this.data=e,this.listenTo(e,"change",function(){console.log("View2 detects model change event"),this.render()})},render:function(){return this.data.get("foo")==99&&this.remove(),this.$el.html(this.template(this.data.toJSON())),this},template:r});return i}),define("models/model1",["backbone","common/dispatch"],function(e,t){var n=e.Model.extend({initialize:function(){this.on("change",function(){console.log("model1 changed")})}});return n}),define("router/router",["backbone","common/dispatch"],function(e,t){"use strict";var n=e.Router.extend({routes:{"":"cleanUrl","index.php":"cleanUrl"},cleanUrl:function(){console.log("firing cleanUrl"),this.navigate("/index.php",!0),t.trigger("loadPage",132)}});return n}),function(e){define("tinymce",["jquery"],function(){return function(){return!function(e,t){"use strict";function n(e,t){for(var n,r=[],i=0;i<e.length;++i){if(n=u[e[i]]||s(e[i]),!n)throw"module definition dependecy not found: "+e[i];r.push(n)}t.apply(null,r)}function r(e,r,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(r,function(){u[e]=i.apply(null,arguments)})}function i(e){return!!u[e]}function s(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function o(n){var r,i,s,o,a;for(r=0;r<n.length;r++){i=e,s=n[r],o=s.split(/[.\/]/);for(var f=0;f<o.length-1;++f)i[o[f]]===t&&(i[o[f]]={}),i=i[o[f]];i[o[o.length-1]]=u[s]}if(e.AMDLC_TESTS){a=e.privateModules||{};for(s in u)a[s]=u[s];for(r=0;r<n.length;r++)delete a[n[r]];e.privateModules=a}}var u={},a="tinymce/geom/Rect",f="tinymce/util/Promise",l="tinymce/util/Delay",c="tinymce/Env",h="tinymce/dom/EventUtils",p="tinymce/dom/Sizzle",d="tinymce/util/Arr",v="tinymce/util/Tools",m="tinymce/dom/DomQuery",g="tinymce/html/Styles",y="tinymce/dom/TreeWalker",b="tinymce/dom/Range",w="tinymce/html/Entities",E="tinymce/dom/StyleSheetLoader",S="tinymce/dom/DOMUtils",x="tinymce/dom/ScriptLoader",T="tinymce/AddOnManager",N="tinymce/dom/NodeType",C="tinymce/text/Zwsp",k="tinymce/caret/CaretContainer",L="tinymce/dom/RangeUtils",A="tinymce/NodeChange",O="tinymce/html/Node",M="tinymce/html/Schema",_="tinymce/html/SaxParser",D="tinymce/html/DomParser",P="tinymce/html/Writer",H="tinymce/html/Serializer",B="tinymce/dom/Serializer",j="tinymce/dom/TridentSelection",F="tinymce/util/VK",I="tinymce/dom/ControlSelection",q="tinymce/util/Fun",R="tinymce/caret/CaretCandidate",U="tinymce/geom/ClientRect",z="tinymce/text/ExtendingChar",W="tinymce/caret/CaretPosition",X="tinymce/caret/CaretBookmark",V="tinymce/dom/BookmarkManager",$="tinymce/dom/Selection",J="tinymce/dom/ElementUtils",K="tinymce/fmt/Preview",Q="tinymce/fmt/Hooks",G="tinymce/Formatter",Y="tinymce/UndoManager",Z="tinymce/EnterKey",et="tinymce/ForceBlocks",tt="tinymce/caret/CaretUtils",nt="tinymce/caret/CaretWalker",rt="tinymce/EditorCommands",it="tinymce/util/URI",st="tinymce/util/Class",ot="tinymce/util/EventDispatcher",ut="tinymce/data/Binding",at="tinymce/util/Observable",ft="tinymce/data/ObservableObject",lt="tinymce/ui/Selector",ct="tinymce/ui/Collection",ht="tinymce/ui/DomUtils",pt="tinymce/ui/BoxUtils",dt="tinymce/ui/ClassList",vt="tinymce/ui/ReflowQueue",mt="tinymce/ui/Control",gt="tinymce/ui/Factory",yt="tinymce/ui/KeyboardNavigation",bt="tinymce/ui/Container",wt="tinymce/ui/DragHelper",Et="tinymce/ui/Scrollable",St="tinymce/ui/Panel",xt="tinymce/ui/Movable",Tt="tinymce/ui/Resizable",Nt="tinymce/ui/FloatPanel",Ct="tinymce/ui/Window",kt="tinymce/ui/MessageBox",Lt="tinymce/WindowManager",At="tinymce/ui/Tooltip",Ot="tinymce/ui/Widget",Mt="tinymce/ui/Progress",_t="tinymce/ui/Notification",Dt="tinymce/NotificationManager",Pt="tinymce/dom/NodePath",Ht="tinymce/util/Quirks",Bt="tinymce/EditorObservable",jt="tinymce/Mode",Ft="tinymce/Shortcuts",It="tinymce/file/Uploader",qt="tinymce/file/Conversions",Rt="tinymce/file/ImageScanner",Ut="tinymce/file/BlobCache",zt="tinymce/EditorUpload",Wt="tinymce/caret/FakeCaret",Xt="tinymce/dom/Dimensions",Vt="tinymce/caret/LineWalker",$t="tinymce/caret/LineUtils",Jt="tinymce/DragDropOverrides",Kt="tinymce/SelectionOverrides",Qt="tinymce/Editor",Gt="tinymce/util/I18n",Yt="tinymce/FocusManager",Zt="tinymce/EditorManager",en="tinymce/LegacyInput",tn="tinymce/util/XHR",nn="tinymce/util/JSON",rn="tinymce/util/JSONRequest",sn="tinymce/util/JSONP",on="tinymce/util/LocalStorage",un="tinymce/Compat",an="tinymce/ui/Layout",fn="tinymce/ui/AbsoluteLayout",ln="tinymce/ui/Button",cn="tinymce/ui/ButtonGroup",hn="tinymce/ui/Checkbox",pn="tinymce/ui/ComboBox",dn="tinymce/ui/ColorBox",vn="tinymce/ui/PanelButton",mn="tinymce/ui/ColorButton",gn="tinymce/util/Color",yn="tinymce/ui/ColorPicker",bn="tinymce/ui/Path",wn="tinymce/ui/ElementPath",En="tinymce/ui/FormItem",Sn="tinymce/ui/Form",xn="tinymce/ui/FieldSet",Tn="tinymce/ui/FilePicker",Nn="tinymce/ui/FitLayout",Cn="tinymce/ui/FlexLayout",kn="tinymce/ui/FlowLayout",Ln="tinymce/ui/FormatControls",An="tinymce/ui/GridLayout",On="tinymce/ui/Iframe",Mn="tinymce/ui/InfoBox",_n="tinymce/ui/Label",Dn="tinymce/ui/Toolbar",Pn="tinymce/ui/MenuBar",Hn="tinymce/ui/MenuButton",Bn="tinymce/ui/MenuItem",jn="tinymce/ui/Throbber",Fn="tinymce/ui/Menu",In="tinymce/ui/ListBox",qn="tinymce/ui/Radio",Rn="tinymce/ui/ResizeHandle",Un="tinymce/ui/SelectBox",zn="tinymce/ui/Slider",Wn="tinymce/ui/Spacer",Xn="tinymce/ui/SplitButton",Vn="tinymce/ui/StackLayout",$n="tinymce/ui/TabPanel",Jn="tinymce/ui/TextBox",Kn="tinymce/Register";r(a,[],function(){function e(e,t,n){var r,i,o,u,a,l;return r=t.x,i=t.y,o=e.w,u=e.h,a=t.w,l=t.h,n=(n||"").split(""),"b"===n[0]&&(i+=l),"r"===n[1]&&(r+=a),"c"===n[0]&&(i+=f(l/2)),"c"===n[1]&&(r+=f(a/2)),"b"===n[3]&&(i-=u),"r"===n[4]&&(r-=o),"c"===n[3]&&(i-=f(u/2)),"c"===n[4]&&(r-=f(o/2)),s(r,i,o,u)}function t(t,n,r,i){var s,o;for(o=0;o<i.length;o++)if(s=e(t,n,i[o]),s.x>=r.x&&s.x+s.w<=r.w+r.x&&s.y>=r.y&&s.y+s.h<=r.h+r.y)return i[o];return null}function n(e,t,n){return s(e.x-t,e.y-n,e.w+2*t,e.h+2*n)}function r(e,t){var n,r,i,o;return n=a(e.x,t.x),r=a(e.y,t.y),i=u(e.x+e.w,t.x+t.w),o=u(e.y+e.h,t.y+t.h),0>i-n||0>o-r?null:s(n,r,i-n,o-r)}function i(e,t,n){var r,i,o,u,f,l,c,h,p,d;return f=e.x,l=e.y,c=e.x+e.w,h=e.y+e.h,p=t.x+t.w,d=t.y+t.h,r=a(0,t.x-f),i=a(0,t.y-l),o=a(0,c-p),u=a(0,h-d),f+=r,l+=i,n&&(c+=r,h+=i,f-=o,l-=u),c-=o,h-=u,s(f,l,c-f,h-l)}function s(e,t,n,r){return{x:e,y:t,w:n,h:r}}function o(e){return s(e.left,e.top,e.width,e.height)}var u=Math.min,a=Math.max,f=Math.round;return{inflate:n,relativePosition:e,findBestRelativePosition:t,intersect:r,clamp:i,create:s,fromClientRect:o}}),r(f,[],function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,e(r,this),e(i,this))}function n(e){var t=this;return null===this._state?void this._deferreds.push(e):void a(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void (t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(i){return void e.reject(i)}e.resolve(r)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void u(e(n,t),e(r,this),e(i,this))}this._state=!0,this._value=t,s.call(this)}catch(o){i.call(this,o)}}function i(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;t>e;e++)n.call(this,this._deferreds[e]);this._deferreds=null}function o(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function u(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(i){if(r)return;r=!0,n(i)}}if(window.Promise)return window.Promise;var a=t.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return t.prototype["catch"]=function(e){return this.then(null,e)},t.prototype.then=function(e,r){var i=this;return new t(function(t,s){n.call(i,new o(e,r,t,s))})},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&f(arguments[0])?arguments[0]:arguments);return new t(function(t,n){function r(s,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var u=o.then;if("function"==typeof u)return void u.call(o,function(e){r(s,e)},n)}e[s]=o,0===--i&&t(e)}catch(a){n(a)}}if(0===e.length)return t([]);for(var i=e.length,s=0;s<e.length;s++)r(s,e[s])})},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=0,i=e.length;i>r;r++)e[r].then(t,n)})},t}),r(l,[f],function(e){function t(e,t){function n(e){window.setTimeout(e,0)}var r,i=window.requestAnimationFrame,s=["ms","moz","webkit"];for(r=0;r<s.length&&!i;r++)i=window[s[r]+"RequestAnimationFrame"];i||(i=n),i(e,t)}function n(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function r(e,t){return"number"!=typeof t&&(t=0),setInterval(e,t)}function i(e){return clearTimeout(e)}function s(e){return clearInterval(e)}var o;return{requestAnimationFrame:function(n,r){return o?void o.then(n):void (o=(new e(function(e){r||(r=document.body),t(e,r)})).then(n))},setTimeout:n,setInterval:r,setEditorTimeout:function(e,t,r){return n(function(){e.removed||t()},r)},setEditorInterval:function(e,t,n){var i;return i=r(function(){e.removed?clearInterval(i):t()},n)},throttle:function(e,t){var r,i;return i=function(){var i=arguments;clearTimeout(r),r=n(function(){e.apply(this,i)},t)},i.stop=function(){clearTimeout(r)},i},clearInterval:s,clearTimeout:i}}),r(c,[],function(){function e(e){return"matchMedia"in window?matchMedia(e).matches:!1}var t=navigator,n=t.userAgent,r,i,s,o,u,a,f,l,c,h,p,d,v;r=window.opera&&window.opera.buildNumber,c=/Android/.test(n),i=/WebKit/.test(n),s=!i&&!r&&/MSIE/gi.test(n)&&/Explorer/gi.test(t.appName),s=s&&/MSIE (\w+)\./.exec(n)[1],o=-1==n.indexOf("Trident/")||-1==n.indexOf("rv:")&&-1==t.appName.indexOf("Netscape")?!1:11,u=-1==n.indexOf("Edge/")||s||o?!1:12,s=s||o||u,a=!i&&!o&&/Gecko/.test(n),f=-1!=n.indexOf("Mac"),l=/(iPad|iPhone)/.test(n),h="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,p=e("only screen and (max-device-width: 480px)")&&(c||l),d=e("only screen and (min-width: 800px)")&&(c||l),v=-1!=n.indexOf("Windows Phone"),u&&(i=!1);var m=!l||h||n.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:r,webkit:i,ie:s,gecko:a,mac:f,iOS:l,android:c,contentEditable:m,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=s,range:window.getSelection&&"Range"in window,documentMode:s&&!u?document.documentMode||7:10,fileApi:h,ceFalse:s===!1||s>8,desktop:!p&&!d,windowsPhone:v}}),r(h,[l,c],function(e,t){function n(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function r(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function i(e,t){var n,r=t;return n=e.path,n&&n.length>0&&(r=n[0]),e.deepPath&&(n=e.deepPath(),n&&n.length>0&&(r=n[0])),r}function s(e,n){function r(){return!1}function s(){return!0}var o,u=n||{},a;for(o in e)l[o]||(u[o]=e[o]);if(u.target||(u.target=u.srcElement||document),t.experimentalShadowDom&&(u.target=i(e,u.target)),e&&f.test(e.type)&&e.pageX===a&&e.clientX!==a){var c=u.target.ownerDocument||document,h=c.documentElement,p=c.body;u.pageX=e.clientX+(h&&h.scrollLeft||p&&p.scrollLeft||0)-(h&&h.clientLeft||p&&p.clientLeft||0),u.pageY=e.clientY+(h&&h.scrollTop||p&&p.scrollTop||0)-(h&&h.clientTop||p&&p.clientTop||0)}return u.preventDefault=function(){u.isDefaultPrevented=s,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},u.stopPropagation=function(){u.isPropagationStopped=s,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},u.stopImmediatePropagation=function(){u.isImmediatePropagationStopped=s,u.stopPropagation()},u.isDefaultPrevented||(u.isDefaultPrevented=r,u.isPropagationStopped=r,u.isImmediatePropagationStopped=r),"undefined"==typeof u.metaKey&&(u.metaKey=!1),u}function o(t,i,s){function o(){s.domLoaded||(s.domLoaded=!0,i(l))}function u(){("complete"===f.readyState||"interactive"===f.readyState&&f.body)&&(r(f,"readystatechange",u),o())}function a(){try{f.documentElement.doScroll("left")}catch(t){return void e.setTimeout(a)}o()}var f=t.document,l={type:"ready"};return s.domLoaded?void i(l):(f.addEventListener?"complete"===f.readyState?o():n(t,"DOMContentLoaded",o):(n(f,"readystatechange",u),f.documentElement.doScroll&&t.self===t.top&&a()),void n(t,"load",o))}function u(){function e(e,t){var n,r,s,o,u=i[t];if(n=u&&u[e.type])for(r=0,s=n.length;s>r;r++)if(o=n[r],o&&o.func.call(o.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}var t=this,i={},u,f,l,c,h;f=a+(+(new Date)).toString(32),c="onmouseenter"in document.documentElement,l="onfocusin"in document.documentElement,h={mouseenter:"mouseover",mouseleave:"mouseout"},u=1,t.domLoaded=!1,t.events=i,t.bind=function(r,a,p,d){function v(t){e(s(t||x.event),m)}var m,g,y,b,w,E,S,x=window;if(r&&3!==r.nodeType&&8!==r.nodeType){for(r[f]?m=r[f]:(m=u++,r[f]=m,i[m]={}),d=d||r,a=a.split(" "),y=a.length;y--;)b=a[y],E=v,w=S=!1,"DOMContentLoaded"===b&&(b="ready"),t.domLoaded&&"ready"===b&&"complete"==r.readyState?p.call(d,s({type:b})):(c||(w=h[b],w&&(E=function(t){var n,r;if(n=t.currentTarget,r=t.relatedTarget,r&&n.contains)r=n.contains(r);else for(;r&&r!==n;)r=r.parentNode;r||(t=s(t||x.event),t.type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=n,e(t,m))})),l||"focusin"!==b&&"focusout"!==b||(S=!0,w="focusin"===b?"focus":"blur",E=function(t){t=s(t||x.event),t.type="focus"===t.type?"focusin":"focusout",e(t,m)}),g=i[m][b],g?"ready"===b&&t.domLoaded?p({type:b}):g.push({func:p,scope:d}):(i[m][b]=g=[{func:p,scope:d}],g.fakeName=w,g.capture=S,g.nativeHandler=E,"ready"===b?o(r,E,t):n(r,w||b,E,S)));return r=g=0,p}},t.unbind=function(e,n,s){var o,u,a,l,c,h;if(!e||3===e.nodeType||8===e.nodeType)return t;if(o=e[f]){if(h=i[o],n){for(n=n.split(" "),a=n.length;a--;)if(c=n[a],u=h[c]){if(s)for(l=u.length;l--;)if(u[l].func===s){var p=u.nativeHandler,d=u.fakeName,v=u.capture;u=u.slice(0,l).concat(u.slice(l+1)),u.nativeHandler=p,u.fakeName=d,u.capture=v,h[c]=u}s&&0!==u.length||(delete h[c],r(e,u.fakeName||c,u.nativeHandler,u.capture))}}else{for(c in h)u=h[c],r(e,u.fakeName||c,u.nativeHandler,u.capture);h={}}for(c in h)return t;delete i[o];try{delete e[f]}catch(m){e[f]=null}}return t},t.fire=function(n,r,i){var o;if(!n||3===n.nodeType||8===n.nodeType)return t;i=s(null,i),i.type=r,i.target=n;do o=n[f],o&&e(i,o),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!i.isPropagationStopped());return t},t.clean=function(e){var n,r,i=t.unbind;if(!e||3===e.nodeType||8===e.nodeType)return t;if(e[f]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),r=e.getElementsByTagName("*"),n=r.length;n--;)e=r[n],e[f]&&i(e);return t},t.destroy=function(){i={}},t.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var a="mce-data-",f=/^(?:mouse|contextmenu)|click/,l={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1};return u.Event=new u,u.Event.bind(window,"ready",function(){}),u}),r(p,[],function(){function e(e,t,n,r){var i,s,o,u,a,f,c,p,d,v;if((t?t.ownerDocument||t:q)!==_&&M(t),t=t||_,n=n||[],!e||"string"!=typeof e)return n;if(1!==(u=t.nodeType)&&9!==u)return[];if(P&&!r){if(i=gt.exec(e))if(o=i[1]){if(9===u){if(s=t.getElementById(o),!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&F(t,s)&&s.id===o)return n.push(s),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((o=i[3])&&E.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(o)),n}if(E.qsa&&(!H||!H.test(e))){if(p=c=I,d=t,v=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(f=N(e),(c=t.getAttribute("id"))?p=c.replace(bt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",a=f.length;a--;)f[a]=p+h(f[a]);d=yt.test(e)&&l(t.parentNode)||t,v=f.join(",")}if(v)try{return Z.apply(n,d.querySelectorAll(v)),n}catch(m){}finally{c||t.removeAttribute("id")}}}return k(e.replace(ut,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[I]=!0,e}function i(e){var t=_.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),r=e.length;r--;)S.attrHandle[n[r]]=t}function o(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function a(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function f(e){return r(function(t){return t=+t,r(function(n,r){for(var i,s=e([],n.length,t),o=s.length;o--;)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&typeof e.getElementsByTagName!==$&&e}function c(){}function h(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,s=U++;return t.first?function(t,n,s){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[R,s];if(o){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,o))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(a=t[I]||(t[I]={}),(u=a[r])&&u[0]===R&&u[1]===s)return f[2]=u[2];if(a[r]=f,f[2]=e(t,n,o))return!0}}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function v(t,n,r){for(var i=0,s=n.length;s>i;i++)e(t,n[i],r);return r}function m(e,t,n,r,i){for(var s,o=[],u=0,a=e.length,f=null!=t;a>u;u++)(s=e[u])&&(n&&!n(s,r,i)||(o.push(s),f&&t.push(u)));return o}function g(e,t,n,i,s,o){return i&&!i[I]&&(i=g(i)),s&&!s[I]&&(s=g(s,o)),r(function(r,o,u,a){var f,l,c,h=[],p=[],d=o.length,g=r||v(t||"*",u.nodeType?[u]:u,[]),y=!e||!r&&t?g:m(g,h,e,u,a),b=n?s||(r?e:d||i)?[]:o:y;if(n&&n(y,b,u,a),i)for(f=m(b,p),i(f,[],u,a),l=f.length;l--;)(c=f[l])&&(b[p[l]]=!(y[p[l]]=c));if(r){if(s||e){if(s){for(f=[],l=b.length;l--;)(c=b[l])&&f.push(y[l]=c);s(null,b=[],f,a)}for(l=b.length;l--;)(c=b[l])&&(f=s?tt.call(r,c):h[l])>-1&&(r[f]=!(o[f]=c))}}else b=m(b===o?b.splice(d,b.length):b),s?s(null,o,b,a):Z.apply(o,b)})}function y(e){for(var t,n,r,i=e.length,s=S.relative[e[0].type],o=s||S.relative[" "],u=s?1:0,a=p(function(e){return e===t},o,!0),f=p(function(e){return tt.call(t,e)>-1},o,!0),l=[function(e,n,r){return!s&&(r||n!==L)||((t=n).nodeType?a(e,n,r):f(e,n,r))}];i>u;u++)if(n=S.relative[e[u].type])l=[p(d(l),n)];else{if(n=S.filter[e[u].type].apply(null,e[u].matches),n[I]){for(r=++u;i>r&&!S.relative[e[r].type];r++);return g(u>1&&d(l),u>1&&h(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(ut,"$1"),n,r>u&&y(e.slice(u,r)),i>r&&y(e=e.slice(r)),i>r&&h(e))}l.push(n)}return d(l)}function b(t,n){var i=n.length>0,s=t.length>0,o=function(r,o,u,a,f){var l,c,h,p=0,d="0",v=r&&[],g=[],y=L,b=r||s&&S.find.TAG("*",f),w=R+=null==y?1:Math.random()||.1,E=b.length;for(f&&(L=o!==_&&o);d!==E&&null!=(l=b[d]);d++){if(s&&l){for(c=0;h=t[c++];)if(h(l,o,u)){a.push(l);break}f&&(R=w)}i&&((l=!h&&l)&&p--,r&&v.push(l))}if(p+=d,i&&d!==p){for(c=0;h=n[c++];)h(v,g,o,u);if(r){if(p>0)for(;d--;)v[d]||g[d]||(g[d]=G.call(a));g=m(g)}Z.apply(a,g),f&&!r&&g.length>0&&p+n.length>1&&e.uniqueSort(a)}return f&&(R=w,L=y),v};return i?r(o):o}var w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I="sizzle"+ -(new Date),q=window.document,R=0,U=0,z=n(),W=n(),X=n(),V=function(e,t){return e===t&&(O=!0),0},$=typeof t,J=1<<31,K={}.hasOwnProperty,Q=[],G=Q.pop,Y=Q.push,Z=Q.push,et=Q.slice,tt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st="\\["+rt+"*("+it+")(?:"+rt+"*([*^$|!~]?=)"+rt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+rt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",ut=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),at=new RegExp("^"+rt+"*,"+rt+"*"),ft=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),lt=new RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),ct=new RegExp(ot),ht=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),Et=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(Q=et.call(q.childNodes),q.childNodes),Q[q.childNodes.length].nodeType}catch(St){Z={apply:Q.length?function(e,t){Y.apply(e,et.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}E=e.support={},T=e.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},M=e.setDocument=function(e){function t(e){try{return e.top}catch(t){}return null}var n,r=e?e.ownerDocument||e:q,s=r.defaultView;return r!==_&&9===r.nodeType&&r.documentElement?(_=r,D=r.documentElement,P=!T(r),s&&s!==t(s)&&(s.addEventListener?s.addEventListener("unload",function(){M()},!1):s.attachEvent&&s.attachEvent("onunload",function(){M()})),E.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),E.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=mt.test(r.getElementsByClassName),E.getById=i(function(e){return D.appendChild(e).id=I,!r.getElementsByName||!r.getElementsByName(I).length}),E.getById?(S.find.ID=function(e,t){if(typeof t.getElementById!==$&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(wt,Et);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(wt,Et);return function(e){var n=typeof e.getAttributeNode!==$&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=E.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==$?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[i++];)1===n.nodeType&&r.push(n);return r}return s},S.find.CLASS=E.getElementsByClassName&&function(e,t){return P?t.getElementsByClassName(e):void 0},B=[],H=[],(E.qsa=mt.test(r.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&H.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+rt+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||H.push(":checked")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+rt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(E.matchesSelector=mt.test(j=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){E.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),B.push("!=",ot)}),H=H.length&&new RegExp(H.join("|")),B=B.length&&new RegExp(B.join("|")),n=mt.test(D.compareDocumentPosition),F=n||mt.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=n?function(e,t){if(e===t)return O=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!E.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===q&&F(q,e)?-1:t===r||t.ownerDocument===q&&F(q,t)?1:A?tt.call(A,e)-tt.call(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return O=!0,0;var n,i=0,s=e.parentNode,u=t.parentNode,a=[e],f=[t];if(!s||!u)return e===r?-1:t===r?1:s?-1:u?1:A?tt.call(A,e)-tt.call(A,t):0;if(s===u)return o(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)f.unshift(n);for(;a[i]===f[i];)i++;return i?o(a[i],f[i]):a[i]===q?-1:f[i]===q?1:0},r):_},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==_&&M(t),n=n.replace(lt,"='$1']"),E.matchesSelector&&P&&(!B||!B.test(n))&&(!H||!H.test(n)))try{var r=j.call(t,n);if(r||E.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,_,null,[t]).length>0},e.contains=function(e,t){return(e.ownerDocument||e)!==_&&M(e),F(e,t)},e.attr=function(e,n){(e.ownerDocument||e)!==_&&M(e);var r=S.attrHandle[n.toLowerCase()],i=r&&K.call(S.attrHandle,n.toLowerCase())?r(e,n,!P):t;return i!==t?i:E.attributes||!P?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},e.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},e.uniqueSort=function(e){var t,n=[],r=0,i=0;if(O=!E.detectDuplicates,A=!E.sortStable&&e.slice(0),e.sort(V),O){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return A=null,e},x=e.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=x(t);return n},S=e.selectors={cacheLength:50,createPseudo:r,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Et),e[3]=(e[3]||e[4]||e[5]||"").replace(wt,Et),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ct.test(n)&&(t=N(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,Et).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==$&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var s=e.attr(i,t);return null==s?"!="===n:n?(s+="","="===n?s===r:"!="===n?s!==r:"^="===n?r&&0===s.indexOf(r):"*="===n?r&&s.indexOf(r)>-1:"$="===n?r&&s.slice(-r.length)===r:"~="===n?(" "+s+" ").indexOf(r)>-1:"|="===n?s===r||s.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){for(;v;){for(c=t;c=c[v];)if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){for(l=m[I]||(m[I]={}),f=l[e]||[],p=f[0]===R&&f[1],h=f[0]===R&&f[2],c=p&&m.childNodes[p];c=++p&&c&&c[v]||(h=p=0)||d.pop();)if(1===c.nodeType&&++h&&c===t){l[e]=[R,p,h];break}}else if(y&&(f=(t[I]||(t[I]={}))[e])&&f[0]===R)h=f[1];else for(;(c=++p&&c&&c[v]||(h=p=0)||d.pop())&&((u?c.nodeName.toLowerCase()!==g:1!==c.nodeType)||!++h||(y&&((c[I]||(c[I]={}))[e]=[R,h]),c!==t)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(t,n){var i,s=S.pseudos[t]||S.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[I]?s(n):s.length>1?(i=[t,t,"",n],S.setFilters.hasOwnProperty(t.toLowerCase())?r(function(e,t){for(var r,i=s(e,n),o=i.length;o--;)r=tt.call(e,i[o]),e[r]=!(t[r]=i[o])}):function(e){return s(e,0,i)}):s}},pseudos:{not:r(function(e){var t=[],n=[],i=C(e.replace(ut,"$1"));return i[I]?r(function(e,t,n,r){for(var s,o=i(e,null,r,[]),u=e.length;u--;)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,r,s){return t[0]=e,i(t,null,s,n),!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(e){return e=e.replace(wt,Et),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:r(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,Et).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===D},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return dt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:f(function(){return[0]}),last:f(function(e,t){return[t-1]}),eq:f(function(e,t,n){return[0>n?n+t:n]}),even:f(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:f(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:f(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:f(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},S.pseudos.nth=S.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[w]=u(w);for(w in{submit:!0,reset:!0})S.pseudos[w]=a(w);return c.prototype=S.filters=S.pseudos,S.setFilters=new c,N=e.tokenize=function(t,n){var r,i,s,o,u,a,f,l=W[t+" "];if(l)return n?0:l.slice(0);for(u=t,a=[],f=S.preFilter;u;){r&&!(i=at.exec(u))||(i&&(u=u.slice(i[0].length)||u),a.push(s=[])),r=!1,(i=ft.exec(u))&&(r=i.shift(),s.push({value:r,type:i[0].replace(ut," ")}),u=u.slice(r.length));for(o in S.filter)!(i=pt[o].exec(u))||f[o]&&!(i=f[o](i))||(r=i.shift(),s.push({value:r,type:o,matches:i}),u=u.slice(r.length));if(!r)break}return n?u.length:u?e.error(t):W(t,a).slice(0)},C=e.compile=function(e,t){var n,r=[],i=[],s=X[e+" "];if(!s){for(t||(t=N(e)),n=t.length;n--;)s=y(t[n]),s[I]?r.push(s):i.push(s);s=X(e,b(i,r)),s.selector=e}return s},k=e.select=function(e,t,n,r){var i,s,o,u,a,f="function"==typeof e&&e,c=!r&&N(e=f.selector||e);if(n=n||[],1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&E.getById&&9===t.nodeType&&P&&S.relative[s[1].type]){if(t=(S.find.ID(o.matches[0].replace(wt,Et),t)||[])[0],!t)return n;f&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(i=pt.needsContext.test(e)?0:s.length;i--&&(o=s[i],!S.relative[u=o.type]);)if((a=S.find[u])&&(r=a(o.matches[0].replace(wt,Et),yt.test(s[0].type)&&l(t.parentNode)||t))){if(s.splice(i,1),e=r.length&&h(s),!e)return Z.apply(n,r),n;break}}return(f||C(e,c))(r,t,!P,n,yt.test(e)&&l(t.parentNode)||t),n},E.sortStable=I.split("").sort(V).join("")===I,E.detectDuplicates=!!O,M(),E.sortDetached=i(function(e){return 1&e.compareDocumentPosition(_.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),E.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||s(nt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),e}),r(d,[],function(){function e(e){var t=e,n,r;if(!l(e))for(t=[],n=0,r=e.length;r>n;n++)t[n]=e[n];return t}function n(e,n,r){var i,s;if(!e)return 0;if(r=r||e,e.length!==t){for(i=0,s=e.length;s>i;i++)if(n.call(r,e[i],i,e)===!1)return 0}else for(i in e)if(e.hasOwnProperty(i)&&n.call(r,e[i],i,e)===!1)return 0;return 1}function r(e,t){var r=[];return n(e,function(n,i){r.push(t(n,i,e))}),r}function i(e,t){var r=[];return n(e,function(n,i){t&&!t(n,i,e)||r.push(n)}),r}function s(e,t){var n,r;if(e)for(n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}function o(e,t,n,r){var i=0;for(arguments.length<3&&(n=e[0]);i<e.length;i++)n=t.call(r,n,e[i],i);return n}function u(e,t,n){var r,i;for(r=0,i=e.length;i>r;r++)if(t.call(n,e[r],r,e))return r;return-1}function a(e,n,r){var i=u(e,n,r);return-1!==i?e[i]:t}function f(e){return e[e.length-1]}var l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{isArray:l,toArray:e,each:n,map:r,filter:i,indexOf:s,reduce:o,findIndex:u,find:a,last:f}}),r(v,[c,d],function(e,n){function r(e){return null===e||e===t?"":(""+e).replace(p,"")}function i(e,r){return r?"array"==r&&n.isArray(e)?!0:typeof e==r:e!==t}function s(e,t,n){var r;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n}function o(e,t,n){var r=this,i,s,o,u,a,f=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],s=r.createNS(e[3].replace(/\.\w+$/,""),n),!s[o]){if("static"==e[2])return s[o]=t,void (this.onCreate&&this.onCreate(e[2],e[3],s[o]));t[o]||(t[o]=function(){},f=1),s[o]=t[o],r.extend(s[o].prototype,t),e[5]&&(i=r.resolve(e[5]).prototype,u=e[5].match(/\.(\w+)$/i)[1],a=s[o],f?s[o]=function(){return i[u].apply(this,arguments)}:s[o]=function(){return this.parent=i[u],a.apply(this,arguments)},s[o].prototype[o]=s[o],r.each(i,function(e,t){s[o].prototype[t]=i[t]}),r.each(t,function(e,t){i[t]?s[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=o&&(s[o].prototype[t]=e)})),r.each(t["static"],function(e,t){s[o][t]=e})}}function u(e,n){var r,i,s,o=arguments,u;for(r=1,i=o.length;i>r;r++){n=o[r];for(s in n)n.hasOwnProperty(s)&&(u=n[s],u!==t&&(e[s]=u))}return e}function a(e,t,r,i){i=i||this,e&&(r&&(e=e[r]),n.each(e,function(e,n){return t.call(i,e,n,r)===!1?!1:void a(e,t,r,i)}))}function f(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t}function l(e,t){var n,r;for(t=t||window,e=e.split("."),n=0,r=e.length;r>n&&(t=t[e[n]],t);n++);return t}function c(e,t){return!e||i(e,"array")?e:n.map(e.split(t||","),r)}function h(t){var n=e.cacheSuffix;return n&&(t+=(-1===t.indexOf("?")?"?":"&")+n),t}var p=/^\s*|\s*$/g;return{trim:r,isArray:n.isArray,is:i,toArray:n.toArray,makeMap:s,each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,extend:u,create:o,walk:a,createNS:f,resolve:l,explode:c,_addCacheSuffix:h}}),r(m,[h,p,v,c],function(e,n,r,i){function s(e){return"undefined"!=typeof e}function o(e){return"string"==typeof e}function u(e){return e&&e==e.window}function a(e,t){var n,r,i;for(t=t||S,i=t.createElement("div"),n=t.createDocumentFragment(),i.innerHTML=e;r=i.firstChild;)n.appendChild(r);return n}function f(e,t,n,r){var i;if(o(t))t=a(t,g(e[0]));else if(t.length&&!t.nodeType){if(t=h.makeArray(t),r)for(i=t.length-1;i>=0;i--)f(e,t[i],n,r);else for(i=0;i<t.length;i++)f(e,t[i],n,r);return e}if(t.nodeType)for(i=e.length;i--;)n.call(e[i],t);return e}function l(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function c(e,t,n){var r,i;return t=h(t)[0],e.each(function(){var e=this;n&&r==e.parentNode?i.appendChild(e):(r=e.parentNode,i=t.cloneNode(!1),e.parentNode.insertBefore(i,e),i.appendChild(e))}),e}function h(e,t){return new h.fn.init(e,t)}function p(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1}function d(e){return null===e||e===k?"":(""+e).replace(H,"")}function v(e,t){var n,r,i,s,o;if(e)if(n=e.length,n===s){for(r in e)if(e.hasOwnProperty(r)&&(o=e[r],t.call(o,r,o)===!1))break}else for(i=0;n>i&&(o=e[i],t.call(o,i,o)!==!1);i++);return e}function m(e,t){var n=[];return v(e,function(e,r){t(r,e)&&n.push(r)}),n}function g(e){return e?9==e.nodeType?e:e.ownerDocument:S}function y(e,n,r){var i=[],s=e[n];for("string"!=typeof r&&r instanceof h&&(r=r[0]);s&&9!==s.nodeType;){if(r!==t){if(s===r)break;if("string"==typeof r&&h(s).is(r))break}1===s.nodeType&&i.push(s),s=s[n]}return i}function b(e,n,r,i){var s=[];for(i instanceof h&&(i=i[0]);e;e=e[n])if(!r||e.nodeType===r){if(i!==t){if(e===i)break;if("string"==typeof i&&h(e).is(i))break}s.push(e)}return s}function w(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function E(e,t,n){v(n,function(n,r){e[n]=e[n]||{},e[n][t]=r})}var S=document,x=Array.prototype.push,T=Array.prototype.slice,N=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,C=e.Event,k,L=r.makeMap("children,contents,next,prev"),A=r.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),O=r.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),M={"for":"htmlFor","class":"className",readonly:"readOnly"},_={"float":"cssFloat"},D={},P={},H=/^\s*|\s*$/g;return h.fn=h.prototype={constructor:h,selector:"",context:null,length:0,init:function(e,t){var n=this,r,i;if(!e)return n;if(e.nodeType)return n.context=n[0]=e,n.length=1,n;if(t&&t.nodeType)n.context=t;else{if(t)return h(e).attr(t);n.context=t=document}if(o(e)){if(n.selector=e,r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!r)return h(t).find(e);if(r[1])for(i=a(e,g(t)).firstChild;i;)x.call(n,i),i=i.nextSibling;else{if(i=g(t).getElementById(r[2]),!i)return n;if(i.id!==r[2])return n.find(e);n.length=1,n[0]=i}}else this.add(e,!1);return n},toArray:function(){return r.toArray(this)},add:function(e,t){var n=this,r,i;if(o(e))return n.add(h(e));if(t!==!1)for(r=h.unique(n.toArray().concat(h.makeArray(e))),n.length=r.length,i=0;i<r.length;i++)n[i]=r[i];else x.apply(n,h.makeArray(e));return n},attr:function(e,t){var n=this,r;if("object"==typeof e)v(e,function(e,t){n.attr(e,t)});else{if(!s(t)){if(n[0]&&1===n[0].nodeType){if(r=D[e],r&&r.get)return r.get(n[0],e);if(O[e])return n.prop(e)?e:k;t=n[0].getAttribute(e,2),null===t&&(t=k)}return t}this.each(function(){var n;if(1===this.nodeType){if(n=D[e],n&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return n},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=M[e]||e,"object"==typeof e)v(e,function(e,t){n.prop(e,t)});else{if(!s(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(e,t){function n(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function r(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var i=this,o,u;if("object"==typeof e)v(e,function(e,t){i.css(e,t)});else if(s(t))e=n(e),"number"!=typeof t||A[e]||(t+="px"),i.each(function(){var n=this.style;if(u=P[e],u&&u.set)return void u.set(this,t);try{this.style[_[e]||e]=t}catch(i){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(r(e)):n.removeAttribute(e))});else{if(o=i[0],u=P[e],u&&u.get)return u.get(o);if(o.ownerDocument.defaultView)try{return o.ownerDocument.defaultView.getComputedStyle(o,null).getPropertyValue(r(e))}catch(a){return k}else if(o.currentStyle)return o.currentStyle[n(e)]}return i},remove:function(){for(var e=this,t,n=this.length;n--;)t=e[n],C.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var e=this,t,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(e){var t=this,n;if(s(e)){n=t.length;try{for(;n--;)t[n].innerHTML=e}catch(r){h(t[n]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this,n;if(s(e)){for(n=t.length;n--;)"innerText"in t[n]?t[n].innerText=e:t[0].textContent=e;return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return f(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return f(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?f(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?f(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return h(e).append(this),this},prependTo:function(e){return h(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return c(this,e)},wrapAll:function(e){return c(this,e,!0)},wrapInner:function(e){return this.each(function(){h(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){h(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),h(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?v(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var i,s;s=l(r,e),s!==t&&(i=r.className,s?r.className=d((" "+i+" ").replace(" "+e+" "," ")):r.className+=i?" "+e:e)}),n)},hasClass:function(e){return l(this[0],e)},each:function(e){return v(this,e)},on:function(e,t){return this.each(function(){C.bind(this,e,t)})},off:function(e,t){return this.each(function(){C.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?C.fire(this,e.type,e):C.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new h(T.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;n>t;t++)h.find(e,this[t],r);return h(r)},filter:function(e){return h("function"==typeof e?m(this.toArray(),function(t,n){return e(n,t)}):h.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof h&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&h(r).is(e)){t.push(r);break}if(r==e){t.push(r);break}r=r.parentNode}}),h(t)},offset:function(e){var t,n,r,i=0,s=0,o;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),i=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,s=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:s})},push:x,sort:[].sort,splice:[].splice},r.extend(h,{extend:r.extend,makeArray:function(e){return u(e)||e.nodeType?[e]:r.toArray(e)},inArray:p,isArray:r.isArray,each:v,trim:d,grep:m,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!=t[r].nodeType&&t.splice(r,1);return t=1===t.length?h.find.matchesSelector(t[0],e)?[t[0]]:[]:h.find.matches(e,t)}}),v({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return y(e,"parentNode")},next:function(e){return w(e,"nextSibling",1)},prev:function(e){return w(e,"previousSibling",1)},children:function(e){return b(e.firstChild,"nextSibling",1)},contents:function(e){return r.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){h.fn[e]=function(n){var r=this,i=[];return r.each(function(){var e=t.call(i,this,n,i);e&&(h.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(L[e]||(i=h.unique(i)),0===e.indexOf("parents")&&(i=i.reverse())),i=h(i),n?i.filter(n):i}}),v({parentsUntil:function(e,t){return y(e,"parentNode",t)},nextUntil:function(e,t){return b(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return b(e,"previousSibling",1,t).slice(1)}},function(e,t){h.fn[e]=function(n,r){var i=this,s=[];return i.each(function(){var e=t.call(s,this,n,s);e&&(h.isArray(e)?s.push.apply(s,e):s.push(e))}),this.length>1&&(s=h.unique(s),0!==e.indexOf("parents")&&"prevUntil"!==e||(s=s.reverse())),s=h(s),r?s.filter(r):s}}),h.fn.is=function(e){return!!e&&this.filter(e).length>0},h.fn.init.prototype=h.fn,h.overrideDefaults=function(e){function t(r,i){return n=n||e(),0===arguments.length&&(r=n.element),i||(i=n.context),new t.fn.init(r,i)}var n;return h.extend(t,this),t},i.ie&&i.ie<8&&(E(D,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?k:t},size:function(e){var t=e.size;return 20===t?k:t},"class":function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?k:t}}),E(D,"set",{"class":function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),i.ie&&i.ie<9&&(_["float"]="styleFloat",E(P,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),h.attrHooks=D,h.cssHooks=P,h}),r(g,[],function(){return function(e,t){function n(e,t,n,r){function i(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}return"#"+i(t)+i(n)+i(r)}var r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,i=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,u,a,f={},l,c,h,p="";for(e=e||{},t&&(c=t.getValidStyles(),h=t.getInvalidStyles()),l=("\\\" \\' \\; \\: ; : "+p).split(" "),a=0;a<l.length;a++)f[l[a]]=p+a,f[p+a]=l[a];return{toHex:function(e){return e.replace(r,n)},parse:function(t){function u(e,t,n){var r,i,s,o;if(r=v[e+"-top"+t],r&&(i=v[e+"-right"+t],i&&(s=v[e+"-bottom"+t],s&&(o=v[e+"-left"+t])))){var u=[r,i,s,o];for(a=u.length-1;a--&&u[a]===u[a+1];);a>-1&&n||(v[e+t]=-1==a?u[0]:u.join(" "),delete v[e+"-top"+t],delete v[e+"-right"+t],delete v[e+"-bottom"+t],delete v[e+"-left"+t])}}function l(e){var t=v[e],n;if(t){for(t=t.split(" "),n=t.length;n--;)if(t[n]!==t[0])return!1;return v[e]=t[0],!0}}function c(e,t,n,r){l(t)&&l(n)&&l(r)&&(v[e]=v[t]+" "+v[n]+" "+v[r],delete v[t],delete v[n],delete v[r])}function h(e){return b=!0,f[e]}function p(e,t){return b&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return f[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function d(t,n,r,i,s,o){if(s=s||o)return s=p(s),"'"+s.replace(/\'/g,"\\'")+"'";if(n=p(n||r||i),!e.allow_script_urls){var u=n.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(u))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return w&&(n=w.call(E,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var v={},m,g,y,b,w=e.url_converter,E=e.url_converter_scope||this;if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,h).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,h)});m=s.exec(t);){if(g=m[1].replace(o,"").toLowerCase(),y=m[2].replace(o,""),y=y.replace(/\\[0-9a-f]+/g,function(e){return String.fromCharCode(parseInt(e.substr(1),16))}),g&&y.length>0){if(!e.allow_script_urls&&("behavior"==g||/expression\s*\(|\/\*|\*\//.test(y)))continue;"font-weight"===g&&"700"===y?y="bold":"color"!==g&&"background-color"!==g||(y=y.toLowerCase()),y=y.replace(r,n),y=y.replace(i,d),v[g]=b?p(y,!0):y}s.lastIndex=m.index+m[0].length}u("border","",!0),u("border","-width"),u("border","-color"),u("border","-style"),u("padding",""),u("margin",""),c("border","border-width","border-style","border-color"),"medium none"===v.border&&delete v.border,"none"===v["border-image"]&&delete v["border-image"]}return v},serialize:function(e,t){function n(t){var n,r,s,o;if(n=c[t])for(r=0,s=n.length;s>r;r++)t=n[r],o=e[t],o!==u&&o.length>0&&(i+=(i.length>0?" ":"")+t+": "+o+";")}function r(e,t){var n;return n=h["*"],n&&n[e]?!1:(n=h[t],!n||!n[e])}var i="",s,o;if(t&&c)n("*"),n(t);else for(s in e)o=e[s],o!==u&&o.length>0&&(h&&!r(s,t)||(i+=(i.length>0?" ":"")+s+": "+o+";"));return i}}}}),r(y,[],function(){return function(e,t){function n(e,n,r,i){var s,o;if(e){if(!i&&e[n])return e[n];if(e!=t){if(s=e[r])return s;for(o=e.parentNode;o&&o!=t;o=o.parentNode)if(s=o[r])return s}}}function r(e,n,r,i){var s,o,u;if(e){if(s=e[r],t&&s===t)return;if(s){if(!i)for(u=s[n];u;u=u[n])if(!u[n])return u;return s}if(o=e.parentNode,o&&o!==t)return o}}var i=e;this.current=function(){return i},this.next=function(e){return i=n(i,"firstChild","nextSibling",e)},this.prev=function(e){return i=n(i,"lastChild","previousSibling",e)},this.prev2=function(e){return i=r(i,"lastChild","previousSibling",e)}}}),r(b,[v],function(e){function t(n){function r(){return H.createDocumentFragment()}function i(e,t){x(I,e,t)}function s(e,t){x(q,e,t)}function o(e){i(e.parentNode,V(e))}function u(e){i(e.parentNode,V(e)+1)}function a(e){s(e.parentNode,V(e))}function f(e){s(e.parentNode,V(e)+1)}function l(e){e?(P[z]=P[U],P[W]=P[R]):(P[U]=P[z],P[R]=P[W]),P.collapsed=I}function c(e){o(e),f(e)}function h(e){i(e,0),s(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function p(e,t){var n=P[U],r=P[R],i=P[z],s=P[W],o=t.startContainer,u=t.startOffset,a=t.endContainer,f=t.endOffset;return 0===e?S(n,r,o,u):1===e?S(i,s,o,u):2===e?S(i,s,a,f):3===e?S(n,r,a,f):void 0}function d(){T(F)}function v(){return T(B)}function m(){return T(j)}function g(e){var t=this[U],r=this[R],i,s;3!==t.nodeType&&4!==t.nodeType||!t.nodeValue?(t.childNodes.length>0&&(s=t.childNodes[r]),s?t.insertBefore(e,s):3==t.nodeType?n.insertAfter(e,t):t.appendChild(e)):r?r>=t.nodeValue.length?n.insertAfter(e,t):(i=t.splitText(r),t.parentNode.insertBefore(e,i)):t.parentNode.insertBefore(e,t)}function y(e){var t=P.extractContents();P.insertNode(e),e.appendChild(t),P.selectNode(e)}function b(){return X(new t(n),{startContainer:P[U],startOffset:P[R],endContainer:P[z],endOffset:P[W],collapsed:P.collapsed,commonAncestorContainer:P.commonAncestorContainer})}function w(e,t){var n;if(3==e.nodeType)return e;if(0>t)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n?n:e}function E(){return P[U]==P[z]&&P[R]==P[W]}function S(e,t,r,i){var s,o,u,a,f,l;if(e==r)return t==i?0:i>t?-1:1;for(s=r;s&&s.parentNode!=e;)s=s.parentNode;if(s){for(o=0,u=e.firstChild;u!=s&&t>o;)o++,u=u.nextSibling;return o>=t?-1:1}for(s=e;s&&s.parentNode!=r;)s=s.parentNode;if(s){for(o=0,u=r.firstChild;u!=s&&i>o;)o++,u=u.nextSibling;return i>o?-1:1}for(a=n.findCommonAncestor(e,r),f=e;f&&f.parentNode!=a;)f=f.parentNode;for(f||(f=a),l=r;l&&l.parentNode!=a;)l=l.parentNode;if(l||(l=a),f==l)return 0;for(u=a.firstChild;u;){if(u==f)return-1;if(u==l)return 1;u=u.nextSibling}}function x(e,t,r){var i,s;for(e?(P[U]=t,P[R]=r):(P[z]=t,P[W]=r),i=P[z];i.parentNode;)i=i.parentNode;for(s=P[U];s.parentNode;)s=s.parentNode;s==i?S(P[U],P[R],P[z],P[W])>0&&P.collapse(e):P.collapse(e),P.collapsed=E(),P.commonAncestorContainer=n.findCommonAncestor(P[U],P[z])}function T(e){var t,n=0,r=0,i,s,o,u,a,f;if(P[U]==P[z])return N(e);for(t=P[z],i=t.parentNode;i;t=i,i=i.parentNode){if(i==P[U])return C(t,e);++n}for(t=P[U],i=t.parentNode;i;t=i,i=i.parentNode){if(i==P[z])return k(t,e);++r}for(s=r-n,o=P[U];s>0;)o=o.parentNode,s--;for(u=P[z];0>s;)u=u.parentNode,s++;for(a=o.parentNode,f=u.parentNode;a!=f;a=a.parentNode,f=f.parentNode)o=a,u=f;return L(o,u,e)}function N(e){var t,n,i,s,o,u,a,f,l;if(e!=F&&(t=r()),P[R]==P[W])return t;if(3==P[U].nodeType){if(n=P[U].nodeValue,i=n.substring(P[R],P[W]),e!=j&&(s=P[U],f=P[R],l=P[W]-P[R],0===f&&l>=s.nodeValue.length-1?s.parentNode.removeChild(s):s.deleteData(f,l),P.collapse(I)),e==F)return;return i.length>0&&t.appendChild(H.createTextNode(i)),t}for(s=w(P[U],P[R]),o=P[W]-P[R];s&&o>0;)u=s.nextSibling,a=_(s,e),t&&t.appendChild(a),--o,s=u;return e!=j&&P.collapse(I),t}function C(e,t){var n,i,s,o,u,a;if(t!=F&&(n=r()),i=A(e,t),n&&n.appendChild(i),s=V(e),o=s-P[R],0>=o)return t!=j&&(P.setEndBefore(e),P.collapse(q)),n;for(i=e.previousSibling;o>0;)u=i.previousSibling,a=_(i,t),n&&n.insertBefore(a,n.firstChild),--o,i=u;return t!=j&&(P.setEndBefore(e),P.collapse(q)),n}function k(e,t){var n,i,s,o,u,a;for(t!=F&&(n=r()),s=O(e,t),n&&n.appendChild(s),i=V(e),++i,o=P[W]-i,s=e.nextSibling;s&&o>0;)u=s.nextSibling,a=_(s,t),n&&n.appendChild(a),--o,s=u;return t!=j&&(P.setStartAfter(e),P.collapse(I)),n}function L(e,t,n){var i,s,o,u,a,f,l;for(n!=F&&(s=r()),i=O(e,n),s&&s.appendChild(i),o=V(e),u=V(t),++o,a=u-o,f=e.nextSibling;a>0;)l=f.nextSibling,i=_(f,n),s&&s.appendChild(i),f=l,--a;return i=A(t,n),s&&s.appendChild(i),n!=j&&(P.setStartAfter(e),P.collapse(I)),s}function A(e,t){var n=w(P[z],P[W]-1),r,i,s,o,u,a=n!=P[z];if(n==e)return M(n,a,q,t);for(r=n.parentNode,i=M(r,q,q,t);r;){for(;n;)s=n.previousSibling,o=M(n,a,q,t),t!=F&&i.insertBefore(o,i.firstChild),a=I,n=s;if(r==e)return i;n=r.previousSibling,r=r.parentNode,u=M(r,q,q,t),t!=F&&u.appendChild(i),i=u}}function O(e,t){var n=w(P[U],P[R]),r=n!=P[U],i,s,o,u,a;if(n==e)return M(n,r,I,t);for(i=n.parentNode,s=M(i,q,I,t);i;){for(;n;)o=n.nextSibling,u=M(n,r,I,t),t!=F&&s.appendChild(u),r=I,n=o;if(i==e)return s;n=i.nextSibling,i=i.parentNode,a=M(i,q,I,t),t!=F&&a.appendChild(s),s=a}}function M(e,t,r,i){var s,o,u,a,f;if(t)return _(e,i);if(3==e.nodeType){if(s=e.nodeValue,r?(a=P[R],o=s.substring(a),u=s.substring(0,a)):(a=P[W],o=s.substring(0,a),u=s.substring(a)),i!=j&&(e.nodeValue=u),i==F)return;return f=n.clone(e,q),f.nodeValue=o,f}if(i!=F)return n.clone(e,q)}function _(e,t){return t!=F?t==j?n.clone(e,I):e:void e.parentNode.removeChild(e)}function D(){return n.create("body",null,m()).outerText}var P=this,H=n.doc,B=0,j=1,F=2,I=!0,q=!1,R="startOffset",U="startContainer",z="endContainer",W="endOffset",X=e.extend,V=n.nodeIndex;return X(P,{startContainer:H,startOffset:0,endContainer:H,endOffset:0,collapsed:I,commonAncestorContainer:H,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:i,setEnd:s,setStartBefore:o,setStartAfter:u,setEndBefore:a,setEndAfter:f,collapse:l,selectNode:c,selectNodeContents:h,compareBoundaryPoints:p,deleteContents:d,extractContents:v,cloneContents:m,insertNode:g,surroundContents:y,cloneRange:b,toStringIE:D}),P}return t.prototype.toString=function(){return this.toStringIE()},t}),r(w,[v],function(e){function t(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,r,i,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),s[r]||(i="&"+e[n+1]+";",o[r]=i,o[i]=r);return o}}var r=e.makeMap,i,s,o,u=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=/[<>&\"\']/g,l=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,c={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};s={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var h={encodeRaw:function(e,t){return e.replace(t?u:a,function(e){return s[e]||e})},encodeAllRaw:function(e){return(""+e).replace(f,function(e){return s[e]||e})},encodeNumeric:function(e,t){return e.replace(t?u:a,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":s[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||i,e.replace(t?u:a,function(e){return s[e]||n[e]||e})},getEncodeFunc:function(e,t){function o(e,n){return e.replace(n?u:a,function(e){return s[e]||t[e]||"&#"+e.charCodeAt(0)+";"||e})}function f(e,n){return h.encodeNamed(e,n,t)}return t=n(t)||i,e=r(e.replace(/\+/g,",")),e.named&&e.numeric?o:e.named?t?f:h.encodeNamed:e.numeric?h.encodeNumeric:h.encodeRaw},decode:function(e){return e.replace(l,function(e,n){return n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):c[n]||String.fromCharCode(n)):o[e]||i[e]||t(e)})}};return h}),r(E,[v,l],function(e,t){return function(n,r){function i(e){n.getElementsByTagName("head")[0].appendChild(e)}function s(r,s,f){function l(){for(var e=b.passed,t=e.length;t--;)e[t]();b.status=2,b.passed=[],b.failed=[]}function c(){for(var e=b.failed,t=e.length;t--;)e[t]();b.status=3,b.passed=[],b.failed=[]}function h(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&e[1]<536)}function p(e,n){e()||((new Date).getTime()-y<a?t.setTimeout(n):c())}function d(){p(function(){for(var e=n.styleSheets,t,r=e.length,i;r--;)if(t=e[r],i=t.ownerNode?t.ownerNode:t.owningElement,i&&i.id===m.id)return l(),!0},d)}function v(){p(function(){try{var e=g.sheet.cssRules;return l(),!!e}catch(t){}},v)}var m,g,y,b;if(r=e._addCacheSuffix(r),u[r]?b=u[r]:(b={passed:[],failed:[]},u[r]=b),s&&b.passed.push(s),f&&b.failed.push(f),1!=b.status){if(2==b.status)return void l();if(3==b.status)return void c();if(b.status=1,m=n.createElement("link"),m.rel="stylesheet",m.type="text/css",m.id="u"+o++,m.async=!1,m.defer=!1,y=(new Date).getTime(),"onload"in m&&!h())m.onload=d,m.onerror=c;else{if(navigator.userAgent.indexOf("Firefox")>0)return g=n.createElement("style"),g.textContent='@import "'+r+'"',v(),void i(g);d()}i(m),m.href=r}}var o=0,u={},a;r=r||{},a=r.maxLoadTime||5e3,this.load=s}}),r(S,[p,m,g,h,y,b,w,c,v,E],function(e,n,r,i,s,o,u,a,f,l){function c(e,t){var n={},r=t.keep_values,i;return i={set:function(n,r,i){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||e,r,i,n[0])),n.attr("data-mce-"+i,r).attr(i,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},n={style:{set:function(e,t){return null!==t&&"object"==typeof t?void e.css(t):(r&&e.attr("data-mce-style",t),void e.attr("style",t))},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serializeStyle(e.parseStyle(n),t[0].nodeName)}}},r&&(n.href=n.src=i),n}function h(e,t){var n=t.attr("style");n=e.serializeStyle(e.parseStyle(n),t[0].nodeName),n||(n=null),t.attr("data-mce-style",n)}function p(e,t){var n=0,r,i;if(e)for(r=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=r&&e.nodeValue.length)&&(n++,r=i);return n}function d(e,t){var s=this,o;s.doc=e,s.win=window,s.files={},s.counter=0,s.stdMode=!b||e.documentMode>=8,s.boxModel=!b||"CSS1Compat"==e.compatMode||s.stdMode,s.styleSheetLoader=new l(e),s.boundEvents=[],s.settings=t=t||{},s.schema=t.schema,s.styles=new r({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),s.fixDoc(e),s.events=t.ownEvents?new i(t.proxy):i.Event,s.attrHooks=c(s,t),o=t.schema?t.schema.getBlockElements():{},s.$=n.overrideDefaults(function(){return{context:e,element:s.getRoot()}}),s.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?1===t&&!!o[e.nodeName]:!!o[e]}}var v=f.each,m=f.is,g=f.grep,y=f.trim,b=a.ie,w=/^([a-z0-9],?)+$/i,E=/^[ \t\r\n]*$/;return d.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var t=this.settings,n;if(b&&t.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)});for(n in t.schema.getCustomElements())e.createElement(n)}},clone:function(e,t){var n=this,r,i;return!b||1!==e.nodeType||t?e.cloneNode(t):(i=n.doc,t?r.firstChild:(r=i.createElement(e.nodeName),v(n.getAttribs(e),function(t){n.setAttrib(r,t.nodeName,n.getAttrib(e,t.nodeName))}),r))},getRoot:function(){var e=this;return e.settings.root_element||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t=this,n,r;return e=t.get(e),n=t.getPos(e),r=t.getSize(e),{x:n.x,y:n.y,w:r.w,h:r.h}},getSize:function(e){var t=this,n,r;return e=t.get(e),n=t.getStyle(e,"width"),r=t.getStyle(e,"height"),-1===n.indexOf("px")&&(n=0),-1===r.indexOf("px")&&(r=0),{w:parseInt(n,10)||e.offsetWidth||e.clientWidth,h:parseInt(r,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,r,i){var s=this,o,u=[];for(e=s.get(e),i=i===t,r=r||("BODY"!=s.getRoot().nodeName?s.getRoot().parentNode:null),m(n,"string")&&(o=n,n="*"===n?function(e){return 1==e.nodeType}:function(e){return s.is(e,o)});e&&e!=r&&e.nodeType&&9!==e.nodeType;){if(!n||n(e)){if(!i)return e;u.push(e)}e=e.parentNode}return i?u:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var r=this;return e(t,r.get(n)||r.settings.root_element||r.doc,[])},is:function(n,r){var i;if(n.length===t){if("*"===r)return 1==n.nodeType;if(w.test(r)){for(r=r.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),i=r.length-1;i>=0;i--)if(r[i]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var s=n.nodeType?[n]:n;return e(r,s[0].ownerDocument||s[0],null,s).length>0},add:function(e,t,n,r,i){var s=this;return this.run(e,function(e){var o;return o=m(t,"string")?s.doc.createElement(t):t,s.setAttribs(o,n),r&&(r.nodeType?o.appendChild(r):s.setHTML(o,r)),i?o:e.appendChild(o)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r="",i;r+="<"+e;for(i in t)t.hasOwnProperty(i)&&null!==t[i]&&"undefined"!=typeof t[i]&&(r+=" "+i+'="'+this.encode(t[i])+'"');return"undefined"!=typeof n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n,r=this.doc,i;for(i=r.createElement("div"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&h(this,e)},getStyle:function(e,n,r){return e=this.$$(e),r?e.css(n):(n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"==n&&(n=a.ie&&a.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[n]:t)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&h(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var r=this,i,s,o=r.settings;""===n&&(n=null),e=r.$$(e),i=e.attr(t),e.length&&(s=r.attrHooks[t],s&&s.set?s.set(e,n,t):e.attr(t,n),i!=n&&o.onSetAttrib&&o.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each(function(e,r){v(t,function(e,t){n.setAttrib(r,t,e)})})},getAttrib:function(e,t,n){var r=this,i,s;return e=r.$$(e),e.length&&(i=r.attrHooks[t],s=i&&i.get?i.get(e,t):e.attr(t)),"undefined"==typeof s&&(s=n||""),s},getPos:function(e,t){var r=this,i=0,s=0,o,u=r.doc,a=u.body,f;if(e=r.get(e),t=t||a,e){if(t===a&&e.getBoundingClientRect&&"static"===n(a).css("position"))return f=e.getBoundingClientRect(),t=r.boxModel?u.documentElement:a,i=f.left+(u.documentElement.scrollLeft||a.scrollLeft)-t.clientLeft,s=f.top+(u.documentElement.scrollTop||a.scrollTop)-t.clientTop,{x:i,y:s};for(o=e;o&&o!=t&&o.nodeType;)i+=o.offsetLeft||0,s+=o.offsetTop||0,o=o.offsetParent;for(o=e.parentNode;o&&o!=t&&o.nodeType;)i-=o.scrollLeft||0,s-=o.scrollTop||0,o=o.parentNode}return{x:i,y:s}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t=this,n=t.doc,r,i;if(t!==d.DOM&&n===document){var s=d.DOM.addedStyles;if(s=s||[],s[e])return;s[e]=!0,d.DOM.addedStyles=s}i=n.getElementById("mceDefaultStyles"),i||(i=n.createElement("style"),i.id="mceDefaultStyles",i.type="text/css",r=n.getElementsByTagName("head")[0],r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(n.createTextNode(e))},loadCSS:function(e){var t=this,n=t.doc,r;return t!==d.DOM&&n===document?void d.DOM.loadCSS(e):(e||(e=""),r=n.getElementsByTagName("head")[0],void v(e.split(","),function(e){var i;e=f._addCacheSuffix(e),t.files[e]||(t.files[e]=!0,i=t.create("link",{rel:"stylesheet",href:e}),b&&n.documentMode&&n.recalc&&(i.onload=function(){n.recalc&&n.recalc(),i.onload=null}),r.appendChild(i))}))},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,r){this.$$(e).toggleClass(t,r).each(function(){""===this.className&&n(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(e,t){e=this.$$(e),b?e.each(function(e,r){if(r.canHaveHTML!==!1){for(;r.firstChild;)r.removeChild(r.firstChild);try{r.innerHTML="<br>"+t,r.removeChild(r.firstChild)}catch(i){n("<div>").html("<br>"+t).contents().slice(1).appendTo(r)}return t}}):e.html(t)},getOuterHTML:function(e){return e=this.get(e),1==e.nodeType&&"outerHTML"in e?e.outerHTML:n("<div>").append(n(e).clone()).html()},setOuterHTML:function(e,t){var r=this;r.$$(e).each(function(){try{if("outerHTML"in this)return void (this.outerHTML=t)}catch(e){}r.remove(n(this).html(t),!0)})},decode:u.decode,encode:u.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,r;return n=t.parentNode,r=t.nextSibling,r?n.insertBefore(e,r):n.appendChild(e),e})},replace:function(e,t,n){var r=this;return r.run(t,function(t){return m(t,"array")&&(e=e.cloneNode(!0)),n&&v(g(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n=this,r;return e.nodeName!=t.toUpperCase()&&(r=n.create(t),v(n.getAttribs(e),function(t){n.setAttrib(r,t.nodeName,n.getAttrib(e,t.nodeName))}),n.replace(r,e,1)),r||e},findCommonAncestor:function(e,t){for(var n=e,r;n;){for(r=t;r&&n!=r;)r=r.parentNode;if(n==r)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},toHex:function(e){return this.styles.toHex(f.trim(e))},run:function(e,t,n){var r=this,i;return"string"==typeof e&&(e=r.get(e)),e?(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(i=[],v(e,function(e,s){e&&("string"==typeof e&&(e=r.get(e)),i.push(t.call(n,e,s)))}),i)):!1},getAttribs:function(e){var t;if(e=this.get(e),!e)return[];if(b){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n=this,r,i,o,u,a,f=0;if(e=e.firstChild){u=new s(e,e.parentNode),t=t||(n.schema?n.schema.getNonEmptyElements():null);do{if(o=e.nodeType,1===o){if(e.getAttribute("data-mce-bogus"))continue;if(a=e.nodeName.toLowerCase(),t&&t[a]){if("br"===a){f++;continue}return!1}for(i=n.getAttribs(e),r=i.length;r--;)if(a=i[r].nodeName,"name"===a||"data-mce-bookmark"===a)return!1}if(8==o)return!1;if(3===o&&!E.test(e.nodeValue))return!1}while(e=u.next())}return 1>=f},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new o(this)},nodeIndex:p,split:function(e,t,n){function r(e){function t(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var n,s=e.childNodes,o=e.nodeType;if(1!=o||"bookmark"!=e.getAttribute("data-mce-type")){for(n=s.length-1;n>=0;n--)r(s[n]);if(9!=o){if(3==o&&e.nodeValue.length>0){var u=y(e.nodeValue).length;if(!i.isBlock(e.parentNode)||u>0||0===u&&t(e))return}else if(1==o&&(s=e.childNodes,1==s.length&&s[0]&&1==s[0].nodeType&&"bookmark"==s[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(s[0],e),s.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;i.remove(e)}return e}}var i=this,s=i.createRng(),o,u,a;return e&&t?(s.setStart(e.parentNode,i.nodeIndex(e)),s.setEnd(t.parentNode,i.nodeIndex(t)),o=s.extractContents(),s=i.createRng(),s.setStart(t.parentNode,i.nodeIndex(t)+1),s.setEnd(e.parentNode,i.nodeIndex(e)+1),u=s.extractContents(),a=e.parentNode,a.insertBefore(r(o),e),n?a.insertBefore(n,e):a.insertBefore(t,e),a.insertBefore(r(u),e),i.remove(e),n||t):void 0},bind:function(e,t,n,r){var i=this;if(f.isArray(e)){for(var s=e.length;s--;)e[s]=i.bind(e[s],t,n,r);return e}return!i.settings.collect||e!==i.doc&&e!==i.win||i.boundEvents.push([e,t,n,r]),i.events.bind(e,t,n,r||i)},unbind:function(e,t,n){var r=this,i;if(f.isArray(e)){for(i=e.length;i--;)e[i]=r.unbind(e[i],t,n);return e}if(r.boundEvents&&(e===r.doc||e===r.win))for(i=r.boundEvents.length;i--;){var s=r.boundEvents[i];e!=s[0]||t&&t!=s[1]||n&&n!=s[2]||this.events.unbind(s[0],s[1],s[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"),t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null):null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&(n=this.getContentEditable(e),null===n);e=e.parentNode);return n},destroy:function(){var t=this;if(t.boundEvents){for(var n=t.boundEvents.length;n--;){var r=t.boundEvents[n];this.events.unbind(r[0],r[1],r[2])}t.boundEvents=null}e.setDocument&&e.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,i=t;if(e)for("string"==typeof i&&(i=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(i(e))return e;return null}},d.DOM=new d(document),d.nodeIndex=p,d}),r(x,[S,v],function(e,t){function n(){function e(e,n){function i(){o.remove(a),u&&(u.onreadystatechange=u.onload=u=null),n()}function s(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+e)}var o=r,u,a;a=o.uniqueId(),u=document.createElement("script"),u.id=a,u.type="text/javascript",u.src=t._addCacheSuffix(e),"onreadystatechange"in u?u.onreadystatechange=function(){/loaded|complete/.test(u.readyState)&&i()}:u.onload=i,u.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(u)}var n=0,o=1,u=2,a={},f=[],l={},c=[],h=0,p;this.isDone=function(e){return a[e]==u},this.markDone=function(e){a[e]=u},this.add=this.load=function(e,t,r){var i=a[e];i==p&&(f.push(e),a[e]=n),t&&(l[e]||(l[e]=[]),l[e].push({func:t,scope:r||this}))},this.loadQueue=function(e,t){this.loadScripts(f,e,t)},this.loadScripts=function(t,n,r){function f(e){i(l[e],function(e){e.func.call(e.scope)}),l[e]=p}var d;c.push({func:n,scope:r||this}),(d=function(){var n=s(t);t.length=0,i(n,function(t){return a[t]==u?void f(t):void (a[t]!=o&&(a[t]=o,h++,e(t,function(){a[t]=u,h--,f(t),d()})))}),h||(i(c,function(e){e.func.call(e.scope)}),c.length=0)})()}}var r=e.DOM,i=t.each,s=t.grep;return n.ScriptLoader=new n,n}),r(T,[x,v],function(e,n){function r(){var e=this;e.items=[],e.urls={},e.lookup={}}var i=n.each;return r.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t,n){var i=r.language;if(i&&r.languageLoad!==!1){if(n)if(n=","+n+",",-1!=n.indexOf(","+i.substr(0,2)+","))i=i.substr(0,2);else if(-1==n.indexOf(","+i+","))return;e.ScriptLoader.add(this.urls[t]+"/langs/"+i+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var r=this.urls[t];i(n,function(t){e.ScriptLoader.add(r+"/"+t)})},load:function(n,s,o,u){function a(){var r=f.dependencies(n);i(r,function(e){var n=f.createUrl(s,e);f.load(n.resource,n,t,t)}),o&&(u?o.call(u):o.call(e))}var f=this,l=s;f.urls[n]||("object"==typeof s&&(l=s.prefix+s.resource+s.suffix),0!==l.indexOf("/")&&-1==l.indexOf("://")&&(l=r.baseURL+"/"+l),f.urls[n]=l.substring(0,l.lastIndexOf("/")),f.lookup[n]?a():e.ScriptLoader.add(l,a,u))}},r.PluginManager=new r,r.ThemeManager=new r,r}),r(N,[],function(){function e(e){return function(t){return!!t&&t.nodeType==e}}function t(e){return e=e.toLowerCase().split(" "),function(t){var n,r;if(t&&t.nodeType)for(r=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(r===e[n])return!0;return!1}}function n(e,t){return t=t.toLowerCase().split(" "),function(n){var r,i;if(u(n))for(r=0;r<t.length;r++)if(i=getComputedStyle(n,null).getPropertyValue(e),i===t[r])return!0;return!1}}function r(e,t){return function(n){return u(n)&&n[e]===t}}function i(e,t){return function(n){return u(n)&&n.getAttribute(e)===t}}function s(e){return u(e)&&e.hasAttribute("data-mce-bogus")}function o(e){return function(t){if(u(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}}var u=e(1);return{isText:e(3),isElement:u,isComment:e(8),isBr:t("br"),isContentEditableTrue:o("true"),isContentEditableFalse:o("false"),matchNodeNames:t,hasPropValue:r,hasAttributeValue:i,matchStyleValues:n,isBogus:s}}),r(C,[],function(){function e(e){return e==n}function t(e){return e.replace(new RegExp(n,"g"),"")}var n="";return{isZwsp:e,ZWSP:n,trim:t}}),r(k,[N,C],function(e,t){function n(e){return c(e)&&(e=e.parentNode),l(e)&&e.hasAttribute("data-mce-caret")}function r(e){return c(e)&&t.isZwsp(e.data)}function i(e){return n(e)||r(e)}function s(e,n){var r,s,o,u;if(r=e.ownerDocument,o=r.createTextNode(t.ZWSP),u=e.parentNode,n){if(s=e.previousSibling,c(s)){if(i(s))return s;if(f(s))return s.splitText(s.data.length-1)}u.insertBefore(o,e)}else{if(s=e.nextSibling,c(s)){if(i(s))return s;if(a(s))return s.splitText(1),s}e.nextSibling?u.insertBefore(o,e.nextSibling):u.appendChild(o)}return o}function o(e,t,n){var r,i,s;return r=t.ownerDocument,i=r.createElement(e),i.setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(r.createTextNode("")),s=t.parentNode,n?s.insertBefore(i,t):t.nextSibling?s.insertBefore(i,t.nextSibling):s.appendChild(i),i}function u(e){var n;l(e)&&i(e)&&("&nbsp;"!=e.innerHTML?e.removeAttribute("data-mce-caret"):e.parentNode&&e.parentNode.removeChild(e)),c(e)&&(n=t.trim(e.data),0===n.length&&e.parentNode&&e.parentNode.removeChild(e),e.nodeValue=n)}function a(e){return c(e)&&e.data[0]==t.ZWSP}function f(e){return c(e)&&e.data[e.data.length-1]==t.ZWSP}var l=e.isElement,c=e.isText;return{isCaretContainer:i,isCaretContainerBlock:n,isCaretContainerInline:r,insertInline:s,insertBlock:o,remove:u,startsWithCaretContainer:a,endsWithCaretContainer:f}}),r(L,[v,y,N,k],function(e,t,n,r){function i(e,t){var n=e.childNodes;return t--,t>n.length-1?t=n.length-1:0>t&&(t=0),n[t]||e}function s(e){this.walk=function(t,n){function r(e){var t;return t=e[0],3===t.nodeType&&t===f&&l>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===h&&e.length>0&&t===c&&3===t.nodeType&&e.splice(e.length-1,1),e}function s(e,t,n){for(var r=[];e&&e!=n;e=e[t])r.push(e);return r}function o(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function a(e,t,i){var o=i?"nextSibling":"previousSibling";for(m=e,g=m.parentNode;m&&m!=t;m=g)g=m.parentNode,y=s(m==e?m:m[o],o),y.length&&(i||y.reverse(),n(r(y)))}var f=t.startContainer,l=t.startOffset,c=t.endContainer,h=t.endOffset,p,d,v,m,g,y,b;if(b=e.select("td[data-mce-selected],th[data-mce-selected]"),b.length>0)return void u(b,function(e){n([e])});if(1==f.nodeType&&f.hasChildNodes()&&(f=f.childNodes[l]),1==c.nodeType&&c.hasChildNodes()&&(c=i(c,h)),f==c)return n(r([f]));for(p=e.findCommonAncestor(f,c),m=f;m;m=m.parentNode){if(m===c)return a(f,p,!0);if(m===p)break}for(m=c;m;m=m.parentNode){if(m===f)return a(c,p);if(m===p)break}d=o(f,p)||f,v=o(c,p)||c,a(f,d,!0),y=s(d==f?d:d.nextSibling,"nextSibling",v==c?v.nextSibling:v),y.length&&n(r(y)),a(c,v)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset;return n==i&&3==n.nodeType?r>0&&r<n.nodeValue.length&&(i=t(n,r),n=i.previousSibling,s>r?(s-=r,n=i=t(i,s).previousSibling,s=i.nodeValue.length,r=0):s=0):(3==n.nodeType&&r>0&&r<n.nodeValue.length&&(n=t(n,r),r=0),3==i.nodeType&&s>0&&s<i.nodeValue.length&&(i=t(i,s).previousSibling,s=i.nodeValue.length)),{startContainer:n,startOffset:r,endContainer:i,endOffset:s}},this.normalize=function(n){function r(r){function o(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function u(n,r){for(var i=new t(n,e.getParent(n.parentNode,e.isBlock)||m);n=i[r?"prev":"next"]();)if("BR"===n.nodeName)return!0}function l(e){for(;e&&e!=m;){if(a(e))return!0;e=e.parentNode}return!1}function c(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}function h(n,r){var o,u,a;if(r=r||p,a=e.getParent(r.parentNode,e.isBlock)||m,n&&"BR"==r.nodeName&&w&&e.isEmpty(a))return p=r.parentNode,d=e.nodeIndex(r),void (i=!0);for(o=new t(r,a);g=o[n?"prev":"next"]();){if("false"===e.getContentEditableParent(g)||f(g))return;if(3===g.nodeType&&g.nodeValue.length>0)return p=g,d=n?g.nodeValue.length:0,void (i=!0);if(e.isBlock(g)||y[g.nodeName.toLowerCase()])return;u=g}s&&u&&(p=u,i=!0,d=0)}var p,d,v,m=e.getRoot(),g,y,b,w;if(p=n[(r?"start":"end")+"Container"],d=n[(r?"start":"end")+"Offset"],w=1==p.nodeType&&d===p.childNodes.length,y=e.schema.getNonEmptyElements(),b=r,!f(p)){if(1==p.nodeType&&d>p.childNodes.length-1&&(b=!1),9===p.nodeType&&(p=e.getRoot(),d=0),p===m){if(b&&(g=p.childNodes[d>0?d-1:0])){if(f(g))return;if(y[g.nodeName]||"TABLE"==g.nodeName)return}if(p.hasChildNodes()){if(d=Math.min(!b&&d>0?d-1:d,p.childNodes.length-1),p=p.childNodes[d],d=0,l(p)||f(p))return;if(p.hasChildNodes()&&!/TABLE/.test(p.nodeName)){g=p,v=new t(p,m);do{if(a(g)||f(g)){i=!1;break}if(3===g.nodeType&&g.nodeValue.length>0){d=b?0:g.nodeValue.length,p=g,i=!0;break}if(y[g.nodeName.toLowerCase()]&&!o(g)){d=e.nodeIndex(g),p=g.parentNode,"IMG"!=g.nodeName||b||d++,i=!0;break}}while(g=b?v.next():v.prev())}}}s&&(3===p.nodeType&&0===d&&h(!0),1===p.nodeType&&(g=p.childNodes[d],g||(g=p.childNodes[d-1]),!g||"BR"!==g.nodeName||c(g,"A")||u(g)||u(g,!0)||h(!0,g))),b&&!s&&3===p.nodeType&&d===p.nodeValue.length&&h(!1),i&&n["set"+(r?"Start":"End")](p,d)}}var i,s;return s=n.collapsed,r(!0),s||r(),i&&s&&n.collapse(!0),i}}function o(t,n,r){var i,s,o;if(i=r.elementFromPoint(t,n),s=r.body.createTextRange(),"HTML"==i.tagName&&(i=r.body),s.moveToElementText(i),o=e.toArray(s.getClientRects()),o=o.sort(function(e,t){return e=Math.abs(Math.max(e.top-n,e.bottom-n)),t=Math.abs(Math.max(t.top-n,t.bottom-n)),e-t}),o.length>0){n=(o[0].bottom+o[0].top)/2;try{return s.moveToPoint(t,n),s.collapse(!0),s}catch(u){}}return null}var u=e.each,a=n.isContentEditableFalse,f=r.isCaretContainer;return s.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},s.getCaretRangeFromPoint=function(e,t,n){var r,i;if(n.caretPositionFromPoint)i=n.caretPositionFromPoint(e,t),r=n.createRange(),r.setStart(i.offsetNode,i.offset),r.collapse(!0);else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(n.body.createTextRange){r=n.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(s){r=o(e,t,n)}}return r},s.getSelectedNode=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},s.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},s}),r(A,[L,c,l],function(e,t,n){return function(r){function i(e){var t,n;if(n=r.$(e).parentsUntil(r.getBody()).add(e),n.length===o.length){for(t=n.length;t>=0&&n[t]===o[t];t--);if(-1===t)return o=n,!0}return o=n,!1}var s,o=[];"onselectionchange"in r.getDoc()||r.on("NodeChange Click MouseUp KeyUp Focus",function(t){var n,i;n=r.selection.getRng(),i={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=t.type&&e.compareRanges(i,s)||r.fire("SelectionChange"),s=i}),r.on("contextmenu",function(){r.fire("SelectionChange")}),r.on("SelectionChange",function(){var e=r.selection.getStart(!0);!t.range&&r.selection.isCollapsed()||!i(e)&&r.dom.isChildOf(e,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"==r.selection.getNode().nodeName?n.setEditorTimeout(r,function(){r.nodeChanged()}):r.nodeChanged())}),this.nodeChanged=function(e){var t=r.selection,n,i,s;r.initialized&&t&&!r.settings.disable_nodechange&&!r.readonly&&(s=r.getBody(),n=t.getStart()||s,n.ownerDocument==r.getDoc()&&r.dom.isChildOf(n,s)||(n=s),"IMG"==n.nodeName&&t.isCollapsed()&&(n=n.parentNode),i=[],r.dom.getParent(n,function(e){return e===s?!0:void i.push(e)}),e=e||{},e.element=n,e.parents=i,r.fire("NodeChange",e))}}}),r(O,[],function(){function e(e,t,n){var r,i,s=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[s])return e[s];if(e!==t){if(r=e[o])return r;for(i=e.parent;i&&i!==t;i=i.parent)if(r=i[o])return r}}function t(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,r={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return t.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n=this,r,i,s;if("string"!=typeof e){for(i in e)n.attr(i,e[i]);return n}if(r=n.attributes){if(t!==s){if(null===t){if(e in r.map)for(delete r.map[e],i=r.length;i--;)if(r[i].name===e)return r=r.splice(i,1),n;return n}if(e in r.map){for(i=r.length;i--;)if(r[i].name===e){r[i].value=t;break}}else r.push({name:e,value:t});return r.map[e]=t,n}return r.map[e]}},clone:function(){var e=this,n=new t(e.name,e.type),r,i,s,o,u;if(s=e.attributes){for(u=[],u.map={},r=0,i=s.length;i>r;r++)o=s[r],"id"!==o.name&&(u[u.length]={name:o.name,value:o.value},u.map[o.name]=o.value);n.attributes=u}return n.value=e.value,n.shortEnded=e.shortEnded,n},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e=this,t,n;for(t=e.firstChild;t;)n=t.next,e.insert(t,e,!0),t=n;e.remove()},remove:function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},append:function(e){var t=this,n;return e.parent&&e.remove(),n=t.lastChild,n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},insert:function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},getAll:function(t){var n=this,r,i=[];for(r=n.firstChild;r;r=e(r,n))r.name===t&&i.push(r);return i},empty:function(){var t=this,n,r,i;if(t.firstChild){for(n=[],i=t.firstChild;i;i=e(i,t))n.push(i);for(r=n.length;r--;)i=n[r],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return t.firstChild=t.lastChild=null,t},isEmpty:function(t){var r=this,i=r.firstChild,s,o;if(i)do{if(1===i.type){if(i.attributes.map["data-mce-bogus"])continue;if(t[i.name])return!1;for(s=i.attributes.length;s--;)if(o=i.attributes[s].name,"name"===o||0===o.indexOf("data-mce-bookmark"))return!1}if(8===i.type)return!1;if(3===i.type&&!n.test(i.value))return!1}while(i=e(i,r));return!0},walk:function(t){return e(this,null,t)}},t.create=function(e,n){var i,s;if(i=new t(e,r[e]||1),n)for(s in n)i.attr(s,n[s]);return i},t}),r(M,[v],function(e){function t(e,t){return e?e.split(t||" "):[]}function n(e){function n(e,n,r){function i(e,t){var n={},r,i;for(r=0,i=e.length;i>r;r++)n[e[r]]=t||{};return n}var u,f,l,c=arguments;for(r=r||[],n=n||"","string"==typeof r&&(r=t(r)),f=3;f<c.length;f++)"string"==typeof c[f]&&(c[f]=t(c[f])),r.push.apply(r,c[f]);for(e=t(e),u=e.length;u--;)l=[].concat(a,t(n)),o[e[u]]={attributes:i(l),attributesOrder:l,children:i(r,s)}}function r(e,n){var r,i,s,u;for(e=t(e),r=e.length,n=t(n);r--;)for(i=o[e[r]],s=0,u=n.length;u>s;s++)i.attributes[n[s]]={},i.attributesOrder.push(n[s])}var o={},a,f,l,c,h,p;return i[e]?i[e]:(a=t("id accesskey class dir lang style tabindex title"),f=t("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),l=t("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=e&&(a.push.apply(a,t("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),f.push.apply(f,t("article aside details dialog figure header footer hgroup section nav")),l.push.apply(l,t("audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"))),"html5-strict"!=e&&(a.push("xml:lang"),p=t("acronym applet basefont big font strike tt"),l.push.apply(l,p),u(p,function(e){n(e,"",l)}),h=t("center dir isindex noframes"),f.push.apply(f,h),c=[].concat(f,l),u(h,function(e){n(e,"",c)})),c=c||[].concat(f,l),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",c),n("address dt dd div caption","",c),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),n("blockquote","cite",c),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",c),n("dl","","dt dd"),n("a","href target rel media hreflang type",l),n("q","cite",l),n("ins del","cite datetime",c),n("img","src sizes srcset alt usemap ismap width height"),n("iframe","src name width height",c),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",c,"param"),n("param","name value"),n("map","name",c,"area"),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",c),n("th","colspan rowspan headers scope abbr",c),n("form","accept-charset action autocomplete enctype method name novalidate target",c),n("fieldset","disabled form name",c,"legend"),n("label","form for",l),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?c:l),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",c,"li"),n("noscript","",c),"html4"!=e&&(n("wbr"),n("ruby","",l,"rt rp"),n("figcaption","",c),n("mark rt rp summary bdi","",l),n("canvas","width height",c),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",c,"track source"),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",c,"track source"),n("picture","","img source"),n("source","src srcset type media sizes"),n("track","kind src srclang label default"),n("datalist","",l,"option"),n("article section nav aside header footer","",c),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",c,"figcaption"),n("time","datetime",l),n("dialog","open",c),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",l),n("progress","value max",l),n("meter","value min max low high optimum",l),n("details","open",c,"summary"),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(r("script","language xml:space"),r("style","xml:space"),r("object","declare classid code codebase codetype archive standby align border hspace vspace"),r("embed","align name hspace vspace"),r("param","valuetype type"),r("a","charset name rev shape coords"),r("br","clear"),r("applet","codebase archive code object alt name width height align hspace vspace"),r("img","name longdesc align border hspace vspace"),r("iframe","longdesc frameborder marginwidth marginheight scrolling align"),r("font basefont","size color face"),r("input","usemap align"),r("select","onchange"),r("textarea"),r("h1 h2 h3 h4 h5 h6 div p legend caption","align"),r("ul","type compact"),r("li","type"),r("ol dl menu dir","compact"),r("pre","width xml:space"),r("hr","align noshade size width"),r("isindex","prompt"),r("table","summary width frame rules cellspacing cellpadding align bgcolor"),r("col","width align char charoff valign"),r("colgroup","width align char charoff valign"),r("thead","align char charoff valign"),r("tr","align char charoff valign bgcolor"),r("th","axis align char charoff valign nowrap bgcolor width height"),r("form","accept"),r("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),r("tfoot","align char charoff valign"),r("tbody","align char charoff valign"),r("area","nohref"),r("body","background bgcolor text link vlink alink")),"html4"!=e&&(r("input button select textarea","autofocus"),r("input textarea","placeholder"),r("a","download"),r("link script img","crossorigin"),r("iframe","sandbox seamless allowfullscreen")),u(t("a form meter progress dfn"),function(e){o[e]&&delete o[e].children[e]}),delete o.caption.children.table,delete o.script,i[e]=o,o)}function r(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),u(e,function(e,r){n[r]=n[r.toUpperCase()]="map"==t?o(e,/[, ]/):f(e,/[, ]/)})),n}var i={},s={},o=e.makeMap,u=e.each,a=e.extend,f=e.explode,l=e.inArray;return function(e){function s(t,n,r){var s=e[t];return s?s=o(s,/[, ]/,o(s.toUpperCase(),/[, ]/)):(s=i[t],s||(s=o(n," ",o(n.toUpperCase()," ")),s=a(s,r),i[t]=s)),s}function c(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function h(e){var n,r,i,s,u,a,f,h,p,d,v,m,g,b,E,S,x,T,N,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,L=/[*?+]/;if(e)for(e=t(e,","),y["@"]&&(S=y["@"].attributes,x=y["@"].attributesOrder),n=0,r=e.length;r>n;n++)if(u=C.exec(e[n])){if(b=u[1],p=u[2],E=u[3],h=u[5],m={},g=[],a={attributes:m,attributesOrder:g},"#"===b&&(a.paddEmpty=!0),"-"===b&&(a.removeEmpty=!0),"!"===u[4]&&(a.removeEmptyAttrs=!0),S){for(T in S)m[T]=S[T];g.push.apply(g,x)}if(h)for(h=t(h,"|"),i=0,s=h.length;s>i;i++)if(u=k.exec(h[i])){if(f={},v=u[1],d=u[2].replace(/::/g,":"),b=u[3],N=u[4],"!"===v&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(d),f.required=!0),"-"===v){delete m[d],g.splice(l(g,d),1);continue}b&&("="===b&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:d,value:N}),f.defaultValue=N),":"===b&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:d,value:N}),f.forcedValue=N),"<"===b&&(f.validValues=o(N,"?"))),L.test(d)?(a.attributePatterns=a.attributePatterns||[],f.pattern=c(d),a.attributePatterns.push(f)):(m[d]||g.push(d),m[d]=f)}S||"@"!=p||(S=m,x=g),E&&(a.outputName=p,y[E]=a),L.test(p)?(a.pattern=c(p),w.push(a)):y[p]=a}}function p(e){y={},w=[],h(e),u(x,function(e,t){b[t]=e.children})}function d(e){var n=/^(~)?(.+)$/;e&&(i.text_block_elements=i.block_elements=null,u(t(e,","),function(e){var t=n.exec(e),r="~"===t[1],i=r?"span":"div",s=t[2];if(b[s]=b[i],P[s]=i,r||(A[s.toUpperCase()]={},A[s]={}),!y[s]){var o=y[i];o=a({},o),delete o.removeEmptyAttrs,delete o.removeEmpty,y[s]=o}u(b,function(e,t){e[i]&&(b[t]=e=a({},b[t]),e[s]=e[i])})}))}function v(n){var r=/^([+\-]?)(\w+)\[([^\]]+)\]$/;i[e.schema]=null,n&&u(t(n,","),function(e){var n=r.exec(e),i,s;n&&(s=n[1],i=s?b[n[2]]:b[n[2]]={"#comment":{}},i=b[n[2]],u(t(n[3],"|"),function(e){"-"===s?delete i[e]:i[e]={}}))})}function m(e){var t=y[e],n;if(t)return t;for(n=w.length;n--;)if(t=w[n],t.pattern.test(e))return t}var g=this,y={},b={},w=[],E,S,x,T,N,C,k,L,A,O,M,_,D,P={},H={};e=e||{},x=n(e.schema),e.verify_html===!1&&(e.valid_elements="*[*]"),E=r(e.valid_styles),S=r(e.invalid_styles,"map"),L=r(e.valid_classes,"map"),T=s("whitespace_elements","pre script noscript style textarea video audio iframe object"),N=s("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),C=s("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),k=s("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),O=s("non_empty_elements","td th iframe video audio object script",C),M=s("move_caret_before_on_enter_elements","table",O),_=s("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),A=s("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",_),D=s("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),u((e.special||"script noscript style textarea").split(" "),function(e){H[e]=new RegExp("</"+e+"[^>]*>","gi")}),e.valid_elements?p(e.valid_elements):(u(x,function(e,t){y[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},b[t]=e.children}),"html5"!=e.schema&&u(t("strong/b em/i"),function(e){e=t(e,"/"),y[e[1]].outputName=e[0]}),u(t("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){y[e]&&(y[e].removeEmpty=!0)}),u(t("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){y[e].paddEmpty=!0}),u(t("span"),function(e){y[e].removeEmptyAttrs=!0})),d(e.custom_elements),v(e.valid_children),h(e.extended_valid_elements),v("+ol[ul|ol],+ul[ul|ol]"),e.invalid_elements&&u(f(e.invalid_elements),function(e){y[e]&&delete y[e]}),m("span")||h("span[!data-mce-type|*]"),g.children=b,g.getValidStyles=function(){return E},g.getInvalidStyles=function(){return S},g.getValidClasses=function(){return L},g.getBoolAttrs=function(){return k},g.getBlockElements=function(){return A},g.getTextBlockElements=function(){return _},g.getTextInlineElements=function(){return D},g.getShortEndedElements=function(){return C},g.getSelfClosingElements=function(){return N},g.getNonEmptyElements=function(){return O},g.getMoveCaretBeforeOnEnterElements=function(){return M},g.getWhiteSpaceElements=function(){return T},g.getSpecialElements=function(){return H},g.isValidChild=function(e,t){var n=b[e];return!!n&&!!n[t]},g.isValid=function(e,t){var n,r,i=m(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},g.getElementRule=m,g.getCustomElements=function(){return P},g.addValidElements=h,g.setValidElements=p,g.addCustomElements=d,g.addValidChildren=v,g.elements=y}}),r(_,[M,w,v],function(e,t,n){function r(e,t,n){var r=1,i,s,o,u;for(u=e.getShortEndedElements(),o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,o.lastIndex=i=n;s=o.exec(t);){if(i=o.lastIndex,"/"===s[1])r--;else if(!s[1]){if(s[2]in u)continue;r++}if(0===r)break}return i}function i(i,o){function u(){}var a=this;i=i||{},a.schema=o=o||new e,i.fix_self_closing!==!1&&(i.fix_self_closing=!0),s("comment cdata text start end pi doctype".split(" "),function(e){e&&(a[e]=i[e]||u)}),a.parse=function(e){function s(e){var t,n;for(t=p.length;t--&&p[t].name!==e;);if(t>=0){for(n=p.length-1;n>=t;n--)e=p[n],e.valid&&a.end(e.name);p.length=t}}function u(e,t,n,r,s){var o,u,a=/[\s\u0000-\u001F]+/g;if(t=t.toLowerCase(),n=t in E?t:q(n||r||s||""),x&&!y&&0!==t.indexOf("data-")){if(o=L[t],!o&&A){for(u=A.length;u--&&(o=A[u],!o.pattern.test(t)););-1===u&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}if(U[t]&&!i.allow_script_urls){var f=n.replace(a,"");try{f=decodeURIComponent(f)}catch(l){f=unescape(f)}if(z.test(f))return;if(!i.allow_html_data_urls&&W.test(f)&&!/^data:image\//i.test(f))return}d.map[t]=n,d.push({name:t,value:n})}var a=this,f,l=0,c,h,p=[],d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I=0,q=t.decode,R,U=n.makeMap("src,href,data,background,formaction,poster"),z=/((java|vb)script|mhtml):/i,W=/^data:/i;for(H=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),B=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,w=o.getShortEndedElements(),P=i.self_closing_elements||o.getSelfClosingElements(),E=o.getBoolAttrs(),x=i.validate,b=i.remove_internals,R=i.fix_self_closing,j=o.getSpecialElements();f=H.exec(e);){if(l<f.index&&a.text(q(e.substr(l,f.index-l))),c=f[6])c=c.toLowerCase(),":"===c.charAt(0)&&(c=c.substr(1)),s(c);else if(c=f[7]){if(c=c.toLowerCase(),":"===c.charAt(0)&&(c=c.substr(1)),S=c in w,R&&P[c]&&p.length>0&&p[p.length-1].name===c&&s(c),!x||(T=o.getElementRule(c))){if(N=!0,x&&(L=T.attributes,A=T.attributePatterns),(k=f[8])?(y=-1!==k.indexOf("data-mce-type"),y&&b&&(N=!1),d=[],d.map={},k.replace(B,u)):(d=[],d.map={}),x&&!y){if(O=T.attributesRequired,M=T.attributesDefault,_=T.attributesForced,D=T.removeEmptyAttrs,D&&!d.length&&(N=!1),_)for(v=_.length;v--;)C=_[v],g=C.name,F=C.value,"{$uid}"===F&&(F="mce_"+I++),d.map[g]=F,d.push({name:g,value:F});if(M)for(v=M.length;v--;)C=M[v],g=C.name,g in d.map||(F=C.value,"{$uid}"===F&&(F="mce_"+I++),d.map[g]=F,d.push({name:g,value:F}));if(O){for(v=O.length;v--&&!(O[v]in d.map););-1===v&&(N=!1)}if(C=d.map["data-mce-bogus"]){if("all"===C){l=r(o,e,H.lastIndex),H.lastIndex=l;continue}N=!1}}N&&a.start(c,d,S)}else N=!1;if(h=j[c]){h.lastIndex=l=f.index+f[0].length,(f=h.exec(e))?(N&&(m=e.substr(l,f.index-l)),l=f.index+f[0].length):(m=e.substr(l),l=e.length),N&&(m.length>0&&a.text(m,!0),a.end(c)),H.lastIndex=l;continue}S||(k&&k.indexOf("/")==k.length-1?N&&a.end(c):p.push({name:c,valid:N}))}else(c=f[1])?(">"===c.charAt(0)&&(c=" "+c),i.allow_conditional_comments||"[if"!==c.substr(0,3)||(c=" "+c),a.comment(c)):(c=f[2])?a.cdata(c):(c=f[3])?a.doctype(c):(c=f[4])&&a.pi(c,f[5]);l=f.index+f[0].length}for(l<e.length&&a.text(q(e.substr(l))),v=p.length-1;v>=0;v--)c=p[v],c.valid&&a.end(c.name)}}var s=n.each;return i.findEndTag=r,i}),r(D,[O,M,_,v],function(e,t,n,r){var i=r.makeMap,s=r.each,o=r.explode,u=r.extend;return function(r,a){function f(t){var n,r,s,o,u,f,c,h,p,d,v,m,g,y,b;for(v=i("tr,td,th,tbody,thead,tfoot,table"),d=a.getNonEmptyElements(),m=a.getTextBlockElements(),g=a.getSpecialElements(),n=0;n<t.length;n++)if(r=t[n],r.parent&&!r.fixed)if(m[r.name]&&"li"==r.parent.name){for(y=r.next;y&&m[y.name];)y.name="li",y.fixed=!0,r.parent.insert(y,r.parent),y=y.next;r.unwrap(r)}else{for(o=[r],s=r.parent;s&&!a.isValidChild(s.name,r.name)&&!v[s.name];s=s.parent)o.push(s);if(s&&o.length>1){for(o.reverse(),u=f=l.filterNode(o[0].clone()),p=0;p<o.length-1;p++){for(a.isValidChild(f.name,o[p].name)?(c=l.filterNode(o[p].clone()),f.append(c)):c=f,h=o[p].firstChild;h&&h!=o[p+1];)b=h.next,c.append(h),h=b;f=c}u.isEmpty(d)?s.insert(r,o[0],!0):(s.insert(u,o[0],!0),s.insert(r,u)),s=o[0],(s.isEmpty(d)||s.firstChild===s.lastChild&&"br"===s.firstChild.name)&&s.empty().remove()}else if(r.parent){if("li"===r.name){if(y=r.prev,!y||"ul"!==y.name&&"ul"!==y.name){if(y=r.next,!y||"ul"!==y.name&&"ul"!==y.name){r.wrap(l.filterNode(new e("ul",1)));continue}y.insert(r,y.firstChild,!0);continue}y.append(r);continue}a.isValidChild(r.parent.name,"div")&&a.isValidChild("div",r.name)?r.wrap(l.filterNode(new e("div",1))):g[r.name]?r.empty().remove():r.unwrap()}}}var l=this,c={},h=[],p={},d={};r=r||{},r.validate="validate"in r?r.validate:!0,r.root_name=r.root_name||"body",l.schema=a=a||new t,l.filterNode=function(e){var t,n,r;n in c&&(r=p[n],r?r.push(e):p[n]=[e]),t=h.length;for(;t--;)n=h[t].name,n in e.attributes.map&&(r=d[n],r?r.push(e):d[n]=[e]);return e},l.addNodeFilter=function(e,t){s(o(e),function(e){var n=c[e];n||(c[e]=n=[]),n.push(t)})},l.addAttributeFilter=function(e,t){s(o(e),function(e){var n;for(n=0;n<h.length;n++)if(h[n].name===e)return void h[n].callbacks.push(t);h.push({name:e,callbacks:[t]})})},l.parse=function(t,s){function o(){function e(e){e&&(t=e.firstChild,t&&3==t.type&&(t.value=t.value.replace(A,"")),t=e.lastChild,t&&3==t.type&&(t.value=t.value.replace(_,"")))}var t=y.firstChild,n,i;if(a.isValidChild(y.name,F.toLowerCase())){for(;t;)n=t.next,3==t.type||1==t.type&&"p"!==t.name&&!L[t.name]&&!t.attr("data-mce-type")?i?i.append(t):(i=l(F,1),i.attr(r.forced_root_block_attrs),y.insert(i,t),i.append(t)):(e(i),i=null),t=n;e(i)}}function l(t,n){var r=new e(t,n),i;return t in c&&(i=p[t],i?i.push(r):p[t]=[r]),r}function v(e){var t,n,r,i,s=a.getBlockElements();for(t=e.prev;t&&3===t.type;){if(r=t.value.replace(_,""),r.length>0)return void (t.value=r);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!s[n.name]&&"script"!=n.name&&"style"!=n.name){t=t.prev;continue}}i=t.prev,t.remove(),t=i}}function m(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}var g,y,b,w,E,S,x,T,N,C,k,L,A,O=[],M,_,D,P,H,B,j,F;if(s=s||{},p={},d={},L=u(i("script,style,head,html,body,title,meta,param"),a.getBlockElements()),j=a.getNonEmptyElements(),B=a.children,k=r.validate,F="forced_root_block"in s?s.forced_root_block:r.forced_root_block,H=a.getWhiteSpaceElements(),A=/^[ \t\r\n]+/,_=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,P=/^[ \t\r\n]+$/,g=new n({validate:k,allow_script_urls:r.allow_script_urls,allow_conditional_comments:r.allow_conditional_comments,self_closing_elements:m(a.getSelfClosingElements()),cdata:function(e){b.append(l("#cdata",4)).value=e},text:function(e,t){var n;M||(e=e.replace(D," "),b.lastChild&&L[b.lastChild.name]&&(e=e.replace(A,""))),0!==e.length&&(n=l("#text",3),n.raw=!!t,b.append(n).value=e)},comment:function(e){b.append(l("#comment",8)).value=e},pi:function(e,t){b.append(l(e,7)).value=t,v(b)},doctype:function(e){var t;t=b.append(l("#doctype",10)),t.value=e,v(b)},start:function(e,t,n){var r,i,s,o,u;if(s=k?a.getElementRule(e):{}){for(r=l(s.outputName||e,1),r.attributes=t,r.shortEnded=n,b.append(r),u=B[b.name],u&&B[r.name]&&!u[r.name]&&O.push(r),i=h.length;i--;)o=h[i].name,o in t.map&&(N=d[o],N?N.push(r):d[o]=[r]);L[e]&&v(r),n||(b=r),!M&&H[e]&&(M=!0)}},end:function(t){var n,r,i,s,o;if(r=k?a.getElementRule(t):{}){if(L[t]&&!M){if(n=b.firstChild,n&&3===n.type)if(i=n.value.replace(A,""),i.length>0)n.value=i,n=n.next;else for(s=n.next,n.remove(),n=s;n&&3===n.type;)i=n.value,s=n.next,(0===i.length||P.test(i))&&(n.remove(),n=s),n=s;if(n=b.lastChild,n&&3===n.type)if(i=n.value.replace(_,""),i.length>0)n.value=i,n=n.prev;else for(s=n.prev,n.remove(),n=s;n&&3===n.type;)i=n.value,s=n.prev,(0===i.length||P.test(i))&&(n.remove(),n=s),n=s}if(M&&H[t]&&(M=!1),(r.removeEmpty||r.paddEmpty)&&b.isEmpty(j))if(r.paddEmpty)b.empty().append(new e("#text","3")).value="";else if(!b.attributes.map.name&&!b.attributes.map.id)return o=b.parent,L[b.name]?b.empty().remove():b.unwrap(),void (b=o);b=b.parent}}},a),y=b=new e(s.context||r.root_name,11),g.parse(t),k&&O.length&&(s.context?s.invalid=!0:f(O)),F&&("body"==y.name||s.isRootContent)&&o(),!s.invalid){for(C in p){for(N=c[C],w=p[C],x=w.length;x--;)w[x].parent||w.splice(x,1);for(E=0,S=N.length;S>E;E++)N[E](w,C,s)}for(E=0,S=h.length;S>E;E++)if(N=h[E],N.name in d){for(w=d[N.name],x=w.length;x--;)w[x].parent||w.splice(x,1);for(x=0,T=N.callbacks.length;T>x;x++)N.callbacks[x](w,N.name,s)}}return y},r.remove_trailing_brs&&l.addNodeFilter("br",function(t){var n,r=t.length,i,s=u({},a.getBlockElements()),o=a.getNonEmptyElements(),f,l,c,h,p,d;for(s.body=1,n=0;r>n;n++)if(i=t[n],f=i.parent,s[i.parent.name]&&i===f.lastChild){for(c=i.prev;c;){if(h=c.name,"span"!==h||"bookmark"!==c.attr("data-mce-type")){if("br"!==h)break;if("br"===h){i=null;break}}c=c.prev}i&&(i.remove(),f.isEmpty(o)&&(p=a.getElementRule(f.name),p&&(p.removeEmpty?f.remove():p.paddEmpty&&(f.empty().append(new e("#text",3)).value=""))))}else{for(l=i;f&&f.firstChild===l&&f.lastChild===l&&(l=f,!s[f.name]);)f=f.parent;l===f&&(d=new e("#text",3),d.value="",i.replace(d))}}),r.allow_html_in_named_anchor||l.addAttributeFilter("id,name",function(e){for(var t=e.length,n,r,i,s;t--;)if(s=e[t],"a"===s.name&&s.firstChild&&!s.attr("href")){i=s.parent,n=s.lastChild;do r=n.prev,i.insert(n,s),n=r;while(n)}}),r.validate&&a.getValidClasses()&&l.addAttributeFilter("class",function(e){for(var t=e.length,n,r,i,s,o,u=a.getValidClasses(),f,l;t--;){for(n=e[t],r=n.attr("class").split(" "),o="",i=0;i<r.length;i++)s=r[i],l=!1,f=u["*"],f&&f[s]&&(l=!0),f=u[n.name],!l&&f&&f[s]&&(l=!0),l&&(o&&(o+=" "),o+=s);o.length||(o=null),n.attr("class",o)}})}}),r(P,[w,v],function(e,t){var n=t.makeMap;return function(t){var r=[],i,s,o,u,a;return t=t||{},i=t.indent,s=n(t.indent_before||""),o=n(t.indent_after||""),u=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),a="html"==t.element_format,{start:function(e,t,n){var f,l,c,h;if(i&&s[e]&&r.length>0&&(h=r[r.length-1],h.length>0&&"\n"!==h&&r.push("\n")),r.push("<",e),t)for(f=0,l=t.length;l>f;f++)c=t[f],r.push(" ",c.name,'="',u(c.value,!0),'"');!n||a?r[r.length]=">":r[r.length]=" />",n&&i&&o[e]&&r.length>0&&(h=r[r.length-1],h.length>0&&"\n"!==h&&r.push("\n"))},end:function(e){var t;r.push("</",e,">"),i&&o[e]&&r.length>0&&(t=r[r.length-1],t.length>0&&"\n"!==t&&r.push("\n"))},text:function(e,t){e.length>0&&(r[r.length]=t?e:u(e))},cdata:function(e){r.push("<![CDATA[",e,"]]>")},comment:function(e){r.push("<!--",e,"-->")},pi:function(e,t){t?r.push("<?",e," ",u(t),"?>"):r.push("<?",e,"?>"),i&&r.push("\n")},doctype:function(e){r.push("<!DOCTYPE",e,">",i?"\n":"")},reset:function(){r.length=0},getContent:function(){return r.join("").replace(/\n$/,"")}}}}),r(H,[P,M],function(e,t){return function(n,r){var i=this,s=new e(n);n=n||{},n.validate="validate"in n?n.validate:!0,i.schema=r=r||new t,i.writer=s,i.serialize=function(e){function t(e){var n=i[e.type],u,a,f,l,c,h,p,d,v;if(n)n(e);else{if(u=e.name,a=e.shortEnded,f=e.attributes,o&&f&&f.length>1&&(h=[],h.map={},v=r.getElementRule(e.name))){for(p=0,d=v.attributesOrder.length;d>p;p++)l=v.attributesOrder[p],l in f.map&&(c=f.map[l],h.map[l]=c,h.push({name:l,value:c}));for(p=0,d=f.length;d>p;p++)l=f[p].name,l in h.map||(c=f.map[l],h.map[l]=c,h.push({name:l,value:c}));f=h}if(s.start(e.name,f,a),!a){if(e=e.firstChild)do t(e);while(e=e.next);s.end(u)}}}var i,o;return o=n.validate,i={3:function(e){s.text(e.value,e.raw)},8:function(e){s.comment(e.value)},7:function(e){s.pi(e.name,e.value)},10:function(e){s.doctype(e.value)},4:function(e){s.cdata(e.value)},11:function(e){if(e=e.firstChild)do t(e);while(e=e.next)}},s.reset(),1!=e.type||n.inner?i[11](e):t(e),s.getContent()}}}),r(B,[S,D,_,w,H,O,M,c,v,C],function(e,t,n,r,i,s,o,u,a,f){function l(e){function t(e){return e&&"br"===e.name}var n,r;n=e.lastChild,t(n)&&(r=n.prev,t(r)&&(n.remove(),r.remove()))}var c=a.each,h=a.trim,p=e.DOM,d=["data-mce-selected"];return function(e,s){function v(e){var t=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[]+<\\/span>","\\s?("+d.join("|")+')="[^"]+"'].join("|"),"gi");return e=f.trim(e.replace(t,""))}function m(){var e=s.getBody().innerHTML,t=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r,i,o,u,a,f=s.schema;for(e=v(e),a=f.getShortEndedElements();u=t.exec(e);)i=t.lastIndex,o=u[0].length,r=a[u[1]]?i:n.findEndTag(f,e,i),e=e.substring(0,i-o)+e.substring(r),t.lastIndex=i-o;return h(e)}function g(e){-1===a.inArray(d,e)&&(w.addAttributeFilter(e,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),d.push(e))}var y,b,w;return s&&(y=s.dom,b=s.schema),y=y||p,b=b||new o(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0,w=new t(e,b),w.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n=e.length,r;n--;)r=e[n],r.attr("tabindex",r.attributes.map["data-mce-tabindex"]),r.attr(t,null)}),w.addAttributeFilter("src,href,style",function(t,n){for(var r=t.length,i,s,o="data-mce-"+n,u=e.url_converter,a=e.url_converter_scope,f;r--;)i=t[r],s=i.attributes.map[o],s!==f?(i.attr(n,s.length>0?s:null),i.attr(o,null)):(s=i.attributes.map[n],"style"===n?s=y.serializeStyle(y.parseStyle(s),i.name):u&&(s=u.call(a,s,n,i.name)),i.attr(n,s.length>0?s:null))}),w.addAttributeFilter("class",function(e){for(var t=e.length,n,r;t--;)n=e[t],r=n.attr("class"),r&&(r=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",r.length>0?r:null))}),w.addAttributeFilter("data-mce-type",function(e,t,n){for(var r=e.length,i;r--;)i=e[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),w.addNodeFilter("noscript",function(e){for(var t=e.length,n;t--;)n=e[t].firstChild,n&&(n.value=r.decode(n.value))}),w.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var r=e.length,i,s,o;r--;)i=e[r],s=i.firstChild?i.firstChild.value:"","script"===t?(o=i.attr("type"),o&&i.attr("type","mce-no/type"==o?null:o.replace(/^mce\-/,"")),s.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(s)+"\n// ]]>")):s.length>0&&(i.firstChild.value="<!--\n"+n(s)+"\n-->")}),w.addNodeFilter("#comment",function(e){for(var t=e.length,n;t--;)n=e[t],0===n.value.indexOf("[CDATA[")?(n.name="#cdata",n.type=4,n.value=n.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===n.value.indexOf("mce:protected ")&&(n.name="#text",n.type=3,n.raw=!0,n.value=unescape(n.value).substr(14))}),w.addNodeFilter("xml:namespace,input",function(e,t){for(var n=e.length,r;n--;)r=e[n],7===r.type?r.remove():1===r.type&&("input"!==t||"type"in r.attributes.map||r.attr("type","text"))}),e.fix_list_elements&&w.addNodeFilter("ul,ol",function(e){for(var t=e.length,n,r;t--;)n=e[t],r=n.parent,"ul"!==r.name&&"ol"!==r.name||n.prev&&"li"===n.prev.name&&n.prev.append(n)}),w.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:b,addNodeFilter:w.addNodeFilter,addAttributeFilter:w.addAttributeFilter,serialize:function(t,n){var r=this,s,o,a,p,d,v;return u.ie&&y.select("script,style,select,map").length>0?(d=t.innerHTML,t=t.cloneNode(!1),y.setHTML(t,d)):t=t.cloneNode(!0),s=t.ownerDocument.implementation,s.createHTMLDocument&&(o=s.createHTMLDocument(""),c("BODY"==t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t="BODY"!=t.nodeName?o.body.firstChild:o.body,a=y.doc,y.doc=o),n=n||{},n.format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=t,r.onPreProcess(n)),v=w.parse(h(n.getInner?t.innerHTML:y.getOuterHTML(t)),n),l(v),p=new i(e,b),n.content=p.serialize(v),n.cleanup||(n.content=f.trim(n.content),n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||r.onPostProcess(n),a&&(y.doc=a),n.node=null,n.content},addRules:function(e){b.addValidElements(e)},setRules:function(e){b.setValidElements(e)},onPreProcess:function(e){s&&s.fire("PreProcess",e)},onPostProcess:function(e){s&&s.fire("PostProcess",e)},addTempAttr:g,trimHtml:v,getTrimmedContent:m}}}),r(j,[],function(){function e(e){function t(t,n){var r,i=0,s,o,u,a,f,l,c=-1,h;if(r=t.duplicate(),r.collapse(n),h=r.parentElement(),h.ownerDocument===e.dom.doc){for(;"false"===h.contentEditable;)h=h.parentNode;if(!h.hasChildNodes())return{node:h,inside:1};for(u=h.children,s=u.length-1;s>=i;)if(l=Math.floor((i+s)/2),a=u[l],r.moveToElementText(a),c=r.compareEndPoints(n?"StartToStart":"EndToEnd",t),c>0)s=l-1;else{if(!(0>c))return{node:a};i=l+1}if(0>c)for(a?r.collapse(!1):(r.moveToElementText(h),r.collapse(!0),a=h,o=!0),f=0;0!==r.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==r.move("character",1)&&h==r.parentElement();)f++;else for(r.collapse(!0),f=0;0!==r.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==r.move("character",-1)&&h==r.parentElement();)f++;return{node:a,position:c,offset:f,inside:o}}}function n(){function n(e){var n=t(s,e),r,i,u=0,a,f,l;if(r=n.node,i=n.offset,n.inside&&!r.hasChildNodes())return void o[e?"setStart":"setEnd"](r,0);if(i===f)return void o[e?"setStartBefore":"setEndAfter"](r);if(n.position<0){if(a=n.inside?r.firstChild:r.nextSibling,!a)return void o[e?"setStartAfter":"setEndAfter"](r);if(!i)return void (3==a.nodeType?o[e?"setStart":"setEnd"](a,0):o[e?"setStartBefore":"setEndBefore"](a));for(;a;){if(3==a.nodeType&&(l=a.nodeValue,u+=l.length,u>=i)){r=a,u-=i,u=l.length-u;break}a=a.nextSibling}}else{if(a=r.previousSibling,!a)return o[e?"setStartBefore":"setEndBefore"](r);if(!i)return void (3==r.nodeType?o[e?"setStart":"setEnd"](a,r.nodeValue.length):o[e?"setStartAfter":"setEndAfter"](a));for(;a;){if(3==a.nodeType&&(u+=a.nodeValue.length,u>=i)){r=a,u-=i;break}a=a.previousSibling}}o[e?"setStart":"setEnd"](r,u)}var s=e.getRng(),o=i.createRng(),u,a,f,l,c;if(u=s.item?s.item(0):s.parentElement(),u.ownerDocument!=i.doc)return o;if(a=e.isCollapsed(),s.item)return o.setStart(u.parentNode,i.nodeIndex(u)),o.setEnd(o.startContainer,o.startOffset+1),o;try{n(!0),a||n()}catch(h){if(-2147024809!=h.number)throw h;c=r.getBookmark(2),f=s.duplicate(),f.collapse(!0),u=f.parentElement(),a||(f=s.duplicate(),f.collapse(!1),l=f.parentElement(),l.innerHTML=l.innerHTML),u.innerHTML=u.innerHTML,r.moveToBookmark(c),s=e.getRng(),n(!0),a||n()}return o}var r=this,i=e.dom,s=!1;this.getBookmark=function(n){function r(e){var t,n,r,s,o=[];for(t=e.parentNode,n=i.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(r=t.children,s=r.length;s--;)if(e===r[s]){o.push(s);break}e=t,t=t.parentNode}return o}function s(e){var n;return n=t(o,e),n?{position:n.position,offset:n.offset,indexes:r(n.node),inside:n.inside}:void 0}var o=e.getRng(),u={};return 2===n&&(o.item?u.start={ctrl:!0,indexes:r(o.item(0))}:(u.start=s(!0),e.isCollapsed()||(u.end=s()))),u},this.moveToBookmark=function(e){function t(e){var t,n,r,s;for(t=i.getRoot(),n=e.length-1;n>=0;n--)s=t.children,r=e[n],r<=s.length-1&&(t=s[r]);return t}function n(n){var i=e[n?"start":"end"],o,u,a,f;i&&(o=i.position>0,u=s.createTextRange(),u.moveToElementText(t(i.indexes)),f=i.offset,f!==a?(u.collapse(i.inside||o),u.moveStart("character",o?-f:f)):u.collapse(n),r.setEndPoint(n?"StartToStart":"EndToStart",u),n&&r.collapse(!0))}var r,s=i.doc.body;e.start&&(e.start.ctrl?(r=s.createControlRange(),r.addElement(t(e.start.indexes)),r.select()):(r=s.createTextRange(),n(!0),n(),r.select()))},this.addRange=function(t){function n(e){var t,n,o,c,d;o=i.create("a"),t=e?u:f,n=e?a:l,c=r.duplicate(),t!=h&&t!=h.documentElement||(t=p,n=0),3==t.nodeType?(t.parentNode.insertBefore(o,t),c.moveToElementText(o),c.moveStart("character",n),i.remove(o),r.setEndPoint(e?"StartToStart":"EndToEnd",c)):(d=t.childNodes,d.length?(n>=d.length?i.insertAfter(o,d[d.length-1]):t.insertBefore(o,d[n]),c.moveToElementText(o)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",o=t.firstChild,c.moveToElementText(o),c.collapse(s)),r.setEndPoint(e?"StartToStart":"EndToEnd",c),i.remove(o))}var r,o,u,a,f,l,c,h=e.dom.doc,p=h.body,d,v;if(u=t.startContainer,a=t.startOffset,f=t.endContainer,l=t.endOffset,r=p.createTextRange(),u==f&&1==u.nodeType){if(a==l&&!u.hasChildNodes()){if(u.canHaveHTML)return c=u.previousSibling,c&&!c.hasChildNodes()&&i.isBlock(c)?c.innerHTML="&#xFEFF;":c=null,u.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",r.moveToElementText(u.lastChild),r.select(),i.doc.selection.clear(),u.innerHTML="",void (c&&(c.innerHTML=""));a=i.nodeIndex(u),u=u.parentNode}if(a==l-1)try{if(v=u.childNodes[a],o=p.createControlRange(),o.addElement(v),o.select(),d=e.getRng(),d.item&&v===d.item(0))return}catch(m){}}n(!0),n(),r.select()},this.getRangeAt=n}return e}),r(F,[c],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(t){return e.mac?t.metaKey:t.ctrlKey&&!t.altKey}}}),r(I,[F,v,l,c,N],function(e,t,n,r,i){var s=i.isContentEditableFalse;return function(i,o){function u(e){var t=o.settings.object_resizing;return t===!1||r.iOS?!1:("string"!=typeof t&&(t="table,img,div"),"false"===e.getAttribute("data-mce-resize")?!1:e==o.getBody()?!1:o.dom.is(e,t))}function a(t){var n,r,i,s,u;n=t.screenX-M,r=t.screenY-_,I=n*A[2]+H,q=r*A[3]+B,I=5>I?5:I,q=5>q?5:q,i="IMG"==N.nodeName&&o.settings.resize_img_proportional!==!1?!e.modifierPressed(t):e.modifierPressed(t)||"IMG"==N.nodeName&&A[2]*A[3]!==0,i&&(W(n)>W(r)?(q=X(I*j),I=X(q/j)):(I=X(q/j),q=X(I*j))),x.setStyles(C,{width:I,height:q}),s=A.startPos.x+n,u=A.startPos.y+r,s=s>0?s:0,u=u>0?u:0,x.setStyles(k,{left:s,top:u,display:"block"}),k.innerHTML=I+" &times; "+q,A[2]<0&&C.clientWidth<=I&&x.setStyle(C,"left",D+(H-I)),A[3]<0&&C.clientHeight<=q&&x.setStyle(C,"top",P+(B-q)),n=V.scrollWidth-$,r=V.scrollHeight-J,n+r!==0&&x.setStyles(k,{left:s-n,top:u-r}),F||(o.fire("ObjectResizeStart",{target:N,width:H,height:B}),F=!0)}function f(){function e(e,t){t&&(N.style[e]||!o.schema.isValid(N.nodeName.toLowerCase(),e)?x.setStyle(N,e,t):x.setAttrib(N,e,t))}F=!1,e("width",I),e("height",q),x.unbind(R,"mousemove",a),x.unbind(R,"mouseup",f),U!=R&&(x.unbind(U,"mousemove",a),x.unbind(U,"mouseup",f)),x.remove(C),x.remove(k),z&&"TABLE"!=N.nodeName||l(N),o.fire("ObjectResized",{target:N,width:I,height:q}),x.setAttrib(N,"style",x.getAttrib(N,"style")),o.nodeChanged()}function l(e,t,n){var i,s,l,h,p;c(),b(),i=x.getPos(e,V),D=i.x,P=i.y,p=e.getBoundingClientRect(),s=p.width||p.right-p.left,l=p.height||p.bottom-p.top,N!=e&&(y(),N=e,I=q=0),h=o.fire("ObjectSelected",{target:e}),u(e)&&!h.isDefaultPrevented()?T(L,function(e,i){function o(t){M=t.screenX,_=t.screenY,H=N.clientWidth,B=N.clientHeight,j=B/H,A=e,e.startPos={x:s*e[0]+D,y:l*e[1]+P},$=V.scrollWidth,J=V.scrollHeight,C=N.cloneNode(!0),x.addClass(C,"mce-clonedresizable"),x.setAttrib(C,"data-mce-bogus","all"),C.contentEditable=!1,C.unSelectabe=!0,x.setStyles(C,{left:D,top:P,margin:0}),C.removeAttribute("data-mce-selected"),V.appendChild(C),x.bind(R,"mousemove",a),x.bind(R,"mouseup",f),U!=R&&(x.bind(U,"mousemove",a),x.bind(U,"mouseup",f)),k=x.add(V,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},H+" &times; "+B)}var u;return t?void (i==t&&o(n)):(u=x.get("mceResizeHandle"+i),u&&x.remove(u),u=x.add(V,"div",{id:"mceResizeHandle"+i,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+i+"-resize; margin:0; padding:0"}),r.ie&&(u.contentEditable=!1),x.bind(u,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),o(e)}),e.elm=u,void x.setStyles(u,{left:s*e[0]+D-u.offsetWidth/2,top:l*e[1]+P-u.offsetHeight/2}))}):c(),N.setAttribute("data-mce-selected","1")}function c(){var e,t;b(),N&&N.removeAttribute("data-mce-selected");for(e in L)t=x.get("mceResizeHandle"+e),t&&(x.unbind(t),x.remove(t))}function h(e){function t(e,t){if(e)do if(e===t)return!0;while(e=e.parentNode)}var n,r;if(!F&&!o.removed)return T(x.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),r="mousedown"==e.type?e.target:i.getNode(),r=x.$(r).closest(z?"table":"table,img,hr")[0],t(r,V)&&(w(),n=i.getStart(!0),t(n,r)&&t(i.getEnd(!0),r)&&(!z||r!=n&&"IMG"!==n.nodeName))?void l(r):void c()}function p(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function d(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function v(e){var t=e.srcElement,n,r,i,s,u,a,f;n=t.getBoundingClientRect(),a=O.clientX-n.left,f=O.clientY-n.top;for(r in L)if(i=L[r],s=t.offsetWidth*i[0],u=t.offsetHeight*i[1],W(s-a)<8&&W(u-f)<8){A=i;break}F=!0,o.fire("ObjectResizeStart",{target:N,width:N.clientWidth,height:N.clientHeight}),o.getDoc().selection.empty(),l(t,r,O)}function m(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function g(e){var t=e.srcElement;if(s(t))return void m(e);if(t!=N){if(o.fire("ObjectSelected",{target:t}),y(),0===t.id.indexOf("mceResizeHandle"))return void (e.returnValue=!1);"IMG"!=t.nodeName&&"TABLE"!=t.nodeName||(c(),N=t,p(t,"resizestart",v))}}function y(){d(N,"resizestart",v)}function b(){for(var e in L){var t=L[e];t.elm&&(x.unbind(t.elm),delete t.elm)}}function w(){try{o.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function E(e){var t;if(z){t=R.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}function S(){N=C=null,z&&(y(),d(V,"controlselect",g))}var x=o.dom,T=t.each,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R=o.getDoc(),U=document,z=r.ie&&r.ie<11,W=Math.abs,X=Math.round,V=o.getBody(),$,J;L={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var K=".mce-content-body";return o.contentStyles.push(K+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+K+" .mce-resizehandle:hover {background: #000}"+K+" img[data-mce-selected],"+K+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+K+" .mce-clonedresizable {position: absolute;"+(r.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+K+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),o.on("init",function(){z?(o.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(c(),E(e.target))}),p(V,"controlselect",g),o.on("mousedown",function(e){O=e})):(w(),r.ie>=11&&(o.on("mousedown click",function(e){var t=e.target.nodeName;!F&&/^(TABLE|IMG|HR)$/.test(t)&&(o.selection.select(e.target,"TABLE"==t),"mousedown"==e.type&&o.nodeChanged())}),o.dom.bind(V,"mscontrolselect",function(e){function t(e){n.setEditorTimeout(o,function(){o.selection.select(e)})}return s(e.target)?(e.preventDefault(),void t(e.target)):void (/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&t(e.target)))})));var e=n.throttle(function(e){o.composing||h(e)});o.on("nodechange ResizeEditor ResizeWindow drop",e),o.on("keyup compositionend",function(t){N&&"TABLE"==N.nodeName&&e(t)}),o.on("hide blur",c)}),o.on("remove",b),{isResizable:u,showResizeRect:l,hideResizeRect:c,updateResizeRect:h,controlSelect:E,destroy:S}}}),r(q,[],function(){function e(e){return function(){return e}}function t(e){return function(t){return!e(t)}}function n(e,t){return function(n){return e(t(n))}}function r(){var e=o.call(arguments);return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}function i(){var e=o.call(arguments);return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}function s(e){var t=o.call(arguments);return t.length-1>=e.length?e.apply(this,t.slice(1)):function(){var e=t.concat([].slice.call(arguments));return s.apply(this,e)}}var o=[].slice;return{constant:e,negate:t,and:i,or:r,curry:s,compose:n}}),r(R,[N,d,k],function(e,t,n){function r(e){return v(e)?!1:c(e)?!h(e.parentNode):p(e)||l(e)||d(e)||f(e)}function i(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(f(e))return!1;if(a(e))return!0}return!0}function s(e){return f(e)?t.reduce(e.getElementsByTagName("*"),function(e,t){return e||a(t)},!1)!==!0:!1}function o(e){return p(e)||s(e)}function u(e,t){return r(e)&&i(e,t)}var a=e.isContentEditableTrue,f=e.isContentEditableFalse,l=e.isBr,c=e.isText,h=e.matchNodeNames("script style textarea"),p=e.matchNodeNames("img input textarea hr iframe video audio object"),d=e.matchNodeNames("table"),v=n.isCaretContainer;return{isCaretCandidate:r,isInEditable:i,isAtomic:o,isEditableCaretCandidate:u}}),r(U,[],function(){function e(e){return e?{left:l(e.left),top:l(e.top),bottom:l(e.bottom),right:l(e.right),width:l(e.width),height:l(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function t(t,n){return t=e(t),n?t.right=t.left:(t.left=t.left+t.width,t.right=t.left),t.width=0,t}function n(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right}function r(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2}function i(e,t){return e.bottom<t.top?!0:e.top>t.bottom?!1:r(t.top-e.bottom,e,t)}function s(e,t){return e.top>t.bottom?!0:e.bottom<t.top?!1:r(t.bottom-e.top,e,t)}function o(e,t){return e.left<t.left}function u(e,t){return e.right>t.right}function a(e,t){return i(e,t)?-1:s(e,t)?1:o(e,t)?-1:u(e,t)?1:0}function f(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}var l=Math.round;return{clone:e,collapse:t,isEqual:n,isAbove:i,isBelow:s,isLeft:o,isRight:u,compare:a,containsXY:f}}),r(z,[],function(){function e(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&t.test(e)}var t=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]");return{isExtendingChar:e}}),r(W,[q,N,S,L,R,U,z],function(e,t,n,r,i,s,o){function u(e){return e&&/[\r\n\t ]/.test(e)}function a(e){var t=e.startContainer,n=e.startOffset,r;return!!(u(e.toString())&&m(t.parentNode)&&(r=t.data,u(r[n-1])||u(r[n+1])))}function f(e){function t(e){var t=e.ownerDocument,n=t.createRange(),r=t.createTextNode(""),i=e.parentNode,o;return i.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1),o=s.clone(n.getBoundingClientRect()),i.removeChild(r),o}function n(e){var n,r;return r=e.getClientRects(),n=r.length>0?s.clone(r[0]):s.clone(e.getBoundingClientRect()),y(e)&&0===n.left?t(e):n}function r(e,t){return e=s.collapse(e,t),e.width=1,e.right=e.left+1,e}function i(e){0!==e.height&&(f.length>0&&s.isEqual(e,f[f.length-1])||f.push(e))}function u(e,t){var s=e.ownerDocument.createRange();if(t<e.data.length){if(o.isExtendingChar(e.data[t]))return f;if(o.isExtendingChar(e.data[t-1])&&(s.setStart(e,t),s.setEnd(e,t+1),!a(s)))return i(r(n(s),!1)),f}t>0&&(s.setStart(e,t-1),s.setEnd(e,t),a(s)||i(r(n(s),!1))),t<e.data.length&&(s.setStart(e,t),s.setEnd(e,t+1),a(s)||i(r(n(s),!0)))}var f=[],l,h;if(g(e.container()))return u(e.container(),e.offset()),f;if(c(e.container()))if(e.isAtEnd())h=w(e.container(),e.offset()),g(h)&&u(h,h.data.length),v(h)&&!y(h)&&i(r(n(h),!1));else{if(h=w(e.container(),e.offset()),g(h)&&u(h,0),v(h)&&e.isAtEnd())return i(r(n(h),!1)),f;l=w(e.container(),e.offset()-1),v(l)&&!y(l)&&(p(l)||p(h)||!v(h))&&i(r(n(l),!1)),v(h)&&i(r(n(h),!0))}return f}function l(t,n,r){function i(){return g(t)?0===n:0===n}function s(){return g(t)?n>=t.data.length:n>=t.childNodes.length}function o(){var e;return e=t.ownerDocument.createRange(),e.setStart(t,n),e.setEnd(t,n),e}function u(){return r||(r=f(new l(t,n))),r}function a(){return u().length>0}function c(e){return e&&t===e.container()&&n===e.offset()}function h(e){return w(t,e?n-1:n)}return{container:e.constant(t),offset:e.constant(n),toRange:o,getClientRects:u,isVisible:a,isAtStart:i,isAtEnd:s,isEqual:c,getNode:h}}var c=t.isElement,h=i.isCaretCandidate,p=t.matchStyleValues("display","block table"),d=t.matchStyleValues("float","left right"),v=e.and(c,h,e.negate(d)),m=e.negate(t.matchStyleValues("white-space","pre pre-line pre-wrap")),g=t.isText,y=t.isBr,b=n.nodeIndex,w=r.getNode;return l.fromRangeStart=function(e){return new l(e.startContainer,e.startOffset)},l.fromRangeEnd=function(e){return new l(e.endContainer,e.endOffset)},l.after=function(e){return new l(e.parentNode,b(e)+1)},l.before=function(e){return new l(e.parentNode,b(e))},l}),r(X,[N,S,q,d,W],function(e,t,n,r,i){function s(e){var t=e.parentNode;return g(t)?s(t):t}function o(e){return e?r.reduce(e.childNodes,function(e,t){return g(t)&&"BR"!=t.nodeName?e=e.concat(o(t)):e.push(t),e},[]):[]}function u(e,t){for(;(e=e.previousSibling)&&m(e);)t+=e.data.length;return t}function a(e){return function(t){return e===t}}function f(t){var n,i,u;return n=o(s(t)),i=r.findIndex(n,a(t),t),n=n.slice(0,i+1),u=r.reduce(n,function(e,t,r){return m(t)&&m(n[r-1])&&e++,e},0),n=r.filter(n,e.matchNodeNames(t.nodeName)),i=r.findIndex(n,a(t),t),i-u}function l(e){var t;return t=m(e)?"text()":e.nodeName.toLowerCase(),t+"["+f(e)+"]"}function c(e,t,n){var r=[];for(t=t.parentNode;t!=e&&(!n||!n(t));t=t.parentNode)r.push(t);return r}function h(t,i){var s,o,a=[],f,h,p;return s=i.container(),o=i.offset(),m(s)?f=u(s,o):(h=s.childNodes,o>=h.length?(f="after",o=h.length-1):f="before",s=h[o]),a.push(l(s)),p=c(t,s),p=r.filter(p,n.negate(e.isBogus)),a=a.concat(r.map(p,function(e){return l(e)})),a.reverse().join("/")+","+f}function p(t,n,i){var s=o(t);return s=r.filter(s,function(e,t){return!m(e)||!m(s[t-1])}),s=r.filter(s,e.matchNodeNames(n)),s[i]}function d(e,t){for(var n=e,r=0,s;m(n);){if(s=n.data.length,t>=r&&r+s>=t){e=n,t-=r;break}if(!m(n.nextSibling)){e=n,t=s;break}r+=s,n=n.nextSibling}return t>e.data.length&&(t=e.data.length),new i(e,t)}function v(e,t){var n,s,o;return t?(n=t.split(","),t=n[0].split("/"),o=n.length>1?n[1]:"before",s=r.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),p(e,t[1],parseInt(t[2],10))):null},e),s?m(s)?d(s,parseInt(o,10)):(o="after"===o?y(s)+1:y(s),new i(s.parentNode,o)):null):null}var m=e.isText,g=e.isBogus,y=t.nodeIndex;return{create:h,resolve:v}}),r(V,[c,v,k,X,W,N],function(e,t,n,r,i,s){function o(o){var a=o.dom;this.getBookmark=function(e,f){function l(e,n){var r=0;return t.each(a.select(e),function(e){return"all"!==e.getAttribute("data-mce-bogus")?e==n?!1:void (r++):void 0}),r}function c(e){function t(t){var n,r,i,s=t?"start":"end";n=e[s+"Container"],r=e[s+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(i=n.childNodes,n=i[Math.min(t?r:r-1,i.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))}return t(!0),t(),e}function h(e){function t(e,t){var r=e[t?"startContainer":"endContainer"],i=e[t?"startOffset":"endOffset"],s=[],o,u,l=0;if(3==r.nodeType){if(f)for(o=r.previousSibling;o&&3==o.nodeType;o=o.previousSibling)i+=o.nodeValue.length;s.push(i)}else u=r.childNodes,i>=u.length&&u.length&&(l=1,i=Math.max(0,u.length-1)),s.push(a.nodeIndex(u[i],f)+l);for(;r&&r!=n;r=r.parentNode)s.push(a.nodeIndex(r,f));return s}var n=a.getRoot(),r={};return r.start=t(e,!0),o.isCollapsed()||(r.end=t(e)),r}function p(e){function t(e){var t;if(n.isCaretContainer(e)){if(s.isText(e)&&n.isCaretContainerBlock(e)&&(e=e.parentNode),t=e.previousSibling,u(t))return t;if(t=e.nextSibling,u(t))return t}}return t(e.startContainer)||t(e.endContainer)}var d,v,m,g,y,b,w="&#xFEFF;",E;if(2==e)return b=o.getNode(),y=b?b.nodeName:null,d=o.getRng(),u(b)||"IMG"==y?{name:y,index:l(y,b)}:o.tridentSel?o.tridentSel.getBookmark(e):(b=p(d),b?(y=b.tagName,{name:y,index:l(y,b)}):h(d));if(3==e)return d=o.getRng(),{start:r.create(a.getRoot(),i.fromRangeStart(d)),end:r.create(a.getRoot(),i.fromRangeEnd(d))};if(e)return{rng:o.getRng()};if(d=o.getRng(),m=a.uniqueId(),g=o.isCollapsed(),E="overflow:hidden;line-height:0px",d.duplicate||d.item){if(d.item)return b=d.item(0),y=b.nodeName,{name:y,index:l(y,b)};v=d.duplicate();try{d.collapse(),d.pasteHTML('<span data-mce-type="bookmark" id="'+m+'_start" style="'+E+'">'+w+"</span>"),g||(v.collapse(!1),d.moveToElementText(v.parentElement()),0===d.compareEndPoints("StartToEnd",v)&&v.move("character",-1),v.pasteHTML('<span data-mce-type="bookmark" id="'+m+'_end" style="'+E+'">'+w+"</span>"))}catch(S){return null}}else{if(b=o.getNode(),y=b.nodeName,"IMG"==y)return{name:y,index:l(y,b)};v=c(d.cloneRange()),g||(v.collapse(!1),v.insertNode(a.create("span",{"data-mce-type":"bookmark",id:m+"_end",style:E},w))),d=c(d),d.collapse(!0),d.insertNode(a.create("span",{"data-mce-type":"bookmark",id:m+"_start",style:E},w))}return o.moveToBookmark({id:m,keep:1}),{id:m}},this.moveToBookmark=function(n){function i(e){var t=n[e?"start":"end"],r,i,s,o;if(t){for(s=t[0],i=c,r=t.length-1;r>=1;r--){if(o=i.childNodes,t[r]>o.length-1)return;i=o[t[r]]}3===i.nodeType&&(s=Math.min(t[0],i.nodeValue.length)),1===i.nodeType&&(s=Math.min(t[0],i.childNodes.length)),e?l.setStart(i,s):l.setEnd(i,s)}return!0}function s(r){var i=a.get(n.id+"_"+r),s,o,u,f,l=n.keep;if(i&&(s=i.parentNode,"start"==r?(l?(s=i.firstChild,o=1):o=a.nodeIndex(i),h=p=s,d=v=o):(l?(s=i.firstChild,o=1):o=a.nodeIndex(i),p=s,v=o),!l)){for(f=i.previousSibling,u=i.nextSibling,t.each(t.grep(i.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});i=a.get(n.id+"_"+r);)a.remove(i,1);f&&u&&f.nodeType==u.nodeType&&3==f.nodeType&&!e.opera&&(o=f.nodeValue.length,f.appendData(u.nodeValue),a.remove(u),"start"==r?(h=p=f,d=v=o):(p=f,v=o))}}function u(t){return!a.isBlock(t)||t.innerHTML||e.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t}function f(){var e,t;return e=a.createRng(),t=r.resolve(a.getRoot(),n.start),e.setStart(t.container(),t.offset()),t=r.resolve(a.getRoot(),n.end),e.setEnd(t.container(),t.offset()),e}var l,c,h,p,d,v;if(n)if(t.isArray(n.start)){if(l=a.createRng(),c=a.getRoot(),o.tridentSel)return o.tridentSel.moveToBookmark(n);i(!0)&&i()&&o.setRng(l)}else"string"==typeof n.start?o.setRng(f(n)):n.id?(s("start"),s("end"),h&&(l=a.createRng(),l.setStart(u(h),d),l.setEnd(u(p),v),o.setRng(l))):n.name?o.select(a.select(n.name)[n.index]):n.rng&&o.setRng(n.rng)}}var u=s.isContentEditableFalse;return o.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},o}),r($,[y,j,I,L,V,N,c,v],function(e,n,r,i,s,o,u,a){function f(e,t,i,o){var u=this;u.dom=e,u.win=t,u.serializer=i,u.editor=o,u.bookmarkManager=new s(u),u.controlSelection=new r(u,o),u.win.getSelection||(u.tridentSel=new n(u))}var l=a.each,c=a.trim,h=u.ie;return f.prototype={setCursorLocation:function(e,t){var n=this,r=n.dom.createRng();e?(r.setStart(e,t),r.setEnd(e,t),n.setRng(r),n.collapse(!1)):(n._moveEndPoint(r,n.editor.getBody(),!0),n.setRng(r))},getContent:function(e){var n=this,r=n.getRng(),i=n.dom.create("body"),s=n.getSel(),o,u,a;return e=e||{},o=u="",e.get=!0,e.format=e.format||"html",e.selection=!0,n.editor.fire("BeforeGetContent",e),"text"==e.format?n.isCollapsed()?"":r.text||(s.toString?s.toString():""):(r.cloneContents?(a=r.cloneContents(),a&&i.appendChild(a)):r.item!==t||r.htmlText!==t?(i.innerHTML="<br>"+(r.item?r.item(0).outerHTML:r.htmlText),i.removeChild(i.firstChild)):i.innerHTML=r.toString(),/^\s/.test(i.innerHTML)&&(o=" "),/\s+$/.test(i.innerHTML)&&(u=" "),e.getInner=!0,e.content=n.isCollapsed()?"":o+n.serializer.serialize(i,e)+u,n.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n=this,r=n.getRng(),i,s=n.win.document,o,u;if(t=t||{format:"html"},t.set=!0,t.selection=!0,t.content=e,t.no_events||n.editor.fire("BeforeSetContent",t),e=t.content,r.insertNode){e+='<span id="__caret">_</span>',r.startContainer==s&&r.endContainer==s?s.body.innerHTML=e:(r.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:r.createContextualFragment?r.insertNode(r.createContextualFragment(e)):(o=s.createDocumentFragment(),u=s.createElement("div"),o.appendChild(u),u.outerHTML=e,r.insertNode(o))),i=n.dom.get("__caret"),r=s.createRange(),r.setStartBefore(i),r.setEndBefore(i),n.setRng(r),n.dom.remove("__caret");try{n.setRng(r)}catch(a){}}else r.item&&(s.execCommand("Delete",!1,null),r=n.getRng()),/^\s+/.test(e)?(r.pasteHTML('<span id="__mce_tmp">_</span>'+e),n.dom.remove("__mce_tmp")):r.pasteHTML(e);t.no_events||n.editor.fire("SetContent",t)},getStart:function(e){var t=this,n=t.getRng(),r,i,s,o;if(n.duplicate||n.item){if(n.item)return n.item(0);for(s=n.duplicate(),s.collapse(1),r=s.parentElement(),r.ownerDocument!==t.dom.doc&&(r=t.dom.getRoot()),i=o=n.parentElement();o=o.parentNode;)if(o==r){r=i;break}return r}return r=n.startContainer,1==r.nodeType&&r.hasChildNodes()&&(e&&n.collapsed||(r=r.childNodes[Math.min(r.childNodes.length-1,n.startOffset)])),r&&3==r.nodeType?r.parentNode:r},getEnd:function(e){var t=this,n=t.getRng(),r,i;return n.duplicate||n.item?n.item?n.item(0):(n=n.duplicate(),n.collapse(0),r=n.parentElement(),r.ownerDocument!==t.dom.doc&&(r=t.dom.getRoot()),r&&"BODY"==r.nodeName?r.lastChild||r:r):(r=n.endContainer,i=n.endOffset,1==r.nodeType&&r.hasChildNodes()&&(e&&n.collapsed||(r=r.childNodes[i>0?i-1:i])),r&&3==r.nodeType?r.parentNode:r)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n=this,r=n.dom,i=r.createRng(),s;if(n.lastFocusBookmark=null,e){if(!t&&n.controlSelection.controlSelect(e))return;s=r.nodeIndex(e),i.setStart(e.parentNode,s),i.setEnd(e.parentNode,s+1),t&&(n._moveEndPoint(i,e,!0),n._moveEndPoint(i,e)),n.setRng(i)}return e},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!t||t.item?!1:t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed},collapse:function(e){var t=this,n=t.getRng(),r;n.item&&(r=n.item(0),n=t.win.document.body.createTextRange(),n.moveToElementText(r)),n.collapse(!!e),t.setRng(n)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}}var n=this,r,i,s,o,u,a;if(!n.win)return null;if(o=n.win.document,!e&&n.lastFocusBookmark){var f=n.lastFocusBookmark;return f.startContainer?(i=o.createRange(),i.setStart(f.startContainer,f.startOffset),i.setEnd(f.endContainer,f.endOffset)):i=f,i}if(e&&n.tridentSel)return n.tridentSel.getRangeAt(0);try{(r=n.getSel())&&(i=r.rangeCount>0?r.getRangeAt(0):r.createRange?r.createRange():o.createRange())}catch(l){}if(a=n.editor.fire("GetSelectionRange",{range:i}),a.range!==i)return a.range;if(h&&i&&i.setStart&&o.selection){try{u=o.selection.createRange()}catch(l){}u&&u.item&&(s=u.item(0),i=o.createRange(),i.setStartBefore(s),i.setEndAfter(s))}return i||(i=o.createRange?o.createRange():o.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(s=n.dom.getRoot(),i.setStart(s,0),i.setEnd(s,0)),n.selectedRange&&n.explicitRange&&(0===t(i.START_TO_START,i,n.selectedRange)&&0===t(i.END_TO_END,i,n.selectedRange)?i=n.explicitRange:(n.selectedRange=null,n.explicitRange=null)),i},setRng:function(e,t){var n=this,r,i,s;if(e)if(e.select){n.explicitRange=null;try{e.select()}catch(o){}}else if(n.tridentSel){if(e.cloneRange)try{n.tridentSel.addRange(e)}catch(o){}}else{if(r=n.getSel(),s=n.editor.fire("SetSelectionRange",{range:e}),e=s.range,r){n.explicitRange=e;try{r.removeAllRanges(),r.addRange(e)}catch(o){}t===!1&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),n.selectedRange=r.rangeCount>0?r.getRangeAt(0):null}e.collapsed||e.startContainer!=e.endContainer||!r.setBaseAndExtent||u.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(i=e.startContainer.childNodes[e.startOffset],i&&"IMG"==i.tagName&&n.getSel().setBaseAndExtent(i,0,i,1))}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t=this,n=t.getRng(),r,i,s,o,u,a=t.dom.getRoot();return n?(i=n.startContainer,s=n.endContainer,o=n.startOffset,u=n.endOffset,n.setStart?(r=n.commonAncestorContainer,!n.collapsed&&(i==s&&2>u-o&&i.hasChildNodes()&&(r=i.childNodes[o]),3===i.nodeType&&3===s.nodeType&&(i=i.length===o?e(i.nextSibling,!0):i.parentNode,s=0===u?e(s.previousSibling,!1):s.parentNode,i&&i===s))?i:r&&3==r.nodeType?r.parentNode:r):(r=n.item?n.item(0):n.parentElement(),r.ownerDocument!==t.win.document&&(r=a),r)):a},getSelectedBlocks:function(t,n){var r=this,i=r.dom,s,o,u=[];if(o=i.getRoot(),t=i.getParent(t||r.getStart(),i.isBlock),n=i.getParent(n||r.getEnd(),i.isBlock),t&&t!=o&&u.push(t),t&&n&&t!=n){s=t;for(var a=new e(t,o);(s=a.next())&&s!=n;)i.isBlock(s)&&u.push(s)}return n&&t!=n&&n!=o&&u.push(n),u},isForward:function(){var e=this.dom,t=this.getSel(),n,r;return t&&t.anchorNode&&t.focusNode?(n=e.createRng(),n.setStart(t.anchorNode,t.anchorOffset),n.collapse(!0),r=e.createRng(),r.setStart(t.focusNode,t.focusOffset),r.collapse(!0),n.compareBoundaryPoints(n.START_TO_START,r)<=0):!0},normalize:function(){var e=this,t=e.getRng();return u.range&&(new i(e.dom)).normalize(t)&&e.setRng(t,e.isForward()),t},selectorChanged:function(e,t){var n=this,r;return n.selectorChangedData||(n.selectorChangedData={},r={},n.editor.on("NodeChange",function(e){var t=e.element,i=n.dom,s=i.getParents(t,null,i.getRoot()),o={};l(n.selectorChangedData,function(e,t){l(s,function(n){return i.is(n,t)?(r[t]||(l(e,function(e){e(!0,{node:n,selector:t,parents:s})}),r[t]=e),o[t]=e,!1):void 0})}),l(r,function(e,n){o[n]||(delete r[n],l(e,function(e){e(!1,{node:t,selector:n,parents:s})}))})})),n.selectorChangedData[e]||(n.selectorChangedData[e]=[]),n.selectorChangedData[e].push(t),n},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){function n(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}}var r,i,s=this,u=s.dom,a=u.getRoot(),f,l,c=0;if(o.isElement(e)){if(t===!1&&(c=e.offsetHeight),"BODY"!=a.nodeName){var h=s.getScrollContainer();if(h)return r=n(e).y-n(h).y+c,l=h.clientHeight,f=h.scrollTop,void ((f>r||r+25>f+l)&&(h.scrollTop=f>r?r:r-l+25))}i=u.getViewPort(s.editor.getWin()),r=u.getPos(e).y+c,f=i.y,l=i.h,(r<i.y||r+25>f+l)&&s.editor.getWin().scrollTo(0,f>r?r:r-l+25)}},placeCaretAt:function(e,t){this.setRng(i.getCaretRangeFromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(t,n,r){var i=n,s=new e(n,i),o=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&&0!==c(n.nodeValue).length)return void (r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(o[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void (r?t.setStartBefore(n):"BR"==n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(u.ie&&u.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n))return void (r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?s.next():s.prev());"BODY"==i.nodeName&&(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},f}),r(J,[V,v],function(e,t){function n(t){this.compare=function(n,i){function s(e){var n={};return r(t.getAttribs(e),function(r){var i=r.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&"data-mce-style"!==i&&"data-mce-fragment"!=i&&(n[i]=t.getAttrib(e,i))}),n}function o(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(n=t[r],"undefined"==typeof n)return!1;if(e[r]!=n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0}return n.nodeName!=i.nodeName?!1:o(s(n),s(i))&&o(t.parseStyle(t.getAttrib(n,"style")),t.parseStyle(t.getAttrib(i,"style")))?!e.isBookmarkNode(n)&&!e.isBookmarkNode(i):!1}}var r=t.each;return n}),r(K,[v],function(e){function t(e,t){function r(e){return e.replace(/%(\w+)/g,"")}var i,s,o=e.dom,u="",a,f;if(f=e.settings.preview_styles,f===!1)return"";if(f||(f="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}return i=t.block||t.inline||"span",s=o.create(i),n(t.styles,function(e,t){e=r(e),e&&o.setStyle(s,t,e)}),n(t.attributes,function(e,t){e=r(e),e&&o.setAttrib(s,t,e)}),n(t.classes,function(e){e=r(e),o.hasClass(s,e)||o.addClass(s,e)}),e.fire("PreviewFormats"),o.setStyles(s,{position:"absolute",left:-65535}),e.getBody().appendChild(s),a=o.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,n(f.split(" "),function(t){var n=o.getStyle(s,t,!0);if(!("background-color"==t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=o.getStyle(e.getBody(),t,!0),"#ffffff"==o.toHex(n).toLowerCase())||"color"==t&&"#000000"==o.toHex(n).toLowerCase())){if("font-size"==t&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*a+"px"}"border"==t&&n&&(u+="padding:0 2px;"),u+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),o.remove(s),u}var n=e.each;return{getCssText:t}}),r(Q,[d,N,m],function(e,t,n){function r(e,t){var n=s[e];n||(s[e]=n=[]),s[e].push(t)}function i(e,t){u(s[e],function(e){e(t)})}var s=[],o=e.filter,u=e.each;return r("pre",function(r){function i(t){return f(t.previousSibling)&&-1!=e.indexOf(l,t.previousSibling)}function s(e,t){n(t).remove(),n(e).append("<br><br>").append(t.childNodes)}var a=r.selection.getRng(),f,l;f=t.matchNodeNames("pre"),a.collapsed||(l=r.selection.getSelectedBlocks(),u(o(o(l,f),i),function(e){s(e.previousSibling,e)}))}),{postProcess:i}}),r(G,[y,L,V,J,v,K,Q],function(e,t,n,r,i,s,o){return function(u){function a(e){return e.nodeType&&(e=e.nodeName),!!u.schema.getTextBlockElements()[e.toLowerCase()]}function f(e){return/^(TH|TD)$/.test(e.nodeName)}function l(e){return e&&/^(IMG)$/.test(e.nodeName)}function c(e,t){return $.getParents(e,t,$.getRoot())}function h(e){return 1===e.nodeType&&"_mce_caret"===e.id}function p(){m({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){lt(n,function(t,n){$.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),lt("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){m(e,{block:e,remove:"all"})}),m(u.settings.formats)}function d(){u.addShortcut("meta+b","bold_desc","Bold"),u.addShortcut("meta+i","italic_desc","Italic"),u.addShortcut("meta+u","underline_desc","Underline");for(var e=1;6>=e;e++)u.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);u.addShortcut("access+7","",["FormatBlock",!1,"p"]),u.addShortcut("access+8","",["FormatBlock",!1,"div"]),u.addShortcut("access+9","",["FormatBlock",!1,"address"])}function v(e){return e?V[e]:V}function m(e,t){e&&("string"!=typeof e?lt(e,function(e,t){m(t,e)}):(t=t.length?t:[t],lt(t,function(e){e.deep===st&&(e.deep=!e.selector),e.split===st&&(e.split=!e.selector||e.inline),e.remove===st&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),V[e]=t))}function g(e){return e&&V[e]&&delete V[e],V}function y(e,t){var n=v(t);if(n)for(var r=0;r<n.length;r++)if(n[r].inherit===!1&&$.is(e,n[r].selector))return!0;return!1}function b(e){var t;return u.dom.getParent(e,function(e){return t=u.dom.getStyle(e,"text-decoration"),t&&"none"!==t}),t}function w(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=b(e.parentNode),u.dom.getStyle(e,"color")&&t?u.dom.setStyle(e,"text-decoration",t):u.dom.getStyle(e,"text-decoration")===t&&u.dom.setStyle(e,"text-decoration",null))}function E(t,n,r){function i(e,t){if(t=t||c,e){if(t.onformat&&t.onformat(e,t,n,r),lt(t.styles,function(t,r){$.setStyle(e,r,P(t,n))}),t.styles){var i=$.getAttrib(e,"style");i&&e.setAttribute("data-mce-style",i)}lt(t.attributes,function(t,r){$.setAttrib(e,r,P(t,n))}),lt(t.classes,function(t){t=P(t,n),$.hasClass(e,t)||$.addClass(e,t)})}}function s(){function t(t,n){var i=new e(n);for(r=i.prev2();r;r=i.prev2()){if(3==r.nodeType&&r.data.length>0)return r;if(r.childNodes.length>1||r==t||"BR"==r.tagName)return r}}var n=u.selection.getRng(),i=n.startContainer,s=n.endContainer;if(i!=s&&0===n.endOffset){var o=t(i,s),a=3==o.nodeType?o.data.length:o.childNodes.length;n.setEnd(o,a)}return n}function f(e,r,s){var o=[],u,f,p=!0;u=c.inline||c.block,f=$.create(u),i(f),K.walk(e,function(e){function r(e){var v,g,y,b,w;return w=p,v=e.nodeName.toLowerCase(),g=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&ot(e)&&(w=p,p="true"===ot(e),b=!0),M(v,"br")?(d=0,void (c.block&&$.remove(e))):c.wrapper&&T(e,t,n)?void (d=0):p&&!b&&c.block&&!c.wrapper&&a(v)&&Q(g,u)?(e=$.rename(e,u),i(e),o.push(e),void (d=0)):c.selector&&(lt(l,function(t){return"collapsed"in t&&t.collapsed!==m?void 0:$.is(e,t.selector)&&!h(e)?(i(e,t),y=!0,!1):void 0}),!c.inline||y)?void (d=0):void (!p||b||!Q(u,v)||!Q(g,u)||!s&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||h(e)||c.inline&&G(e)?(d=0,lt(ct(e.childNodes),r),b&&(p=w),d=0):(d||(d=$.clone(f,nt),e.parentNode.insertBefore(d,e),o.push(d)),d.appendChild(e)))}var d;lt(e,r)}),c.links===!0&&lt(o,function(e){function t(e){"A"===e.nodeName&&i(e,c),lt(ct(e.childNodes),t)}t(e)}),lt(o,function(e){function r(e){var t=0;return lt(e.childNodes,function(e){H(e)||ft(e)||t++}),t}function s(e){var t,n;return lt(e.childNodes,function(e){return 1!=e.nodeType||ft(e)||h(e)?void 0:(t=e,nt)}),t&&!ft(t)&&O(t,c)&&(n=$.clone(t,nt),i(n),$.replace(n,e,rt),$.remove(t,1)),n||e}var u;if(u=r(e),(o.length>1||!G(e))&&0===u)return void $.remove(e,1);if(c.inline||c.wrapper){if(c.exact||1!==u||(e=s(e)),lt(l,function(t){lt($.select(t.inline,e),function(e){ft(e)||I(t,n,e,t.exact?e:null)})}),T(e.parentNode,t,n))return $.remove(e,1),e=0,rt;c.merge_with_parents&&$.getParent(e.parentNode,function(r){return T(r,t,n)?($.remove(e,1),e=0,rt):void 0}),e&&c.merge_siblings!==!1&&(e=U(R(e),e),e=U(e,R(e,rt)))}})}var l=v(t),c=l[0],p,d,m=!r&&J.isCollapsed();if("false"!==ot(J.getNode())){if(c){if(r)r.nodeType?(d=$.createRng(),d.setStartBefore(r),d.setEndAfter(r),f(j(d,l),null,!0)):f(r,null,!0);else if(m&&c.inline&&!$.select("td[data-mce-selected],th[data-mce-selected]").length)W("apply",t,n);else{var g=u.selection.getNode();Y||!l[0].defaultBlock||$.getParent(g,$.isBlock)||E(l[0].defaultBlock),u.selection.setRng(s()),p=J.getBookmark(),f(j(J.getRng(rt),l),p),c.styles&&(c.styles.color||c.styles.textDecoration)&&(ht(g,w,"childNodes"),w(g)),J.moveToBookmark(p),X(J.getRng(rt)),u.nodeChanged()}o.postProcess(t,u)}}else{r=J.getNode();for(var y=0,b=l.length;b>y;y++)if(l[y].ceFalseOverride&&$.is(r,l[y].selector))return void i(r,l[y])}}function S(e,t,n,r){function i(e){var n,r,s,o,u;if(1===e.nodeType&&ot(e)&&(o=y,y="true"===ot(e),u=!0),n=ct(e.childNodes),y&&!u)for(r=0,s=p.length;s>r&&!I(p[r],t,e,e);r++);if(d.deep&&n.length){for(r=0,s=n.length;s>r;r++)i(n[r]);u&&(y=o)}}function s(n){var i;return lt(c(n.parentNode).reverse(),function(n){var s;i||"_start"==n.id||"_end"==n.id||(s=T(n,e,t,r),s&&s.split!==!1&&(i=n))}),i}function o(e,n,r,i){var s,o,u,a,f,l;if(e){for(l=e.parentNode,s=n.parentNode;s&&s!=l;s=s.parentNode){for(o=$.clone(s,nt),f=0;f<p.length;f++)if(I(p[f],t,o,o)){o=0;break}o&&(u&&o.appendChild(u),a||(a=o),u=o)}!i||d.mixed&&G(e)||(n=$.split(e,n)),u&&(r.parentNode.insertBefore(u,r),a.appendChild(r))}return n}function a(e){return o(s(e),e,e,!0)}function l(e){var t=$.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return ft(n)&&(n=n[e?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),$.remove(t,!0),n}function h(e){var t,n,r=e.commonAncestorContainer;if(e=j(e,p,rt),d.split){if(t=z(e,rt),n=z(e),t!=n){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&f(n)&&n.firstChild&&(n=n.firstChild||n),$.isChildOf(t,n)&&!G(n)&&!f(t)&&!f(n))return t=B(t,"span",{id:"_start","data-mce-type":"bookmark"}),a(t),void (t=l(rt));t=B(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=B(n,"span",{id:"_end","data-mce-type":"bookmark"}),a(t),a(n),t=l(rt),n=l()}else t=n=a(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=Z(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=Z(n)+1}K.walk(e,function(e){lt(e,function(e){i(e),1===e.nodeType&&"underline"===u.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===b(e.parentNode)&&I({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var p=v(e),d=p[0],m,g,y=!0;if(n)return void (n.nodeType?(g=$.createRng(),g.setStartBefore(n),g.setEndAfter(n),h(g)):h(n));if("false"!==ot(J.getNode()))J.isCollapsed()&&d.inline&&!$.select("td[data-mce-selected],th[data-mce-selected]").length?W("remove",e,t,r):(m=J.getBookmark(),h(J.getRng(rt)),J.moveToBookmark(m),d.inline&&N(e,t,J.getStart())&&X(J.getRng(!0)),u.nodeChanged());else{n=J.getNode();for(var w=0,E=p.length;E>w&&(!p[w].ceFalseOverride||!I(p[w],t,n,n));w++);}}function x(e,t,n){var r=v(e);!N(e,t,n)||"toggle"in r[0]&&!r[0].toggle?E(e,t,n):S(e,t,n)}function T(e,t,n,r){function i(e,t,i){var s,o,u=t[i],a;if(t.onmatch)return t.onmatch(e,t,i);if(u)if(u.length===st){for(s in u)if(u.hasOwnProperty(s)){if(o="attributes"===i?$.getAttrib(e,s):_(e,s),r&&!o&&!t.exact)return;if((!r||t.exact)&&!M(o,D(P(u[s],n),s)))return}}else for(a=0;a<u.length;a++)if("attributes"===i?$.getAttrib(e,u[a]):_(e,u[a]))return t;return t}var s=v(t),o,u,a;if(s&&e)for(u=0;u<s.length;u++)if(o=s[u],O(e,o)&&i(e,o,"attributes")&&i(e,o,"styles")){if(a=o.classes)for(u=0;u<a.length;u++)if(!$.hasClass(e,a[u]))return;return o}}function N(e,t,n){function r(n){var r=$.getRoot();return n===r?!1:(n=$.getParent(n,function(n){return y(n,e)?!0:n.parentNode===r||!!T(n,e,t,!0)}),T(n,e,t))}var i;return n?r(n):(n=J.getNode(),r(n)?rt:(i=J.getStart(),i!=n&&r(i)?rt:nt))}function C(e,t){var n,r=[],i={};return n=J.getStart(),$.getParent(n,function(n){var s,o;for(s=0;s<e.length;s++)o=e[s],!i[o]&&T(n,o,t)&&(i[o]=!0,r.push(o))},$.getRoot()),r}function k(e){var t=v(e),n,r,i,s,o;if(t)for(n=J.getStart(),r=c(n),s=t.length-1;s>=0;s--){if(o=t[s].selector,!o||t[s].defaultBlock)return rt;for(i=r.length-1;i>=0;i--)if($.is(r[i],o))return rt}return nt}function L(e,t,n){var r;return it||(it={},r={},u.on("NodeChange",function(e){var t=c(e.element),n={};t=i.grep(t,function(e){return 1==e.nodeType&&!e.getAttribute("data-mce-bogus")}),lt(it,function(e,i){lt(t,function(s){return T(s,i,{},e.similar)?(r[i]||(lt(e,function(e){e(!0,{node:s,format:i,parents:t})}),r[i]=e),n[i]=e,!1):y(s,i)?!1:void 0})}),lt(r,function(i,s){n[s]||(delete r[s],lt(i,function(n){n(!1,{node:e.element,format:s,parents:t})}))})})),lt(e.split(","),function(e){it[e]||(it[e]=[],it[e].similar=n),it[e].push(t)}),this}function A(e){return s.getCssText(u,e)}function O(e,t){return M(e,t.inline)?rt:M(e,t.block)?rt:t.selector?1==e.nodeType&&$.is(e,t.selector):void 0}function M(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function _(e,t){return D($.getStyle(e,t),t)}function D(e,t){return"color"!=t&&"backgroundColor"!=t||(e=$.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function P(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function H(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function B(e,t,n){var r=$.create(t,n);return e.parentNode.insertBefore(r,e),r.appendChild(e),r}function j(t,n,r){function i(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var r,i,s,o,u;if(r=i=e?m:y,o=e?"previousSibling":"nextSibling",u=$.getRoot(),3==r.nodeType&&!H(r)&&(e?g>0:b<r.nodeValue.length))return r;for(;;){if(!n[0].block_expand&&G(i))return i;for(s=i[o];s;s=s[o])if(!ft(s)&&!H(s)&&!t(s))return i;if(i==u||i.parentNode==u){r=i;break}i=i.parentNode}return r}function s(e,t){for(t===st&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function o(e){for(var t=e;t;){if(1===t.nodeType&&ot(t))return"false"===ot(t)?t:e;t=t.parentNode}return e}function f(t,n,i){function s(e,t){var n,s,o=e.nodeValue;return"undefined"==typeof t&&(t=i?o.length:0),i?(n=o.lastIndexOf(" ",t),s=o.lastIndexOf("",t),n=n>s?n:s,-1===n||r||n++):(n=o.indexOf(" ",t),s=o.indexOf("",t),n=-1!==n&&(-1===s||s>n)?n:s),n}var o,a,f,l;if(3===t.nodeType){if(f=s(t,n),-1!==f)return{container:t,offset:f};l=t}for(o=new e(t,$.getParent(t,G)||u.getBody());a=o[i?"prev":"next"]();)if(3===a.nodeType){if(l=a,f=s(a),-1!==f)return{container:a,offset:f}}else if(G(a))break;return l?(n=i?0:l.length,{container:l,offset:n}):void 0}function l(e,r){var i,s,o,u;for(3==e.nodeType&&0===e.nodeValue.length&&e[r]&&(e=e[r]),i=c(e),s=0;s<i.length;s++)for(o=0;o<n.length;o++)if(u=n[o],!("collapsed"in u&&u.collapsed!==t.collapsed)&&$.is(i[s],u.selector))return i[s];return e}function h(e,t){var r,i=$.getRoot();if(n[0].wrapper||(r=$.getParent(e,n[0].block,i)),r||(r=$.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=i&&a(e)})),r&&n[0].wrapper&&(r=c(r,"ul,ol").reverse()[0]||r),!r)for(r=e;r[t]&&!G(r[t])&&(r=r[t],!M(r,"br")););return r||e}var p,d,v,m=t.startContainer,g=t.startOffset,y=t.endContainer,b=t.endOffset;if(1==m.nodeType&&m.hasChildNodes()&&(p=m.childNodes.length-1,m=m.childNodes[g>p?p:g],3==m.nodeType&&(g=0)),1==y.nodeType&&y.hasChildNodes()&&(p=y.childNodes.length-1,y=y.childNodes[b>p?p:b-1],3==y.nodeType&&(b=y.nodeValue.length)),m=o(m),y=o(y),(ft(m.parentNode)||ft(m))&&(m=ft(m)?m:m.parentNode,m=m.nextSibling||m,3==m.nodeType&&(g=0)),(ft(y.parentNode)||ft(y))&&(y=ft(y)?y:y.parentNode,y=y.previousSibling||y,3==y.nodeType&&(b=y.length)),n[0].inline&&(t.collapsed&&(v=f(m,g,!0),v&&(m=v.container,g=v.offset),v=f(y,b),v&&(y=v.container,b=v.offset)),d=s(y,b),d.node)){for(;d.node&&0===d.offset&&d.node.previousSibling;)d=s(d.node.previousSibling);d.node&&d.offset>0&&3===d.node.nodeType&&" "===d.node.nodeValue.charAt(d.offset-1)&&d.offset>1&&(y=d.node,y.splitText(d.offset-1))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==m.nodeType&&0!==g||(m=i(!0)),n[0].inline&&3==y.nodeType&&b!==y.nodeValue.length||(y=i())),n[0].selector&&n[0].expand!==nt&&!n[0].inline&&(m=l(m,"previousSibling"),y=l(y,"nextSibling")),(n[0].block||n[0].selector)&&(m=h(m,"previousSibling"),y=h(y,"nextSibling"),n[0].block&&(G(m)||(m=i(!0)),G(y)||(y=i()))),1==m.nodeType&&(g=Z(m),m=m.parentNode),1==y.nodeType&&(b=Z(y)+1,y=y.parentNode),{startContainer:m,startOffset:g,endContainer:y,endOffset:b}}function F(e,t){return t.links&&"A"==e.tagName}function I(e,t,n,r){var i,s,o;if(!O(n,e)&&!F(n,e))return nt;if("all"!=e.remove)for(lt(e.styles,function(i,s){i=D(P(i,t),s),"number"==typeof s&&(s=i,r=0),(e.remove_similar||!r||M(_(r,s),i))&&$.setStyle(n,s,""),o=1}),o&&""===$.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),lt(e.attributes,function(e,i){var s;if(e=P(e,t),"number"==typeof i&&(i=e,r=0),!r||M($.getAttrib(r,i),e)){if("class"==i&&(e=$.getAttrib(n,i),e&&(s="",lt(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(s+=(s?" ":"")+e)}),s)))return void $.setAttrib(n,i,s);"class"==i&&n.removeAttribute("className"),tt.test(i)&&n.removeAttribute("data-mce-"+i),n.removeAttribute(i)}}),lt(e.classes,function(e){e=P(e,t),r&&!$.hasClass(r,e)||$.removeClass(n,e)}),s=$.getAttribs(n),i=0;i<s.length;i++)if(0!==s[i].nodeName.indexOf("_"))return nt;return"none"!=e.remove?(q(n,e),rt):void 0}function q(e,t){function n(e,t,n){return e=R(e,t,n),!e||"BR"==e.nodeName||G(e)}var r=e.parentNode,i;t.block&&(Y?r==$.getRoot()&&(t.list_block&&M(e,t.list_block)||lt(ct(e.childNodes),function(e){Q(Y,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=B(e,Y),$.setAttribs(i,u.settings.forced_root_block_attrs)):i=0})):G(e)&&!G(r)&&(n(e,nt)||n(e.firstChild,rt,1)||e.insertBefore($.create("br"),e.firstChild),n(e,rt)||n(e.lastChild,nt,1)||e.appendChild($.create("br")))),t.selector&&t.inline&&!M(t.inline,e)||$.remove(e,1)}function R(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!H(e))return e}function U(e,t){function n(e,t){for(i=e;i;i=i[t]){if(3==i.nodeType&&0!==i.nodeValue.length)return e;if(1==i.nodeType&&!ft(i))return i}return e}var i,s,o=new r($);if(e&&t&&(e=n(e,"previousSibling"),t=n(t,"nextSibling"),o.compare(e,t))){for(i=e.nextSibling;i&&i!=t;)s=i,i=i.nextSibling,e.appendChild(s);return $.remove(t),lt(ct(t.childNodes),function(t){e.appendChild(t)}),e}return t}function z(t,n){var r,i,s;return r=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1==r.nodeType&&(s=r.childNodes.length-1,!n&&i&&i--,r=r.childNodes[i>s?s:i]),3===r.nodeType&&n&&i>=r.nodeValue.length&&(r=(new e(r,u.getBody())).next()||r),3!==r.nodeType||n||0!==i||(r=(new e(r,u.getBody())).prev()||r),r}function W(t,n,r,i){function s(e){var t=$.create("span",{id:m,"data-mce-bogus":!0,style:g?"color:red":""});return e&&t.appendChild(u.getDoc().createTextNode(et)),t}function o(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==et||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function f(e){for(;e;){if(e.id===m)return e;e=e.parentNode}}function l(t){var n;if(t)for(n=new e(t,t),t=n.current();t;t=n.next())if(3===t.nodeType)return t}function c(e,t){var n,r;if(e)r=J.getRng(!0),o(e)?(t!==!1&&(r.setStartBefore(e),r.setEndBefore(e)),$.remove(e)):(n=l(e),n.nodeValue.charAt(0)===et&&(n.deleteData(0,1),r.startContainer==n&&r.startOffset>0&&r.setStart(n,r.startOffset-1),r.endContainer==n&&r.endOffset>0&&r.setEnd(n,r.endOffset-1)),$.remove(e,1)),J.setRng(r);else if(e=f(J.getStart()),!e)for(;e=$.get(m);)c(e,!1)}function h(){var e,t,i,o,u,a,c;e=J.getRng(!0),o=e.startOffset,a=e.startContainer,c=a.nodeValue,t=f(J.getStart()),t&&(i=l(t)),c&&o>0&&o<c.length&&/\w/.test(c.charAt(o))&&/\w/.test(c.charAt(o-1))?(u=J.getBookmark(),e.collapse(!0),e=j(e,v(n)),e=K.split(e),E(n,r,e),J.moveToBookmark(u)):(t&&i.nodeValue===et?E(n,r,t):(t=s(!0),i=t.firstChild,e.insertNode(t),o=1,E(n,r,t)),J.setCursorLocation(i,o))}function p(){var e=J.getRng(!0),t,o,u,f,l,c,h=[],p,d;for(t=e.startContainer,o=e.startOffset,l=t,3==t.nodeType&&(o!=t.nodeValue.length&&(f=!0),l=l.parentNode);l;){if(T(l,n,r,i)){c=l;break}l.nextSibling&&(f=!0),h.push(l),l=l.parentNode}if(c)if(f)u=J.getBookmark(),e.collapse(!0),e=j(e,v(n),!0),e=K.split(e),S(n,r,e),J.moveToBookmark(u);else{for(d=s(),l=d,p=h.length-1;p>=0;p--)l.appendChild($.clone(h[p],!1)),l=l.firstChild;l.appendChild($.doc.createTextNode(et)),l=l.firstChild;var m=$.getParent(c,a);m&&$.isEmpty(m)?c.parentNode.replaceChild(d,c):$.insertAfter(d,c),J.setCursorLocation(l,1),$.isEmpty(c)&&$.remove(c)}}function d(){var e;e=f(J.getStart()),e&&!$.isEmpty(e)&&ht(e,function(e){1!=e.nodeType||e.id===m||$.isEmpty(e)||$.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var m="_mce_caret",g=u.settings.caret_debug;u._hasCaretEvents||(at=function(){var e=[],t;if(o(f(J.getStart()),e))for(t=e.length;t--;)$.setAttrib(e[t],"data-mce-bogus","1")},ut=function(e){var t=e.keyCode;c(),8==t&&J.isCollapsed()&&J.getStart().innerHTML==et&&c(f(J.getStart())),37!=t&&39!=t||c(f(J.getStart())),d()},u.on("SetContent",function(e){e.selection&&d()}),u._hasCaretEvents=!0),"apply"==t?h():p()}function X(t){var n=t.startContainer,r=t.startOffset,i,s,o,u,a;if((t.startContainer!=t.endContainer||!l(t.startContainer.childNodes[t.startOffset]))&&(3==n.nodeType&&r>=n.nodeValue.length&&(r=Z(n),n=n.parentNode,i=!0),1==n.nodeType))for(u=n.childNodes,n=u[Math.min(r,u.length-1)],s=new e(n,$.getParent(n,$.isBlock)),(r>u.length-1||i)&&s.next(),o=s.current();o;o=s.next())if(3==o.nodeType&&!H(o))return a=$.create("a",{"data-mce-bogus":"all"},et),o.parentNode.insertBefore(a,o),t.setStart(o,0),J.setRng(t),void $.remove(a)}var V={},$=u.dom,J=u.selection,K=new t($),Q=u.schema.isValidChild,G=$.isBlock,Y=u.settings.forced_root_block,Z=$.nodeIndex,et="",tt=/^(src|href|style)$/,nt=!1,rt=!0,it,st,ot=$.getContentEditable,ut,at,ft=n.isBookmarkNode,lt=i.each,ct=i.grep,ht=i.walk,pt=i.extend;pt(this,{get:v,register:m,unregister:g,apply:E,remove:S,toggle:x,match:N,matchAll:C,matchNode:T,canApply:k,formatChanged:L,getCssText:A}),p(),d(),u.on("BeforeGetContent",function(e){at&&"raw"!=e.format&&at()}),u.on("mouseup keydown",function(e){ut&&ut(e)})}}),r(Y,[F,c],function(e,t){return function(e){function n(){return e.serializer.getTrimmedContent()}function r(t){e.setDirty(t)}function i(e){s.typing=!1,s.add({},e)}var s=this,o=0,u=[],a,f,l=0;return e.on("init",function(){s.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&s.beforeChange()}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&i(e)}),e.on("ObjectResizeStart Cut",function(){s.beforeChange()}),e.on("SaveContent ObjectResized blur",i),e.on("DragEnd",i),e.on("KeyUp",function(o){var a=o.keyCode;o.isDefaultPrevented()||((a>=33&&36>=a||a>=37&&40>=a||45==a||13==a||o.ctrlKey)&&(i(),e.nodeChanged()),(46==a||8==a||t.mac&&(91==a||93==a))&&e.nodeChanged(),f&&s.typing&&(e.isDirty()||(r(u[0]&&n()!=u[0].content),e.isDirty()&&e.fire("change",{level:u[0],lastLevel:null})),e.fire("TypingUndo"),f=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&36>=t||t>=37&&40>=t||45==t)return void (s.typing&&i(e));var n=e.ctrlKey&&!e.altKey||e.metaKey;!(16>t||t>20)||224==t||91==t||s.typing||n||(s.beforeChange(),s.typing=!0,s.add({},e),f=!0)}}),e.on("MouseDown",function(e){s.typing&&i(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),s={data:u,typing:!1,beforeChange:function(){l||(a=e.selection.getBookmark(2,!0))},add:function(t,i){var s,f=e.settings,c;if(t=t||{},t.content=n(),l||e.removed)return null;if(c=u[o],e.fire("BeforeAddUndo",{level:t,lastLevel:c,originalEvent:i}).isDefaultPrevented())return null;if(c&&c.content==t.content)return null;if(u[o]&&(u[o].beforeBookmark=a),f.custom_undo_redo_levels&&u.length>f.custom_undo_redo_levels){for(s=0;s<u.length-1;s++)u[s]=u[s+1];u.length--,o=u.length}t.bookmark=e.selection.getBookmark(2,!0),o<u.length-1&&(u.length=o+1),u.push(t),o=u.length-1;var h={level:t,lastLevel:c,originalEvent:i};return e.fire("AddUndo",h),o>0&&(r(!0),e.fire("change",h)),t},undo:function(){var t;return s.typing&&(s.add(),s.typing=!1),o>0&&(t=u[--o],e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(t.beforeBookmark),r(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return o<u.length-1&&(t=u[++o],e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(t.bookmark),r(!0),e.fire("redo",{level:t})),t},clear:function(){u=[],o=0,s.typing=!1,e.fire("ClearUndos")},hasUndo:function(){return o>0||s.typing&&u[0]&&n()!=u[0].content},hasRedo:function(){return o<u.length-1&&!this.typing},transact:function(e){s.beforeChange();try{l++,e()}finally{l--}s.add()}}}}),r(Z,[y,L,c],function(e,t,n){var r=n.ie&&n.ie<11;return function(i){function s(s){function p(e){return e&&o.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==o.getContentEditable(e)}function d(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function v(e){var t;o.isBlock(e)&&(t=u.getRng(),e.appendChild(o.create("span",null,"")),u.select(e),e.lastChild.outerHTML="",u.setRng(t))}function m(e){var t=e,n=[],r;if(t){for(;t=t.firstChild;){if(o.isBlock(t))return;1!=t.nodeType||c[t.nodeName.toLowerCase()]||n.push(t)}for(r=n.length;r--;)t=n[r],!t.hasChildNodes()||t.firstChild==t.lastChild&&""===t.firstChild.nodeValue?o.remove(t):"A"==t.nodeName&&" "===(t.innerText||t.textContent)&&o.remove(t)}}function g(t){function r(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}var i,s,a,f=t,l;if(t){if(n.ie&&n.ie<9&&P&&P.firstChild&&P.firstChild==P.lastChild&&"BR"==P.firstChild.tagName&&o.remove(P.firstChild),/^(LI|DT|DD)$/.test(t.nodeName)){var c=r(t.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&t.insertBefore(o.doc.createTextNode(""),t.firstChild)}if(a=o.createRng(),n.ie||t.normalize(),t.hasChildNodes()){for(i=new e(t,t);s=i.current();){if(3==s.nodeType){a.setStart(s,0),a.setEnd(s,0);break}if(h[s.nodeName.toLowerCase()]){a.setStartBefore(s),a.setEndBefore(s);break}f=s,s=i.next()}s||(a.setStart(f,0),a.setEnd(f,0))}else"BR"==t.nodeName?t.nextSibling&&o.isBlock(t.nextSibling)?((!H||9>H)&&(l=o.create("br"),t.parentNode.insertBefore(l,t)),a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));u.setRng(a),o.remove(l),u.scrollIntoView(t)}}function y(e){var t=a.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&o.setAttribs(e,a.forced_root_block_attrs)}function b(e){e.innerHTML=r?"":'<br data-mce-bogus="1">'}function w(e){var t=_,n,i,s,u=l.getTextInlineElements();if(e||"TABLE"==q?(n=o.create(e||U),y(n)):n=P.cloneNode(!1),s=n,a.keep_styles!==!1)do if(u[t.nodeName]){if("_mce_caret"==t.id)continue;i=t.cloneNode(!1),o.setAttrib(i,"id",""),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(s=i,n.appendChild(i))}while((t=t.parentNode)&&t!=M);return r||(s.innerHTML='<br data-mce-bogus="1">'),n}function E(t){var n,r,i;if(3==_.nodeType&&(t?D>0:D<_.nodeValue.length))return!1;if(_.parentNode==P&&z&&!t)return!0;if(t&&1==_.nodeType&&_==P.firstChild)return!0;if("TABLE"===_.nodeName||_.previousSibling&&"TABLE"==_.previousSibling.nodeName)return z&&!t||!z&&t;for(n=new e(_,P),3==_.nodeType&&(t&&0===D?n.prev():t||D!=_.nodeValue.length||n.next());r=n.current();){if(1===r.nodeType){if(!r.getAttribute("data-mce-bogus")&&(i=r.nodeName.toLowerCase(),c[i]&&"br"!==i))return!1}else if(3===r.nodeType&&!/^[ \t\r\n]*$/.test(r.nodeValue))return!1;t?n.prev():n.next()}return!0}function S(e,t){var n,r,s,u,a,f,c=U||"P";if(r=o.getParent(e,o.isBlock),!r||!p(r)){if(r=r||M,f=r==i.getBody()||d(r)?r.nodeName.toLowerCase():r.parentNode.nodeName.toLowerCase(),!r.hasChildNodes())return n=o.create(c),y(n),r.appendChild(n),A.setStart(n,0),A.setEnd(n,0),n;for(u=e;u.parentNode!=r;)u=u.parentNode;for(;u&&!o.isBlock(u);)s=u,u=u.previousSibling;if(s&&l.isValidChild(f,c.toLowerCase())){for(n=o.create(c),y(n),s.parentNode.insertBefore(n,s),u=s;u&&!o.isBlock(u);)a=u.nextSibling,n.appendChild(u),u=a;A.setStart(e,t),A.setEnd(e,t)}}return e}function x(){function e(e){for(var t=I[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===P}function t(){var e=I.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:I}if(I!=i.getBody()){var n=I.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(U="LI"),j=U?w(U):o.create("BR"),e(!0)&&e()?"LI"==n?o.insertAfter(j,t()):o.replace(j,I):e(!0)?"LI"==n?(o.insertAfter(j,t()),j.appendChild(o.doc.createTextNode(" ")),j.appendChild(I)):I.parentNode.insertBefore(j,I):e()?(o.insertAfter(j,t()),v(j)):(I=t(),O=A.cloneRange(),O.setStartAfter(P),O.setEndAfter(I),F=O.extractContents(),"LI"==U&&"LI"==F.firstChild.nodeName?(j=F.firstChild,o.insertAfter(F,I)):(o.insertAfter(F,I),o.insertAfter(j,I))),o.remove(P),g(j),f.add()}}function T(){i.execCommand("InsertLineBreak",!1,s)}function N(e){do 3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)}function C(e){var t=o.getRoot(),n,r;for(n=e;n!==t&&"false"!==o.getContentEditable(n);)"true"===o.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==t?r:t}function k(e){var t;r||(e.normalize(),t=e.lastChild,t&&!/^(left|right)$/gi.test(o.getStyle(t,"float",!0))||o.add(e,"br"))}function L(){j=/^(H[1-6]|PRE|FIGURE)$/.test(q)&&"HGROUP"!=R?w(U):w(),a.end_container_on_empty_block&&p(I)&&o.isEmpty(P)?j=o.split(I,P):o.insertAfter(j,P),g(j)}var A,O,M,_,D,P,H,B,j,F,I,q,R,U,z;if(A=u.getRng(!0),!s.isDefaultPrevented()){if(!A.collapsed)return void i.execCommand("Delete");if((new t(o)).normalize(A),_=A.startContainer,D=A.startOffset,U=(a.force_p_newlines?"p":"")||a.forced_root_block,U=U?U.toUpperCase():"",H=o.doc.documentMode,B=s.shiftKey,1==_.nodeType&&_.hasChildNodes()&&(z=D>_.childNodes.length-1,_=_.childNodes[Math.min(D,_.childNodes.length-1)]||_,D=z&&3==_.nodeType?_.nodeValue.length:0),M=C(_)){if(f.beforeChange(),!o.isBlock(M)&&M!=o.getRoot())return void (U&&!B||T());if((U&&!B||!U&&B)&&(_=S(_,D)),P=o.getParent(_,o.isBlock),I=P?o.getParent(P.parentNode,o.isBlock):null,q=P?P.nodeName.toUpperCase():"",R=I?I.nodeName.toUpperCase():"","LI"!=R||s.ctrlKey||(P=I,q=R),/^(LI|DT|DD)$/.test(q)){if(!U&&B)return void T();if(o.isEmpty(P))return void x()}if("PRE"==q&&a.br_in_pre!==!1){if(!B)return void T()}else if(!U&&!B&&"LI"!=q||U&&B)return void T();U&&P===i.getBody()||(U=U||"P",E()?L():E(!0)?(j=P.parentNode.insertBefore(w(),P),v(j),g(P)):(O=A.cloneRange(),O.setEndAfter(P),F=O.extractContents(),N(F),j=F.firstChild,o.insertAfter(F,P),m(j),k(P),o.isEmpty(P)&&b(P),j.normalize(),o.isEmpty(j)?(o.remove(j),L()):g(j)),o.setAttrib(j,"id",""),i.fire("NewBlock",{newBlock:j}),f.add())}}}var o=i.dom,u=i.selection,a=i.settings,f=i.undoManager,l=i.schema,c=l.getNonEmptyElements(),h=l.getMoveCaretBeforeOnEnterElements();i.on("keydown",function(e){13==e.keyCode&&s(e)!==!1&&e.preventDefault()})}}),r(et,[],function(){return function(e){function t(){var t=i.getStart(),u=e.getBody(),a,f,l,c,h,p,d,v=-16777215,m,g,y,b,w;if(w=n.forced_root_block,t&&1===t.nodeType&&w){for(;t&&t!=u;){if(o[t.nodeName])return;t=t.parentNode}if(a=i.getRng(),a.setStart){f=a.startContainer,l=a.startOffset,c=a.endContainer,h=a.endOffset;try{g=e.getDoc().activeElement===u}catch(E){}}else a.item&&(t=a.item(0),a=e.getDoc().body.createTextRange(),a.moveToElementText(t)),g=a.parentElement().ownerDocument===e.getDoc(),y=a.duplicate(),y.collapse(!0),l=-1*y.move("character",v),y.collapsed||(y=a.duplicate(),y.collapse(!1),h=-1*y.move("character",v)-l);for(t=u.firstChild,b=u.nodeName.toLowerCase();t;)if((3===t.nodeType||1==t.nodeType&&!o[t.nodeName])&&s.isValidChild(b,w.toLowerCase())){if(3===t.nodeType&&0===t.nodeValue.length){d=t,t=t.nextSibling,r.remove(d);continue}p||(p=r.create(w,e.settings.forced_root_block_attrs),t.parentNode.insertBefore(p,t),m=!0),d=t,t=t.nextSibling,p.appendChild(d)}else p=null,t=t.nextSibling;if(m&&g){if(a.setStart)a.setStart(f,l),a.setEnd(c,h),i.setRng(a);else try{a=e.getDoc().body.createTextRange(),a.moveToElementText(u),a.collapse(!0),a.moveStart("character",l),h>0&&a.moveEnd("character",h),a.select()}catch(E){}e.nodeChanged()}}}var n=e.settings,r=e.dom,i=e.selection,s=e.schema,o=s.getBlockElements();n.forced_root_block&&e.on("NodeChange",t)}}),r(tt,[q,y,N,W,k,R],function(e,t,n,r,i,s){function o(e){return e>0}function u(e){return 0>e}function a(e,n,r,i,s){var a=new t(e,i);if(u(n)){if(w(e)&&(e=a.prev(!0),r(e)))return e;for(;e=a.prev(s);)if(r(e))return e}if(o(n)){if(w(e)&&(e=a.next(!0),r(e)))return e;for(;e=a.next(s);)if(r(e))return e}return null}function f(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(b(e))return e;return t}function l(e,t){for(;e&&e!=t;){if(E(e))return e;e=e.parentNode}return null}function c(e,t,n){return l(e.container(),n)==l(t.container(),n)}function h(e,t,n){return f(e.container(),n)==f(t.container(),n)}function p(e,t){var n,r;return t?(n=t.container(),r=t.offset(),T(n)?n.childNodes[r+e]:null):null}function d(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function v(e,t,n){return l(t,e)==l(n,e)}function m(e,t,n){var r,i;for(i=e?"previousSibling":"nextSibling";n&&n!=t;){if(r=n[i],S(r)&&(r=r[i]),w(r)){if(v(t,r,n))return r;break}if(N(r))break;n=n.parentNode}return null}function g(e,t,r){var s,o,u,a,f=x(m,!0,t),l=x(m,!1,t);if(o=r.startContainer,u=r.startOffset,i.isCaretContainerBlock(o)){if(T(o)||(o=o.parentNode),a=o.getAttribute("data-mce-caret"),"before"==a&&(s=o.nextSibling,w(s)))return C(s);if("after"==a&&(s=o.previousSibling,w(s)))return k(s)}if(!r.collapsed)return r;if(n.isText(o)){if(S(o)){if(1===e){if(s=l(o))return C(s);if(s=f(o))return k(s)}if(-1===e){if(s=f(o))return k(s);if(s=l(o))return C(s)}return r}if(i.endsWithCaretContainer(o)&&u>=o.data.length-1)return 1===e&&(s=l(o))?C(s):r;if(i.startsWithCaretContainer(o)&&1>=u)return-1===e&&(s=f(o))?k(s):r;if(u===o.data.length)return s=l(o),s?C(s):r;if(0===u)return s=f(o),s?k(s):r}return r}function y(e,t){return w(p(e,t))}var b=n.isContentEditableTrue,w=n.isContentEditableFalse,E=n.matchStyleValues("display","block table table-cell table-caption"),S=i.isCaretContainer,x=e.curry,T=n.isElement,N=s.isCaretCandidate,C=x(d,!0),k=x(d,!1);return{isForwards:o,isBackwards:u,findNode:a,getEditingHost:f,getParentBlock:l,isInSameBlock:c,isInSameEditingHost:h,isBeforeContentEditableFalse:x(y,0),isAfterContentEditableFalse:x(y,-1),normalizeRange:g}}),r(nt,[N,R,W,tt,d,q],function(e,t,n,r,i,s){function o(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}function u(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function a(e,t){if(v(e)){if(g(t.previousSibling)&&!h(t.previousSibling))return n.before(t);if(h(t))return n(t,0)}if(m(e)){if(g(t.nextSibling)&&!h(t.nextSibling))return n.after(t);if(h(t))return n(t,t.data.length)}return m(e)?d(t)?n.before(t):n.after(t):n.before(t)}function f(t,i){var s;return e.isBr(t)?(s=l(1,n.after(t),i),s?!r.isInSameBlock(n.before(t),n.before(s),i):!1):!1}function l(e,t,d){var w,E,S,x,T,N,C;if(!p(d)||!t)return null;if(C=t,w=C.container(),E=C.offset(),h(w)){if(m(e)&&E>0)return n(w,--E);if(v(e)&&E<w.length)return n(w,++E);S=w}else{if(m(e)&&E>0&&(x=u(w,E-1),g(x)))return!y(x)&&(T=r.findNode(x,e,b,x))?h(T)?n(T,T.data.length):n.after(T):h(x)?n(x,x.data.length):n.before(x);if(v(e)&&E<w.childNodes.length&&(x=u(w,E),g(x)))return f(x,d)?l(e,n.after(x),d):!y(x)&&(T=r.findNode(x,e,b,x))?h(T)?n(T,0):n.before(T):h(x)?n(x,0):n.after(x);S=C.getNode()}return(v(e)&&C.isAtEnd()||m(e)&&C.isAtStart())&&(S=r.findNode(S,e,s.constant(!0),d,!0),b(S))?a(e,S):(x=r.findNode(S,e,b,d),N=i.last(i.filter(o(w,d),c)),!N||x&&N.contains(x)?x?a(e,x):null:C=v(e)?n.after(N):n.before(N))}var c=e.isContentEditableFalse,h=e.isText,p=e.isElement,d=e.isBr,v=r.isForwards,m=r.isBackwards,g=t.isCaretCandidate,y=t.isAtomic,b=t.isEditableCaretCandidate;return function(e){return{next:function(t){return l(1,t,e)},prev:function(t){return l(-1,t,e)}}}}),r(rt,[H,c,v,J,L,y,nt,W,N],function(e,n,r,i,s,o,u,a,f){var l=r.each,c=r.extend,h=r.map,p=r.inArray,d=r.explode,v=n.ie,m=n.ie&&n.ie<11,g=!0,y=!1,b=f.matchNodeNames("td th");return function(f){function w(e,t,n,r){var i,s,o=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus||f.focus(),r=f.fire("BeforeExecCommand",{command:e,ui:t,value:n}),r.isDefaultPrevented())return!1;if(s=e.toLowerCase(),i=j.exec[s])return i(s,t,n),f.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(l(f.plugins,function(r){return r.execCommand&&r.execCommand(e,t,n)?(f.fire("ExecCommand",{command:e,ui:t,value:n}),o=!0,!1):void 0}),o)return o;if(f.theme&&f.theme.execCommand&&f.theme.execCommand(e,t,n))return f.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{o=f.getDoc().execCommand(e,t,n)}catch(u){}return o?(f.fire("ExecCommand",{command:e,ui:t,value:n}),!0):!1}function E(e){var t;if(!f.quirks.isHidden()){if(e=e.toLowerCase(),t=j.state[e])return t(e);try{return f.getDoc().queryCommandState(e)}catch(n){}return!1}}function S(e){var t;if(!f.quirks.isHidden()){if(e=e.toLowerCase(),t=j.value[e])return t(e);try{return f.getDoc().queryCommandValue(e)}catch(n){}}}function x(e,t){t=t||"exec",l(e,function(e,n){l(n.toLowerCase().split(","),function(n){j[t][n]=e})})}function T(e,t,n){e=e.toLowerCase(),j.exec[e]=function(e,r,i,s){return t.call(n||f,r,i,s)}}function N(e){if(e=e.toLowerCase(),j.exec[e])return!0;try{return f.getDoc().queryCommandSupported(e)}catch(t){}return!1}function C(e,t,n){e=e.toLowerCase(),j.state[e]=function(){return t.call(n||f)}}function k(e,t,n){e=e.toLowerCase(),j.value[e]=function(){return t.call(n||f)}}function L(e){return e=e.toLowerCase(),!!j.exec[e]}function A(e,n,r){return n===t&&(n=y),r===t&&(r=null),f.getDoc().execCommand(e,n,r)}function O(e){return B.match(e)}function M(e,n){B.toggle(e,n?{value:n}:t),f.nodeChanged()}function _(e){I=H.getBookmark(e)}function D(){H.moveToBookmark(I)}var P,H,B,j={state:{},exec:{},value:{}},F=f.settings,I;f.on("PreInit",function(){P=f.dom,H=f.selection,F=f.settings,B=f.formatter}),c(this,{execCommand:w,queryCommandState:E,queryCommandValue:S,queryCommandSupported:N,addCommands:x,addCommand:T,addQueryStateHandler:C,addQueryValueHandler:k,hasCustomCommand:L}),x({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){f.undoManager.add()},"Cut,Copy,Paste":function(e){var t=f.getDoc(),r;try{A(e)}catch(i){r=g}if("paste"!==e||t.queryCommandEnabled(e)||(r=!0),r||!t.queryCommandSupported(e)){var s=f.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");n.mac&&(s=s.replace(/Ctrl\+/g,"+")),f.notificationManager.open({text:s,type:"error"})}},unlink:function(){if(H.isCollapsed()){var e=H.getNode();return void ("A"==e.tagName&&f.dom.remove(e,!0))}B.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),l("left,center,right,justify".split(","),function(e){t!=e&&B.remove("align"+e)}),"none"!=t&&M("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;A(e),t=P.getParent(H.getNode(),"ol,ul"),t&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(_(),P.split(n,t),D()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){M(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){M(e,n)},FontSize:function(e,t,n){var r,i;n>=1&&7>=n&&(i=d(F.font_size_style_values),r=d(F.font_size_classes),n=r?r[n-1]||n:i[n-1]||n),M(e,n)},RemoveFormat:function(e){B.remove(e)},mceBlockQuote:function(){M("blockquote")},FormatBlock:function(e,t,n){return M(n||"p")},mceCleanup:function(){var e=H.getBookmark();f.setContent(f.getContent({cleanup:g}),{cleanup:g}),H.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||H.getNode();r!=f.getBody()&&(_(),f.dom.remove(r,g),D())},mceSelectNodeDepth:function(e,t,n){var r=0;P.getParent(H.getNode(),function(e){return 1==e.nodeType&&r++==n?(H.select(e),y):void 0},f.getBody())},mceSelectNode:function(e,t,n){H.select(n)},mceInsertContent:function(t,n,s){function o(e){function t(e){return r[e]&&3==r[e].nodeType}var n,r,i;return n=H.getRng(!0),r=n.startContainer,i=n.startOffset,3==r.nodeType&&(i>0?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),i<r.length?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}function c(){var e,t,n;e=H.getRng(!0),t=e.startContainer,n=e.startOffset,3==t.nodeType&&e.collapsed&&(""===t.data[n]?(t.deleteData(n,1),/[\u00a0| ]$/.test(s)||(s+=" ")):""===t.data[n-1]&&(t.deleteData(n-1,1),/[\u00a0| ]$/.test(s)||(s=" "+s)))}function h(e){if(_)for(A=e.firstChild;A;A=A.walk(!0))B[A.name]&&A.attr("data-mce-new","true")}function p(){if(_){var e=f.getBody(),t=new i(P);l(P.select("*[data-mce-new]"),function(n){n.removeAttribute("data-mce-new");for(var r=n.parentNode;r&&r!=e;r=r.parentNode)t.compare(r,n)&&P.remove(n,!0)})}}function d(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}function m(e){r.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})}function g(e){return!!e.getAttribute("data-mce-fragment")}function y(e){return e&&!f.schema.getShortEndedElements()[e.nodeName]}function w(e){function t(e){for(var t=f.getBody();e&&e!==t;e=e.parentNode)if("false"===f.dom.getContentEditable(e))return e;return null}function n(e){var t=a.fromRangeStart(e),n=new u(f.getBody());return t=n.next(t),t?t.toRange():void 0}var r,i,s;if(e){if(H.scrollIntoView(e),r=t(e))return P.remove(e),void H.select(r);L=P.createRng(),A=e.previousSibling,A&&3==A.nodeType?(L.setStart(A,A.nodeValue.length),v||(O=e.nextSibling,O&&3==O.nodeType&&(A.appendData(O.data),O.parentNode.removeChild(O)))):(L.setStartBefore(e),L.setEndBefore(e)),i=P.getParent(e,P.isBlock),P.remove(e),i&&P.isEmpty(i)&&(f.$(i).empty(),L.setStart(i,0),L.setEnd(i,0),b(i)||g(i)||!(s=n(L))?P.add(i,P.create("br",{"data-mce-bogus":"1"})):(L=s,P.remove(i))),H.setRng(L)}}var E,S,x,T,N,C,k,L,A,O,M,_,D,B=f.schema.getTextInlineElements();"string"!=typeof s&&(_=s.merge,D=s.data,s=s.content),/^ | $/.test(s)&&(s=o(s)),E=f.parser,S=new e({validate:F.validate},f.schema),M='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',C={content:s,format:"html",selection:!0},f.fire("BeforeSetContent",C),s=C.content,-1==s.indexOf("{$caret}")&&(s+="{$caret}"),s=s.replace(/\{\$caret\}/,M),L=H.getRng();var j=L.startContainer||(L.parentElement?L.parentElement():null),I=f.getBody();j===I&&H.isCollapsed()&&P.isBlock(I.firstChild)&&y(I.firstChild)&&P.isEmpty(I.firstChild)&&(L=P.createRng(),L.setStart(I.firstChild,0),L.setEnd(I.firstChild,0),H.setRng(L)),H.isCollapsed()||(f.selection.setRng(f.selection.getRng()),f.getDoc().execCommand("Delete",!1,null),c()),x=H.getNode();var q={context:x.nodeName.toLowerCase(),data:D};if(N=E.parse(s,q),d(N),h(N),A=N.lastChild,"mce_marker"==A.attr("id"))for(k=A,A=A.prev;A;A=A.walk(!0))if(3==A.type||!P.isBlock(A.name)){f.schema.isValidChild(A.parent.name,"span")&&A.parent.insert(k,A,"br"===A.name);break}if(f._selectionOverrides.showBlockCaretContainer(x),q.invalid){for(H.setContent(M),x=H.getNode(),T=f.getBody(),9==x.nodeType?x=A=T:A=x;A!==T;)x=A,A=A.parentNode;s=x==T?T.innerHTML:P.getOuterHTML(x),s=S.serialize(E.parse(s.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return S.serialize(N)}))),x==T?P.setHTML(T,s):P.setOuterHTML(x,s)}else s=S.serialize(N),A=x.firstChild,O=x.lastChild,!A||A===O&&"BR"===A.nodeName?P.setHTML(x,s):H.setContent(s);p(),w(P.get("mce_marker")),m(f.getBody()),f.fire("SetContent",C),f.addVisual()},mceInsertRawHTML:function(e,t,n){H.setContent("tiny_mce_marker"),f.setContent(f.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){M(n)},mceSetContent:function(e,t,n){f.setContent(n)},"Indent,Outdent":function(e){var t,n,r;t=F.indentation,n=/[a-z%]+$/i.exec(t),t=parseInt(t,10),E("InsertUnorderedList")||E("InsertOrderedList")?A(e):(F.forced_root_block||P.getParent(H.getNode(),P.isBlock)||B.apply("div"),l(H.getSelectedBlocks(),function(i){if("false"!==P.getContentEditable(i)&&"LI"!=i.nodeName){var s=f.getParam("indent_use_margin",!1)?"margin":"padding";s+="rtl"==P.getStyle(i,"direction",!0)?"Right":"Left","outdent"==e?(r=Math.max(0,parseInt(i.style[s]||0,10)-t),P.setStyle(i,s,r?r+n:"")):(r=parseInt(i.style[s]||0,10)+t+n,P.setStyle(i,s,r))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){f.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){f.hasVisual=!f.hasVisual,f.addVisual()},mceReplaceContent:function(e,t,n){f.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,H.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var r;"string"==typeof n&&(n={href:n}),r=P.getParent(H.getNode(),"a"),n.href=n.href.replace(" ","%20"),r&&n.href||B.remove("link"),n.href&&B.apply("link",n,r)},selectAll:function(){var e=P.getRoot(),t;H.getRng().setStart?(t=P.createRng(),t.setStart(e,0),t.setEnd(e,e.childNodes.length),H.setRng(t)):(t=H.getRng(),t.item||(t.moveToElementText(e),t.select()))},"delete":function(){A("Delete");var e=f.getBody();P.isEmpty(e)&&(f.setContent(""),e.firstChild&&P.isBlock(e.firstChild)?f.selection.setCursorLocation(e.firstChild,0):f.selection.setCursorLocation(e,0))},mceNewDocument:function(){f.setContent("")},InsertLineBreak:function(e,t,n){function r(){for(var e=new o(p,v),t,n=f.schema.getNonEmptyElements();t=e.next();)if(n[t.nodeName.toLowerCase()]||t.length>0)return!0}var i=n,u,a,l,c=H.getRng(!0);(new s(P)).normalize(c);var h=c.startOffset,p=c.startContainer;if(1==p.nodeType&&p.hasChildNodes()){var d=h>p.childNodes.length-1;p=p.childNodes[Math.min(h,p.childNodes.length-1)]||p,h=d&&3==p.nodeType?p.nodeValue.length:0}var v=P.getParent(p,P.isBlock),y=v?v.nodeName.toUpperCase():"",b=v?P.getParent(v.parentNode,P.isBlock):null,w=b?b.nodeName.toUpperCase():"",E=i&&i.ctrlKey;"LI"!=w||E||(v=b,y=w),p&&3==p.nodeType&&h>=p.nodeValue.length&&(m||r()||(u=P.create("br"),c.insertNode(u),c.setStartAfter(u),c.setEndAfter(u),a=!0)),u=P.create("br"),c.insertNode(u);var S=P.doc.documentMode;return m&&"PRE"==y&&(!S||8>S)&&u.parentNode.insertBefore(P.doc.createTextNode("\r"),u),l=P.create("span",{},"&nbsp;"),u.parentNode.insertBefore(l,u),H.scrollIntoView(l),P.remove(l),a?(c.setStartBefore(u),c.setEndBefore(u)):(c.setStartAfter(u),c.setEndAfter(u)),H.setRng(c),f.undoManager.add(),g}}),x({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=H.isCollapsed()?[P.getParent(H.getNode(),P.isBlock)]:H.getSelectedBlocks(),r=h(n,function(e){return!!B.matchNode(e,t)});return-1!==p(r,g)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return O(e)},mceBlockQuote:function(){return O("blockquote")},Outdent:function(){var e;if(F.inline_styles){if((e=P.getParent(H.getStart(),P.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return g;if((e=P.getParent(H.getEnd(),P.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return g}return E("InsertUnorderedList")||E("InsertOrderedList")||!F.inline_styles&&!!P.getParent(H.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=P.getParent(H.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),x({"FontSize,FontName":function(e){var t=0,n;return(n=P.getParent(H.getNode(),"span"))&&(t="fontsize"==e?n.style.fontSize:n.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),t}},"value"),x({Undo:function(){f.undoManager.undo()},Redo:function(){f.undoManager.redo()}})}}),r(it,[v],function(e){function t(e,s){var o=this,u,a;if(e=r(e),s=o.settings=s||{},u=s.base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void (o.source=e);var f=0===e.indexOf("//");0!==e.indexOf("/")||f||(e=(u?u.protocol||"http":"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(a=s.base_uri?s.base_uri.path:(new t(location.href)).directory,""===s.base_uri.protocol?e="//mce_host"+o.toAbsPath(a,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(u&&u.protocol||"http")+"://mce_host"+o.toAbsPath(a,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n(i,function(t,n){var r=e[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),o[t]=r}),u&&(o.protocol||(o.protocol=u.protocol),o.userInfo||(o.userInfo=u.userInfo),o.port||"mce_host"!==o.host||(o.port=u.port),o.host&&"mce_host"!==o.host||(o.host=u.host),o.source=""),f&&(o.protocol="")}var n=e.each,r=e.trim,i="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),s={ftp:21,http:80,https:443,mailto:25};return t.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var n=this,r;if("./"===e)return e;if(e=new t(e,{base_uri:n}),"mce_host"!=e.host&&n.host!=e.host&&e.host||n.port!=e.port||n.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var i=n.getURI(),s=e.getURI();return i==s||"/"==i.charAt(i.length-1)&&i.substr(0,i.length-1)==s?i:(r=n.toRelPath(n.path,e.path),e.query&&(r+="?"+e.query),e.anchor&&(r+="#"+e.anchor),r)},toAbsolute:function(e,n){return e=new t(e,{base_uri:this}),e.getURI(n&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=s[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r=0,i="",s,o;if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(s=0,o=e.length;o>s;s++)if(s>=n.length||e[s]!=n[s]){r=s+1;break}if(e.length<n.length)for(s=0,o=n.length;o>s;s++)if(s>=e.length||e[s]!=n[s]){r=s+1;break}if(1===r)return t;for(s=0,o=e.length-(r-1);o>s;s++)i+="../";for(s=r-1,o=n.length;o>s;s++)i+=s!=r-1?"/"+n[s]:n[s];return i},toAbsPath:function(e,t){var r,i=0,s=[],o,u;for(o=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),n(e,function(e){e&&s.push(e)}),e=s,r=t.length-1,s=[];r>=0;r--)0!==t[r].length&&"."!==t[r]&&(".."!==t[r]?i>0?i--:s.push(t[r]):i++);return r=e.length-i,u=0>=r?s.reverse().join("/"):e.slice(0,r).join("/")+"/"+s.reverse().join("/"),0!==u.indexOf("/")&&(u="/"+u),o&&u.lastIndexOf("/")!==u.length-1&&(u+=o),u},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},t.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}},t.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},t}),r(st,[v],function(e){function t(){}var n=e.each,r=e.extend,i,s;return t.extend=i=function(e){function t(){var e,t,n,r=this;if(!s&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)}function o(){return this}function u(e,t){return function(){var n=this,r=n._super,i;return n._super=f[e],i=t.apply(n,arguments),n._super=r,i}}var a=this,f=a.prototype,l,c,h;s=!0,l=new a,s=!1,e.Mixins&&(n(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),f.Mixins&&(e.Mixins=f.Mixins.concat(e.Mixins))),e.Methods&&n(e.Methods.split(","),function(t){e[t]=o}),e.Properties&&n(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this,r;return e!==r?(t[n]=e,t):t[n]}}),e.Statics&&n(e.Statics,function(e,n){t[n]=e}),e.Defaults&&f.Defaults&&(e.Defaults=r({},f.Defaults,e.Defaults));for(c in e)h=e[c],"function"==typeof h&&f[c]?l[c]=u(c,h):l[c]=h;return t.prototype=l,t.constructor=t,t.extend=i,t},t}),r(ot,[v],function(e){function t(t){function n(){return!1}function r(){return!0}function i(e,i){var s,u,a,f;if(e=e.toLowerCase(),i=i||{},i.type=e,i.target||(i.target=l),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=r},i.stopPropagation=function(){i.isPropagationStopped=r},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=r},i.isDefaultPrevented=n,i.isPropagationStopped=n,i.isImmediatePropagationStopped=n),t.beforeFire&&t.beforeFire(i),s=c[e])for(u=0,a=s.length;a>u;u++){if(f=s[u],f.once&&o(e,f.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(f.func.call(l,i)===!1)return i.preventDefault(),i}return i}function s(t,r,i,s){var o,u,a;if(r===!1&&(r=n),r)for(r={func:r},s&&e.extend(r,s),u=t.toLowerCase().split(" "),a=u.length;a--;)t=u[a],o=c[t],o||(o=c[t]=[],h(t,!0)),i?o.unshift(r):o.push(r);return f}function o(e,t){var n,r,i,s,o;if(e)for(s=e.toLowerCase().split(" "),n=s.length;n--;){if(e=s[n],r=c[e],!e){for(i in c)h(i,!1),delete c[i];return f}if(r){if(t)for(o=r.length;o--;)r[o].func===t&&(r=r.slice(0,o).concat(r.slice(o+1)),c[e]=r);else r.length=0;r.length||(h(e,!1),delete c[e])}}else{for(e in c)h(e,!1);c={}}return f}function u(e,t,n){return s(e,t,n,{once:!0})}function a(e){return e=e.toLowerCase(),!!c[e]&&0!==c[e].length}var f=this,l,c={},h;t=t||{},l=t.scope||f,h=t.toggleEvent||n,f.fire=i,f.on=s,f.off=o,f.once=u,f.has=a}var n=e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend"," ");return t.isNative=function(e){return!!n[e.toLowerCase()]},t}),r(ut,[],function(){function e(e){this.create=e.create}return e.create=function(t,n){return new e({create:function(e,r){function i(t){e.set(r,t.value)}function s(e){t.set(n,e.value)}var o;return e.on("change:"+r,s),t.on("change:"+n,i),o=e._bindings,o||(o=e._bindings=[],e.on("destroy",function(){for(var e=o.length;e--;)o[e]()})),o.push(function(){t.off("change:"+n,i)}),t.get(n)}})},e}),r(at,[ot],function(e){function t(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,r){e.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,r)}})),t._eventDispatcher}return{fire:function(e,n,r){var i=this;if(i.removed&&"remove"!==e)return n;if(n=t(i).fire(e,n,r),r!==!1&&i.parent)for(var s=i.parent();s&&!n.isPropagationStopped();)s.fire(e,n,!1),s=s.parent();return n},on:function(e,n,r){return t(this).on(e,n,r)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}}),r(ft,[ut,at,st,v],function(e,t,n,r){function i(e){return e.nodeType>0}function s(e,t){var n,o;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(r.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!s(e[n],t[n]))return!1}if(i(e)||i(t))return e===t;o={};for(n in t){if(!s(e[n],t[n]))return!1;o[n]=!0}for(n in e)if(!o[n]&&!s(e[n],t[n]))return!1;return!0}return n.extend({Mixins:[t],init:function(t){var n,r;t=t||{};for(n in t)r=t[n],r instanceof e&&(t[n]=r.create(this,n));this.data=t},set:function(t,n){var r,i,o=this.data[t];if(n instanceof e&&(n=n.create(this,t)),"object"==typeof t){for(r in t)this.set(r,t[r]);return this}return s(o,n)||(this.data[t]=n,i={target:this,name:t,value:n,oldValue:o},this.fire("change:"+t,i),this.fire("change",i)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(t){return e.create(this,t)},destroy:function(){this.fire("destroy")}})}),r(lt,[st],function(e){function t(e){for(var t=[],n=e.length,r;n--;)r=e[n],r.__checked||(t.push(r),r.__checked=1);for(n=t.length;n--;)delete t[n].__checked;return t}var n=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i=/^\s*|\s*$/g,s,o=e.extend({init:function(e){function t(e){return e?(e=e.toLowerCase(),function(t){return"*"===e||t.type===e}):void 0}function s(e){return e?function(t){return t._name===e}:void 0}function o(e){return e?(e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}):void 0}function u(e,t,n){return e?function(r){var i=r[e]?r[e]():"";return t?"="===t?i===n:"*="===t?i.indexOf(n)>=0:"~="===t?(" "+i+" ").indexOf(" "+n+" ")>=0:"!="===t?i!=n:"^="===t?0===i.indexOf(n):"$="===t?i.substr(i.length-n.length)===n:!1:!!n}:void 0}function a(e){var t;return e?(e=/(?:not\((.+)\))|(.+)/i.exec(e),e[1]?(t=l(e[1],[]),function(e){return!c(e,t)}):(e=e[2],function(t,n,r){return"first"===e?0===n:"last"===e?n===r-1:"even"===e?n%2===0:"odd"===e?n%2===1:t[e]?t[e]():!1})):void 0}function f(e,r,f){function l(e){e&&r.push(e)}var c;return c=n.exec(e.replace(i,"")),l(t(c[1])),l(s(c[2])),l(o(c[3])),l(u(c[4],c[5],c[6])),l(a(c[7])),r.pseudo=!!c[7],r.direct=f,r}function l(e,t){var n=[],i,s,o;do if(r.exec(""),s=r.exec(e),s&&(e=s[3],n.push(s[1]),s[2])){i=s[3];break}while(s);for(i&&l(i,t),e=[],o=0;o<n.length;o++)">"!=n[o]&&e.push(f(n[o],[],">"===n[o-1]));return t.push(e),t}var c=this.match;this._selectors=l(e,[])},match:function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d;for(t=t||this._selectors,n=0,r=t.length;r>n;n++){for(o=t[n],s=o.length,d=e,p=0,i=s-1;i>=0;i--)for(f=o[i];d;){if(f.pseudo)for(h=d.parent().items(),l=c=h.length;l--&&h[l]!==d;);for(u=0,a=f.length;a>u;u++)if(!f[u](d,l,c)){u=a+1;break}if(u===a){p++;break}if(i===s-1)break;d=d.parent()}if(p===s)return!0}return!1},find:function(e){function n(e,t,i){var s,o,u,a,f,l=t[i];for(s=0,o=e.length;o>s;s++){for(f=e[s],u=0,a=l.length;a>u;u++)if(!l[u](f,s,o)){u=a+1;break}if(u===a)i==t.length-1?r.push(f):f.items&&n(f.items(),t,i+1);else if(l.direct)return;f.items&&n(f.items(),t,i)}}var r=[],i,u,a=this._selectors;if(e.items){for(i=0,u=a.length;u>i;i++)n(e.items(),a[i],0);u>1&&(r=t(r))}return s||(s=o.Collection),new s(r)}});return o}),r(ct,[v,lt,st],function(e,t,n){var r,i,s=Array.prototype.push,o=Array.prototype.slice;return i={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?s.apply(n,t):t instanceof r?n.add(t.toArray()):s.call(n,t),n},set:function(e){var t=this,n=t.length,r;for(t.length=0,t.add(e),r=t.length;n>r;r++)delete t[r];return t},filter:function(e){var n=this,i,s,o=[],u,a;for("string"==typeof e?(e=new t(e),a=function(t){return e.match(t)}):a=e,i=0,s=n.length;s>i;i++)u=n[i],a(u)&&o.push(u);return new r(o)},slice:function(){return new r(o.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new r(e.toArray(this).reverse())},hasClass:function(e){return this[0]?this[0].classes.contains(e):!1},prop:function(e,t){var n=this,r,i;return t!==r?(n.each(function(n){n[e]&&n[e](t)}),n):(i=n[0],i&&i[e]?i[e]():void 0)},exec:function(t){var n=this,r=e.toArray(arguments).slice(1);return n.each(function(e){e[t]&&e[t].apply(e,r)}),n},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}},e.each("fire on off show hide append prepend before after reflow".split(" "),function(t){i[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&&e[t].apply(e,n)}),this}}),e.each("text name disabled active selected checked visible parent value data".split(" "),function(e){i[e]=function(t){return this.prop(e,t)}}),r=n.extend(i),t.Collection=r,r}),r(ht,[v,S],function(e,t){var n=0;return{id:function(){return"mceu_"+n++},create:function(n,r,i){var s=document.createElement(n);return t.DOM.setAttribs(s,r),"string"==typeof i?s.innerHTML=i:e.each(i,function(e){e.nodeType&&s.appendChild(e)}),s},createFragment:function(e){return t.DOM.createFragment(e)},getWindowSize:function(){return t.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth),n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,n){return t.DOM.getPos(e,n)},getViewPort:function(e){return t.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,n){return t.DOM.addClass(e,n)},removeClass:function(e,n){return t.DOM.removeClass(e,n)},hasClass:function(e,n){return t.DOM.hasClass(e,n)},toggleClass:function(e,n,r){return t.DOM.toggleClass(e,n,r)},css:function(e,n,r){return t.DOM.setStyle(e,n,r)},getRuntimeStyle:function(e,n){return t.DOM.getStyle(e,n,!0)},on:function(e,n,r,i){return t.DOM.bind(e,n,r,i)},off:function(e,n,r){return t.DOM.unbind(e,n,r)},fire:function(e,n,r){return t.DOM.fire(e,n,r)},innerHtml:function(e,n){t.DOM.setHTML(e,n)}}}),r(pt,[],function(){return{parseBox:function(e){var t,n=10;if(e)return"number"==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(" "),t=e.length,1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0})},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function r(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:r(t+"TopWidth"),right:r(t+"RightWidth"),bottom:r(t+"BottomWidth"),left:r(t+"LeftWidth")}}}}),r(dt,[v],function(e){function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e},n}),r(vt,[l],function(e){var t={},n;return{add:function(r){var i=r.parent();if(i){if(!i._layout||i._layout.isNative())return;t[i._id]||(t[i._id]=i),n||(n=!0,e.requestAnimationFrame(function(){var e,r;n=!1;for(e in t)r=t[e],r.state.get("rendered")&&r.reflow();t={}},document.body))}},remove:function(e){t[e._id]&&delete t[e._id]}}}),r(mt,[st,v,ot,ft,ct,ht,m,pt,dt,vt],function(e,t,n,r,i,s,o,u,a,f){function l(e){return e._eventDispatcher||(e._eventDispatcher=new n({scope:e,toggleEvent:function(t,r){r&&n.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&c(e))}})),e._eventDispatcher}function c(e){function t(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function n(){var e=f._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),f._lastHoverCtrl=null)}function r(t){var n=e.getParentCtrl(t.target),r=f._lastHoverCtrl,i=0,s,o,u;if(n!==r){if(f._lastHoverCtrl=n,o=n.parents().toArray().reverse(),o.push(n),r){for(u=r.parents().toArray().reverse(),u.push(r),i=0;i<u.length&&o[i]===u[i];i++);for(s=u.length-1;s>=i;s--)r=u[s],r.fire("mouseleave",{target:r.getEl()})}for(s=i;s<o.length;s++)n=o[s],n.fire("mouseenter",{target:n.getEl()})}}function i(t){t.preventDefault(),"mousewheel"==t.type?(t.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-1/40*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var s,u,a,f,l,c;if(l=e._nativeEvents){for(a=e.parents().toArray(),a.unshift(e),s=0,u=a.length;!f&&u>s;s++)f=a[s]._eventsRoot;for(f||(f=a[a.length-1]||e),e._eventsRoot=f,u=s,s=0;u>s;s++)a[s]._eventsRoot=f;var d=f._delegates;d||(d=f._delegates={});for(c in l){if(!l)return!1;"wheel"!==c||p?("mouseenter"===c||"mouseleave"===c?f._hasMouseEnter||(o(f.getEl()).on("mouseleave",n).on("mouseover",r),f._hasMouseEnter=1):d[c]||(o(f.getEl()).on(c,t),d[c]=!0),l[c]=!1):h?o(e.getEl()).on("mousewheel",i):o(e.getEl()).on("DOMMouseScroll",i)}}}var h="onmousewheel"in document,p=!1,d="mce-",v,m=0,g={Statics:{classPrefix:d},isRtl:function(){return v.rtl},classPrefix:d,init:function(e){function n(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)i.classes.add(e[t])}var i=this,s,f;i.settings=e=t.extend({},i.Defaults,e),i._id=e.id||"mceu_"+m++,i._aria={role:e.role},i._elmCache={},i.$=o,i.state=new r({visible:!0,active:!1,disabled:!1,value:""}),i.data=new r(e.data),i.classes=new a(function(){i.state.get("rendered")&&(i.getEl().className=this.toString())}),i.classes.prefix=i.classPrefix,s=e.classes,s&&(i.Defaults&&(f=i.Defaults.classes,f&&s!=f&&n(f)),n(s)),t.each("title text name visible disabled active value".split(" "),function(t){t in e&&i[t](e[t])}),i.on("click",function(){return i.disabled()?!1:void 0}),i.settings=e,i.borderBox=u.parseBox(e.border),i.paddingBox=u.parseBox(e.padding),i.marginBox=u.parseBox(e.margin),e.hidden&&i.hide()},Properties:"parent,name",getContainerElm:function(){return document.body},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e=this,t=e.settings,n,r,i=e.getEl(),o,a,f,l,c,h,p,d;n=e.borderBox=e.borderBox||u.measureBox(i,"border"),e.paddingBox=e.paddingBox||u.measureBox(i,"padding"),e.marginBox=e.marginBox||u.measureBox(i,"margin"),d=s.getSize(i),h=t.minWidth,p=t.minHeight,f=h||d.width,l=p||d.height,o=t.width,a=t.height,c=t.autoResize,c="undefined"!=typeof c?c:!o&&!a,o=o||f,a=a||l;var v=n.left+n.right,m=n.top+n.bottom,g=t.maxWidth||65535,y=t.maxHeight||65535;return e._layoutRect=r={x:t.x||0,y:t.y||0,w:o,h:a,deltaW:v,deltaH:m,contentW:o-v,contentH:a-m,innerW:o-v,innerH:a-m,startMinWidth:h||0,startMinHeight:p||0,minW:Math.min(f,g),minH:Math.min(l,y),maxW:g,maxH:y,autoResize:c,scrollW:0},e._lastLayoutRect={},r},layoutRect:function(e){var t=this,n=t._layoutRect,r,i,s,o,u,a;return n||(n=t.initLayoutRect()),e?(s=n.deltaW,o=n.deltaH,e.x!==u&&(n.x=e.x),e.y!==u&&(n.y=e.y),e.minW!==u&&(n.minW=e.minW),e.minH!==u&&(n.minH=e.minH),i=e.w,i!==u&&(i=i<n.minW?n.minW:i,i=i>n.maxW?n.maxW:i,n.w=i,n.innerW=i-s),i=e.h,i!==u&&(i=i<n.minH?n.minH:i,i=i>n.maxH?n.maxH:i,n.h=i,n.innerH=i-o),i=e.innerW,i!==u&&(i=i<n.minW-s?n.minW-s:i,i=i>n.maxW-s?n.maxW-s:i,n.innerW=i,n.w=i+s),i=e.innerH,i!==u&&(i=i<n.minH-o?n.minH-o:i,i=i>n.maxH-o?n.maxH-o:i,n.innerH=i,n.h=i+o),e.contentW!==u&&(n.contentW=e.contentW),e.contentH!==u&&(n.contentH=e.contentH),r=t._lastLayoutRect,r.x===n.x&&r.y===n.y&&r.w===n.w&&r.h===n.h||(a=v.repaintControls,a&&a.map&&!a.map[t._id]&&(a.push(t),a.map[t._id]=!0),r.x=n.x,r.y=n.y,r.w=n.w,r.h=n.h),t):n},repaint:function(){var e=this,t,n,r,i,s,o,u,a,f,l;f=document.createRange?function(e){return e}:Math.round,t=e.getEl().style,i=e._layoutRect,a=e._lastRepaintRect||{},s=e.borderBox,o=s.left+s.right,u=s.top+s.bottom,i.x!==a.x&&(t.left=f(i.x)+"px",a.x=i.x),i.y!==a.y&&(t.top=f(i.y)+"px",a.y=i.y),i.w!==a.w&&(l=f(i.w-o),t.width=(l>=0?l:0)+"px",a.w=i.w),i.h!==a.h&&(l=f(i.h-u),t.height=(l>=0?l:0)+"px",a.h=i.h),e._hasBody&&i.innerW!==a.innerW&&(l=f(i.innerW),r=e.getEl("body"),r&&(n=r.style,n.width=(l>=0?l:0)+"px"),a.innerW=i.innerW),e._hasBody&&i.innerH!==a.innerH&&(l=f(i.innerH),r=r||e.getEl("body"),r&&(n=n||r.style,n.height=(l>=0?l:0)+"px"),a.innerH=i.innerH),e._lastRepaintRect=a,e.fire("repaint",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,s.css(e.getEl(),{width:"",height:""}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){function n(e){var t,n;return"string"!=typeof e?e:function(i){return t||r.parentsAndSelf().each(function(r){var i=r.settings.callbacks;return i&&(t=i[e])?(n=r,!1):void 0}),t?t.call(n,i):(i.action=e,void this.fire("execute",i))}}var r=this;return l(r).on(e,n(t)),r},off:function(e,t){return l(this).off(e,t),this},fire:function(e,t,n){var r=this;if(t=t||{},t.control||(t.control=r),t=l(r).fire(e,t),n!==!1&&r.parent)for(var i=r.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return l(this).has(e)},parents:function(e){var t=this,n,r=new i;for(n=t.parent();n;n=n.parent())r.add(n);return e&&(r=r.filter(e)),r},parentsAndSelf:function(e){return(new i(this)).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=o("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,r=n.getEl(n.ariaTarget);return"undefined"==typeof t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&r.setAttribute("role"==e?e:"aria-"+e,t),n)},encode:function(e,t){return t!==!1&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return v.translate?v.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e=this,t=e.getEl(),n=e.parent(),r,i;if(e.items){var s=e.items().toArray();for(i=s.length;i--;)s[i].remove()}n&&n.items&&(r=[],n.items().each(function(t){t!==e&&r.push(t)}),n.items().set(r),n._lastRect=null),e._eventsRoot&&e._eventsRoot==e&&o(t).off();var u=e.getRoot().controlIdLookup;return u&&delete u[e._id],t&&t.parentNode&&t.parentNode.removeChild(t),e.state.set("rendered",!1),e.state.destroy(),e.fire("remove"),e},renderBefore:function(e){return o(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return o(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e=this,t=e.settings,n,r,i,s,u;e.$el=o(e.getEl()),e.state.set("rendered",!0);for(s in t)0===s.indexOf("on")&&e.on(s.substr(2),t[s]);if(e._eventsRoot){for(i=e.parent();!u&&i;i=i.parent())u=i._eventsRoot;if(u)for(s in u._nativeEvents)e._nativeEvents[s]=!0}c(e),t.style&&(n=e.getEl(),n&&(n.setAttribute("style",t.style),n.style.cssText=t.style)),e.settings.border&&(r=e.borderBox,e.$el.css({"border-top-width":r.top,"border-right-width":r.right,"border-bottom-width":r.bottom,"border-left-width":r.left}));var a=e.getRoot();a.controlIdLookup||(a.controlIdLookup={}),a.controlIdLookup[e._id]=e;for(var l in e._aria)e.aria(l,e._aria[l]);e.state.get("visible")===!1&&(e.getEl().style.display="none"),e.bindStates(),e.state.on("change:visible",function(t){var n=t.value,r;e.state.get("rendered")&&(e.getEl().style.display=n===!1?"none":"",e.getEl().getBoundingClientRect()),r=e.parent(),r&&(r._lastRect=null),e.fire(n?"show":"hide"),f.add(e)}),e.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){function t(e,t){var n,r,i=e;for(n=r=0;i&&i!=t&&i.nodeType;)n+=i.offsetLeft||0,r+=i.offsetTop||0,i=i.offsetParent;return{x:n,y:r}}var n=this.getEl(),r=n.parentNode,i,s,o,u,a,f,l=t(n,r);return i=l.x,s=l.y,o=n.offsetWidth,u=n.offsetHeight,a=r.clientWidth,f=r.clientHeight,"end"==e?(i-=a-o,s-=f-u):"center"==e&&(i-=a/2-o/2,s-=f/2-u/2),r.scrollLeft=i,r.scrollTop=s,this},getRoot:function(){for(var e=this,t,n=[];e;){if(e.rootControl){t=e.rootControl;break}n.push(e),t=e,e=e.parent()}t||(t=this);for(var r=n.length;r--;)n[r].rootControl=t;return t},reflow:function(){f.remove(this);var e=this.parent();return e._layout&&!e._layout.isNative()&&e.reflow(),this}};return t.each("text title visible disabled active value".split(" "),function(e){g[e]=function(t){return 0===arguments.length?this.state.get(e):("undefined"!=typeof t&&this.state.set(e,t),this)}}),v=e.extend(g)}),r(gt,[],function(){var e={},t;return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},create:function(n,r){var i,s,o;if(!t){o=tinymce.ui;for(s in o)e[s.toLowerCase()]=o[s];t=!0}if("string"==typeof n?(r=r||{},r.type=n):(r=n,n=r.type),n=n.toLowerCase(),i=e[n],!i)throw new Error("Could not find control by type: "+n);return i=new i(r),i.type=n,i}}}),r(yt,[],function(){return function(e){function t(e){return e&&1===e.nodeType}function n(e){return e=e||w,t(e)?e.getAttribute("role"):null}function r(e){for(var t,r=e||w;r=r.parentNode;)if(t=n(r))return t}function i(e){var n=w;return t(n)?n.getAttribute("aria-"+e):void 0}function s(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t||"SELECT"==t}function o(e){return s(e)&&!e.hidden?!0:!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(e))}function u(e){function t(e){if(1==e.nodeType&&"none"!=e.style.display){o(e)&&n.push(e);for(var r=0;r<e.childNodes.length;r++)t(e.childNodes[r])}}var n=[];return t(e||b.getEl()),n}function a(e){var t,n;e=e||E,n=e.parents().toArray(),n.unshift(e);for(var r=0;r<n.length&&(t=n[r],!t.settings.ariaRoot);r++);return t}function f(e){var t=a(e),n=u(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?l(t.lastAriaIndex,n):l(0,n)}function l(e,t){return 0>e?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function c(e,t){var n=-1,r=a();t=t||u(r.getEl());for(var i=0;i<t.length;i++)t[i]===w&&(n=i);n+=e,r.lastAriaIndex=l(n,t)}function h(){var e=r();"tablist"==e?c(-1,u(w.parentNode)):E.parent().submenu?g():c(-1)}function p(){var e=n(),t=r();"tablist"==t?c(1,u(w.parentNode)):"menuitem"==e&&"menu"==t&&i("haspopup")?y():c(1)}function d(){c(-1)}function v(){var e=n(),t=r();"menuitem"==e&&"menubar"==t?y():"button"==e&&i("haspopup")?y({key:"down"}):c(1)}function m(e){var t=r();if("tablist"==t){var n=u(E.getEl("body"))[0];n&&n.focus()}else c(e.shiftKey?-1:1)}function g(){E.fire("cancel")}function y(e){e=e||{},E.fire("click",{target:w,aria:e})}var b=e.root,w,E;try{w=document.activeElement}catch(S){w=document.body}return E=b.getParentCtrl(w),b.on("keydown",function(e){function t(e,t){s(w)||"slider"!==n(w)&&t(e)!==!1&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,h);break;case 39:t(e,p);break;case 38:t(e,d);break;case 40:t(e,v);break;case 27:g();break;case 14:case 13:case 32:t(e,y);break;case 9:m(e)!==!1&&e.preventDefault()}}),b.on("focusin",function(e){w=e.target,E=e.control}),{focusFirst:f}}}),r(bt,[mt,ct,lt,gt,yt,v,m,dt,vt],function(e,t,n,r,i,s,o,u,a){var f={};return e.extend({init:function(e){var n=this;n._super(e),e=n.settings,e.fixed&&n.state.set("fixed",!0),n._items=new t,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new u(function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())}),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),e.containerCls&&n.classes.add(e.containerCls),n._layout=r.create((e.layout||"")+"layout"),n.settings.items?n.add(n.settings.items):n.add(n.render()),n._hasBody=!0},items:function(){return this._items},find:function(e){return e=f[e]=f[e]||new n(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t=this,n,r,i;return e&&(r=t.keyboardNav||t.parents().eq(-1)[0].keyboardNav)?void r.focusFirst(t):(i=t.find("*"),t.statusbar&&i.add(t.statusbar.items()),i.each(function(e){return e.settings.autofocus?(n=null,!1):void (e.canFocus&&(n=n||e))}),n&&n.focus(),t)},replace:function(e,t){for(var n,r=this.items(),i=r.length;i--;)if(r[i]===e){r[i]=t;break}i>=0&&(n=t.getEl(),n&&n.parentNode.removeChild(n),n=e.getEl(),n&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n=this,i,o=[];return s.isArray(t)||(t=[t]),s.each(t,function(t){t&&(t instanceof e||("string"==typeof t&&(t={type:t}),i=s.extend({},n.settings.defaults,t),t.type=i.type=i.type||t.type||n.settings.defaultType||(i.defaults?i.defaults.type:null),t=r.create(i)),o.push(t))}),o},renderNew:function(){var e=this;return e.items().each(function(t,n){var r;t.parent(e),t.state.get("rendered")||(r=e.getEl("body"),r.hasChildNodes()&&n<=r.childNodes.length-1?o(r.childNodes[n]).before(t.renderHtml()):o(r).append(t.renderHtml()),t.postRender(),a.add(t))}),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var r=this,i,s,o;return e=r.create(e),i=r.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(s=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(s.concat(e,o))),r.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var e=this,t={};return e.find("*").each(function(e){var n=e.name(),r=e.value();n&&"undefined"!=typeof r&&(t[n]=r)}),t},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this,t;return e.items().exec("postRender"),e._super(),e._layout.postRender(e),e.state.set("rendered",!0),e.settings.style&&e.$el.css(e.settings.style),e.settings.border&&(t=e.borderBox,e.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})),e.parent()||(e.keyboardNav=new i({root:e})),e},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;return n&&n.w==t.w&&n.h==t.h?void 0:(e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0)},reflow:function(){var t;if(a.remove(this),this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})}),r(wt,[m],function(e){function t(e){var t,n,r,i,s,o,u,a,f=Math.max;return t=e.documentElement,n=e.body,r=f(t.scrollWidth,n.scrollWidth),i=f(t.clientWidth,n.clientWidth),s=f(t.offsetWidth,n.offsetWidth),o=f(t.scrollHeight,n.scrollHeight),u=f(t.clientHeight,n.clientHeight),a=f(t.offsetHeight,n.offsetHeight),{width:s>r?i:r,height:a>o?u:o}}function n(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(r,i){function s(){return u.getElementById(i.handle||r)}var o,u=i.document||document,a,f,l,c,h,p;i=i||{},f=function(r){var f=t(u),d,v;n(r),r.preventDefault(),a=r.button,d=s(),h=r.screenX,p=r.screenY,v=window.getComputedStyle?window.getComputedStyle(d,null).getPropertyValue("cursor"):d.runtimeStyle.cursor,o=e("<div>").css({position:"absolute",top:0,left:0,width:f.width,height:f.height,zIndex:2147483647,opacity:1e-4,cursor:v}).appendTo(u.body),e(u).on("mousemove touchmove",c).on("mouseup touchend",l),i.start(r)},c=function(e){return n(e),e.button!==a?l(e):(e.deltaX=e.screenX-h,e.deltaY=e.screenY-p,e.preventDefault(),void i.drag(e))},l=function(t){n(t),e(u).off("mousemove touchmove",c).off("mouseup touchend",l),o.remove(),i.stop&&i.stop(t)},this.destroy=function(){e(s()).off()},e(s()).on("mousedown touchstart",f)}}),r(Et,[m,wt],function(e,t){return{init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function n(){function t(t,o,u,a,f,l){var c,h,p,d,v,m,g,y,b;if(h=i.getEl("scroll"+t)){if(y=o.toLowerCase(),b=u.toLowerCase(),e(i.getEl("absend")).css(y,i.layoutRect()[a]-1),!f)return void e(h).css("display","none");e(h).css("display","block"),c=i.getEl("body"),p=i.getEl("scroll"+t+"t"),d=c["client"+u]-2*s,d-=n&&r?h["client"+l]:0,v=c["scroll"+u],m=d/v,g={},g[y]=c["offset"+o]+s,g[b]=d,e(h).css(g),g={},g[y]=c["scroll"+o]*m,g[b]=d*m,e(p).css(g)}}var n,r,o;o=i.getEl("body"),n=o.scrollWidth>o.clientWidth,r=o.scrollHeight>o.clientHeight,t("h","Left","Width","contentW",n,"Height"),t("v","Top","Height","contentH",r,"Width")}function r(){function n(n,r,o,u,a){var f,l=i._id+"-scroll"+n,c=i.classPrefix;e(i.getEl()).append('<div id="'+l+'" class="'+c+"scrollbar "+c+"scrollbar-"+n+'"><div id="'+l+'t" class="'+c+'scrollbar-thumb"></div></div>'),i.draghelper=new t(l+"t",{start:function(){f=i.getEl("body")["scroll"+r],e("#"+l).addClass(c+"active")},drag:function(e){var t,l,c,h,p=i.layoutRect();l=p.contentW>p.innerW,c=p.contentH>p.innerH,h=i.getEl("body")["client"+o]-2*s,h-=l&&c?i.getEl("scroll"+n)["client"+a]:0,t=h/i.getEl("body")["scroll"+o],i.getEl("body")["scroll"+r]=f+e["delta"+u]/t},stop:function(){e("#"+l).removeClass(c+"active")}})}i.classes.add("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}var i=this,s=2;i.settings.autoScroll&&(i._hasScroll||(i._hasScroll=!0,r(),i.on("wheel",function(e){var t=i.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),e(i.getEl("body")).on("scroll",n)),n())}}}),r(St,[bt,Et],function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),"undefined"==typeof n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})}),r(xt,[ht],function(e){function t(t,n,r){var i,s,o,u,a,f,l,c,h,p;return h=e.getViewPort(),s=e.getPos(n),o=s.x,u=s.y,t.state.get("fixed")&&"static"==e.getRuntimeStyle(document.body,"position")&&(o-=h.x,u-=h.y),i=t.getEl(),p=e.getSize(i),a=p.width,f=p.height,p=e.getSize(n),l=p.width,c=p.height,r=(r||"").split(""),"b"===r[0]&&(u+=c),"r"===r[1]&&(o+=l),"c"===r[0]&&(u+=Math.round(c/2)),"c"===r[1]&&(o+=Math.round(l/2)),"b"===r[3]&&(u-=f),"r"===r[4]&&(o-=a),"c"===r[3]&&(u-=Math.round(f/2)),"c"===r[4]&&(o-=Math.round(a/2)),{x:o,y:u,w:a,h:f}}return{testMoveRel:function(n,r){for(var i=e.getViewPort(),s=0;s<r.length;s++){var o=t(this,n,r[s]);if(this.state.get("fixed")){if(o.x>0&&o.x+o.w<i.w&&o.y>0&&o.y+o.h<i.h)return r[s]}else if(o.x>i.x&&o.x+o.w<i.w+i.x&&o.y>i.y&&o.y+o.h<i.h+i.y)return r[s]}return r[0]},moveRel:function(e,n){"string"!=typeof n&&(n=this.testMoveRel(e,n));var r=t(this,e,n);return this.moveTo(r.x,r.y)},moveBy:function(e,t){var n=this,r=n.layoutRect();return n.moveTo(r.x+e,r.y+t),n},moveTo:function(t,n){function r(e,t,n){return 0>e?0:e+n>t?(e=t-n,0>e?0:e):e}var i=this;if(i.settings.constrainToViewport){var s=e.getViewPort(window),o=i.layoutRect();t=r(t,s.w+s.x,o.w),n=r(n,s.h+s.y,o.h)}return i.state.get("rendered")?i.layoutRect({x:t,y:n}).repaint():(i.settings.x=t,i.settings.y=n),i.fire("move",{x:t,y:n}),i}}}),r(Tt,[ht],function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(1>=t||1>=n){var r=e.getWindowSize();t=1>=t?t*r.w:t,n=1>=n?n*r.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this,r=n.layoutRect();return n.resizeTo(r.w+e,r.h+t)}}}),r(Nt,[St,xt,Tt,ht,m,l],function(e,t,n,r,i,s){function o(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function u(e){for(var t=g.length;t--;){var n=g[t],r=n.getParentCtrl(e.target);if(n.settings.autohide){if(r&&(o(r,n)||n.parent()===r))continue;e=n.fire("autohide",{target:e.target}),e.isDefaultPrevented()||n.hide()}}}function a(){d||(d=function(e){2!=e.button&&u(e)},i(document).on("click touchstart",d))}function f(){v||(v=function(){var e;for(e=g.length;e--;)c(g[e])},i(window).on("scroll",v))}function l(){if(!m){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;m=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,w.hideAll())},i(window).on("resize",m)}}function c(e){function t(t,n){for(var r,i=0;i<g.length;i++)if(g[i]!=e)for(r=g[i].parent();r&&(r=r.parent());)r==e&&g[i].fixed(t).moveBy(0,n).repaint()}var n=r.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function h(e,t){var n,r=w.zIndex||65535,s;if(e)y.push(t);else for(n=y.length;n--;)y[n]===t&&y.splice(n,1);if(y.length)for(n=0;n<y.length;n++)y[n].modal&&(r++,s=y[n]),y[n].getEl().style.zIndex=r,y[n].zIndex=r,r++;var o=i("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];s?i(o).css("z-index",s.zIndex-1):o&&(o.parentNode.removeChild(o),b=!1),w.currentZIndex=r}function p(e){var t;for(t=g.length;t--;)g[t]===e&&g.splice(t,1);for(t=y.length;t--;)y[t]===e&&y.splice(t,1)}var d,v,m,g=[],y=[],b,w=e.extend({Mixins:[t,n],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add("floatpanel"),e.autohide&&(a(),l(),g.push(t)),e.autofix&&(f(),t.on("move",function(){c(this)})),t.on("postrender show",function(e){if(e.control==t){var n,r=t.classPrefix;t.modal&&!b&&(n=i("#"+r+"modal-block",t.getContainerElm()),n[0]||(n=i('<div id="'+r+'modal-block" class="'+r+"reset "+r+'fade"></div>').appendTo(t.getContainerElm())),s.setTimeout(function(){n.addClass(r+"in"),i(t.getEl()).addClass(r+"in")}),b=!0),h(!0,t)}}),t.on("show",function(){t.parents().each(function(e){return e.state.get("fixed")?(t.fixed(!0),!1):void 0})}),e.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.classes.add("popover").add("bottom").add(t.isRtl()?"end":"start")),t.aria("label",e.ariaLabel),t.aria("labelledby",t._id),t.aria("describedby",t.describedBy||t._id+"-none")},fixed:function(e){var t=this;if(t.state.get("fixed")!=e){if(t.state.get("rendered")){var n=r.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e=this,t,n=e._super();for(t=g.length;t--&&g[t]!==e;);return-1===t&&g.push(e),n},hide:function(){return p(this),h(!1,this),this._super()},hideAll:function(){w.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),h(!1,e)),e},remove:function(){p(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});return w.hideAll=function(){for(var e=g.length;e--;){var t=g[e];t&&t.settings.autohide&&(t.hide(),g.splice(e,1))}},w}),r(Ct,[Nt,St,ht,m,wt,pt,c,l],function(e,t,n,r,i,s,o,u){function a(e){var t="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",n=r("meta[name=viewport]")[0],i;o.overrideViewPort!==!1&&(n||(n=document.createElement("meta"),n.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),i=n.getAttribute("content"),i&&"undefined"!=typeof h&&(h=i),n.setAttribute("content",e?t:h))}function f(e){for(var t=0;t<c.length;t++)if(c[t]._fullscreen)return;r([document.documentElement,document.body]).removeClass(e+"fullscreen")}function l(){function e(){var e,t=n.getWindowSize(),r;for(e=0;e<c.length;e++)r=c[e].layoutRect(),c[e].moveTo(c[e].settings.x||Math.max(0,t.w/2-r.w/2),c[e].settings.y||Math.max(0,t.h/2-r.h/2))}if(!o.desktop){var t={w:window.innerWidth,h:window.innerHeight};u.setInterval(function(){var e=window.innerWidth,n=window.innerHeight;t.w==e&&t.h==n||(t={w:e,h:n},r(window).trigger("resize"))},100)}r(window).on("resize",e)}var c=[],h="",p=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var r=this;r._super(e),r.isRtl()&&r.classes.add("rtl"),r.classes.add("window"),r.bodyClasses.add("window-body"),r.state.set("fixed",!0),e.buttons&&(r.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:r.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),r.statusbar.classes.add("foot"),r.statusbar.parent(r)),r.on("click",function(e){var t=r.classPrefix+"close";(n.hasClass(e.target,t)||n.hasClass(e.target.parentNode,t))&&r.close()}),r.on("cancel",function(){r.close()}),r.aria("describedby",r.describedBy||r._id+"-none"),r.aria("label",e.title),r._fullscreen=!1},recalc:function(){var e=this,t=e.statusbar,r,i,s,o;e._fullscreen&&(e.layoutRect(n.getWindowSize()),e.layoutRect().contentH=e.layoutRect().innerH),e._super(),r=e.layoutRect(),e.settings.title&&!e._fullscreen&&(i=r.headerW,i>r.w&&(s=r.x-Math.max(0,i/2),e.layoutRect({w:i,x:s}),o=!0)),t&&(t.layoutRect({w:e.layoutRect().innerW}).recalc(),i=t.layoutRect().minW+r.deltaW,i>r.w&&(s=r.x-Math.max(0,i-r.w),e.layoutRect({w:i,x:s}),o=!0)),o&&e.recalc()},initLayoutRect:function(){var e=this,t=e._super(),r=0,i;if(e.settings.title&&!e._fullscreen){i=e.getEl("head");var s=n.getSize(i);t.headerW=s.width,t.headerH=s.height,r+=t.headerH}e.statusbar&&(r+=e.statusbar.layoutRect().h),t.deltaH+=r,t.minH+=r,t.h+=r;var o=n.getWindowSize();return t.x=e.settings.x||Math.max(0,o.w/2-t.w/2),t.y=e.settings.y||Math.max(0,o.h/2-t.h/2),t},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix,i=e.settings,s="",o="",u=i.html;return e.preRender(),t.preRender(e),i.title&&(s='<div id="'+n+'-head" class="'+r+'window-head"><div id="'+n+'-title" class="'+r+'title">'+e.encode(i.title)+'</div><div id="'+n+'-dragh" class="'+r+'dragh"></div><button type="button" class="'+r+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),i.url&&(u='<iframe src="'+i.url+'" tabindex="-1"></iframe>'),"undefined"==typeof u&&(u=t.renderHtml(e)),e.statusbar&&(o=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+s+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+u+"</div>"+o+"</div></div>"},fullscreen:function(e){var t=this,i=document.documentElement,o,a=t.classPrefix,f;if(e!=t._fullscreen)if(r(window).on("resize",function(){var e;if(t._fullscreen)if(o)t._timer||(t._timer=u.setTimeout(function(){var e=n.getWindowSize();t.moveTo(0,0).resizeTo(e.w,e.h),t._timer=0},50));else{e=(new Date).getTime();var r=n.getWindowSize();t.moveTo(0,0).resizeTo(r.w,r.h),(new Date).getTime()-e>50&&(o=!0)}}),f=t.layoutRect(),t._fullscreen=e,e){t._initial={x:f.x,y:f.y,w:f.w,h:f.h},t.borderBox=s.parseBox("0"),t.getEl("head").style.display="none",f.deltaH-=f.headerH+2,r([i,document.body]).addClass(a+"fullscreen"),t.classes.add("fullscreen");var l=n.getWindowSize();t.moveTo(0,0).resizeTo(l.w,l.h)}else t.borderBox=s.parseBox(t.settings.border),t.getEl("head").style.display="",f.deltaH+=f.headerH,r([i,document.body]).removeClass(a+"fullscreen"),t.classes.remove("fullscreen"),t.moveTo(t._initial.x,t._initial.y).resizeTo(t._initial.w,t._initial.h);return t.reflow()},postRender:function(){var e=this,t;setTimeout(function(){e.classes.add("in"),e.fire("open")},0),e._super(),e.statusbar&&e.statusbar.postRender(),e.focus(),this.dragHelper=new i(e._id+"-dragh",{start:function(){t={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(n){e.moveTo(t.x+n.deltaX,t.y+n.deltaY)}}),e.on("submit",function(t){t.isDefaultPrevented()||e.close()}),c.push(e),a(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e=this,t;for(e.dragHelper.destroy(),e._super(),e.statusbar&&this.statusbar.remove(),t=c.length;t--;)c[t]===e&&c.splice(t,1);a(c.length>0),f(e.classPrefix)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return l(),p}),r(kt,[Ct],function(e){var t=e.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function r(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),s(t)}}}var i,s=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:i=[r("Ok",!0,!0),r("Cancel",!1)];break;case t.YES_NO:case t.YES_NO_CANCEL:i=[r("Yes",1,!0),r("No",0)],n.buttons==t.YES_NO_CANCEL&&i.push(r("Cancel",-1));break;default:i=[r("Ok",!0,!0)]}return(new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:n.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){s(!1)}})).renderTo(document.body).reflow()},alert:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t}),r(Lt,[Ct,kt],function(e,t){return function(n){function r(){return u.length?u[u.length-1]:void 0}function i(e){n.fire("OpenWindow",{win:e})}function s(e){n.fire("CloseWindow",{win:e})}var o=this,u=[];o.windows=u,n.on("remove",function(){for(var e=u.length;e--;)u[e].close()}),o.open=function(t,r){var o;return n.editorManager.setActive(n),t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body,data:t.data,callbacks:t.commands}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){o.find("form")[0].submit()}},{text:"Cancel",onclick:function(){o.close()}}]),o=new e(t),u.push(o),o.on("close",function(){for(var e=u.length;e--;)u[e]===o&&u.splice(e,1);u.length||n.focus(),s(o)}),t.data&&o.on("postRender",function(){this.find("*").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),o.features=t||{},o.params=r||{},1===u.length&&n.nodeChanged(),o=o.renderTo().reflow(),i(o),o},o.alert=function(e,r,o){var u;u=t.alert(e,function(){r?r.call(o||this):n.focus()}),u.on("close",function(){s(u)}),i(u)},o.confirm=function(e,n,r){var o;o=t.confirm(e,function(e){n.call(r||this,e)}),o.on("close",function(){s(o)}),i(o)},o.close=function(){r()&&r().close()},o.getParams=function(){return r()?r().params:null},o.setParams=function(e){r()&&(r().params=e)},o.getWindows=function(){return u}}}),r(At,[mt,xt],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)}),e._super()},repaint:function(){var e=this,t,n;t=e.getEl().style,n=e._layoutRect,t.left=n.x+"px",t.top=n.y+"px",t.zIndex=131070}})}),r(Ot,[mt,At],function(e,t){var n,r=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&r.tooltips!==!1&&(t.on("mouseenter",function(n){var r=t.tooltip().moveTo(-65535);if(n.control==t){var i=r.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);r.classes.toggle("tooltip-n","bc-tc"==i),r.classes.toggle("tooltip-nw","bc-tl"==i),r.classes.toggle("tooltip-ne","bc-tr"==i),r.moveRel(t.getEl(),i)}else r.hide()}),t.on("mouseleave mousedown click",function(){t.tooltip().hide()})),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"}),n.renderTo()),n},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function e(e){n.aria("disabled",e),n.classes.toggle("disabled",e)}function t(e){n.aria("pressed",e),n.classes.toggle("active",e)}var n=this;return n.state.on("change:disabled",function(t){e(t.value)}),n.state.on("change:active",function(e){t(e.value)}),n.state.get("disabled")&&e(!0),n.state.get("active")&&t(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return r}),r(Mt,[Ot],function(e){return e.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add("progress"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this,t=e._id,n=this.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}var t=this;return t.state.on("change:value",function(t){e(t.value)}),e(t.state.get("value")),t._super()}})}),r(_t,[mt,xt,Mt,l],function(e,t,n,r){return e.extend({Mixins:[t],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on("click",function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n="",r="",i="",s="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),e.color&&(s=' style="background-color: '+e.color+'"'),e.closeButton&&(r='<button type="button" class="'+t+'close" aria-hidden="true"></button>'),e.progressBar&&(i=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+s+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+i+r+"</div>"},postRender:function(){var e=this;return r.setTimeout(function(){e.$el.addClass(e.classPrefix+"in")}),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().childNodes[1].innerHTML=t.value}),e.progressBar&&e.progressBar.bindStates(),e._super()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||e.remove(),e},repaint:function(){var e=this,t,n;t=e.getEl().style,n=e._layoutRect,t.left=n.x+"px",t.top=n.y+"px",t.zIndex=131070}})}),r(Dt,[_t,l],function(e,t){return function(n){function r(){return a.length?a[a.length-1]:void 0}function i(){t.requestAnimationFrame(function(){s(),o()})}function s(){for(var e=0;e<a.length;e++)a[e].moveTo(0,0)}function o(){if(a.length>0){var e=a.slice(0,1)[0],t=n.inline?n.getElement():n.getContentAreaContainer();if(e.moveRel(t,"tc-tc"),a.length>1)for(var r=1;r<a.length;r++)a[r].moveRel(a[r-1].getEl(),"bc-tc")}}var u=this,a=[];u.notifications=a,n.on("remove",function(){for(var e=a.length;e--;)a[e].close()}),n.on("ResizeEditor",o),n.on("ResizeWindow",i),u.open=function(t){var r;return n.editorManager.setActive(n),r=new e(t),a.push(r),t.timeout>0&&(r.timer=setTimeout(function(){r.close()},t.timeout)),r.on("close",function(){var e=a.length;for(r.timer&&n.getWin().clearTimeout(r.timer);e--;)a[e]===r&&a.splice(e,1);o()}),r.renderTo(),o(),r},u.close=function(){r()&&r().close()},u.getNotifications=function(){return a},n.on("SkinLoaded",function(){var e=n.settings.service_message;e&&n.notificationManager.open({text:e,type:"warning",timeout:0,icon:""})})}}),r(Pt,[S],function(e){function t(t,n,r){for(var i=[];n&&n!=t;n=n.parentNode)i.push(e.nodeIndex(n,r));return i}function n(e,t){var n,r,i;for(r=e,n=t.length-1;n>=0;n--){if(i=r.childNodes,t[n]>i.length-1)return null;r=i[t[n]]}return r}return{create:t,resolve:n}}),r(Ht,[F,L,y,Pt,O,w,c,v,l,k],function(e,t,n,r,i,s,o,u,a,f){return function(l){function c(e,t){try{l.getDoc().execCommand(e,!1,t)}catch(n){}}function h(){var e=l.getDoc().documentMode;return e?e:6}function p(e){return e.isDefaultPrevented()}function d(e){var t,n;e.dataTransfer&&(l.selection.isCollapsed()&&"IMG"==e.target.tagName&&et.select(e.target),t=l.selection.getContent(),t.length>0&&(n=ut+escape(l.id)+","+escape(t),e.dataTransfer.setData(at,n)))}function v(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(at),t&&t.indexOf(ut)>=0)?(t=t.substr(ut.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}function m(e){l.queryCommandSupported("mceInsertClipboardContent")?l.execCommand("mceInsertClipboardContent",!1,{content:e}):l.execCommand("mceInsertContent",!1,e)}function g(){function i(e){var t=w.schema.getBlockElements(),n=l.getBody();if("BR"!=e.nodeName)return!1;for(;e!=n&&!t[e.nodeName];e=e.parentNode)if(e.nextSibling)return!1;return!0}function s(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling)if((3!=n.nodeType||0!==Q.trim(n.data).length)&&n!==t)return!1;return n===t}function o(e,t,r){var s,o,u;for(u=w.schema.getNonEmptyElements(),s=new n(r||e,e);o=s[t?"next":"prev"]();){if(u[o.nodeName]&&!i(o))return o;if(3==o.nodeType&&o.data.length>0)return o}}function f(e){var n,r,i,s,u;if(!e.collapsed&&(n=w.getParent(t.getNode(e.startContainer,e.startOffset),w.isBlock),r=w.getParent(t.getNode(e.endContainer,e.endOffset),w.isBlock),u=l.schema.getTextBlockElements(),n!=r&&u[n.nodeName]&&u[r.nodeName]&&"false"!==w.getContentEditable(n)&&"false"!==w.getContentEditable(r)))return e.deleteContents(),i=o(n,!1),s=o(r,!0),w.isEmpty(r)||Q(n).append(r.childNodes),Q(r).remove(),i?1==i.nodeType?"BR"==i.nodeName?(e.setStartBefore(i),e.setEndBefore(i)):(e.setStartAfter(i),e.setEndAfter(i)):(e.setStart(i,i.data.length),e.setEnd(i,i.data.length)):s&&(1==s.nodeType?(e.setStartBefore(s),e.setEndBefore(s)):(e.setStart(s,0),e.setEnd(s,0))),E.setRng(e),!0}function c(e,n){var r,i,u,a,f,c;if(!e.collapsed)return e;if(f=e.startContainer,c=e.startOffset,3==f.nodeType)if(n){if(c<f.data.length)return e}else if(c>0)return e;if(r=t.getNode(e.startContainer,e.startOffset),u=w.getParent(r,w.isBlock),i=o(l.getBody(),n,r),a=w.getParent(i,w.isBlock),!r||!i)return e;if(a&&u!=a)if(n){if(!s(u,a))return e;1==r.nodeType?"BR"==r.nodeName?e.setStartBefore(r):e.setStartAfter(r):e.setStart(r,r.data.length),1==i.nodeType?e.setEnd(i,0):e.setEndBefore(i)}else{if(!s(a,u))return e;1==i.nodeType?"BR"==i.nodeName?e.setStartBefore(i):e.setStartAfter(i):e.setStart(i,i.data.length),1==r.nodeType?e.setEnd(r,0):e.setEndBefore(r)}return e}function h(e){var t=E.getRng();return t=c(t,e),f(t)?!0:void 0}function g(e,t){function n(e,n){return v=Q(n).parents().filter(function(e,t){return!!l.schema.getTextInlineElements()[t.nodeName]}),a=e.cloneNode(!1),v=u.map(v,function(e){return e=e.cloneNode(!1),a.hasChildNodes()?(e.appendChild(a.firstChild),a.appendChild(e)):a.appendChild(e),a.appendChild(e),e}),v.length?(d=w.create("br"),v[0].appendChild(d),w.replace(a,e),t.setStartBefore(d),t.setEndBefore(d),l.selection.setRng(t),d):null}function i(e){return e&&l.schema.getTextBlockElements()[e.tagName]}var s,o,a,f,c,h,p,d,v;if(t.collapsed&&(h=t.startContainer,p=t.startOffset,o=w.getParent(h,w.isBlock),i(o)))if(1==h.nodeType){if(h=h.childNodes[p],h&&"BR"!=h.tagName)return;if(c=e?o.nextSibling:o.previousSibling,w.isEmpty(o)&&i(c)&&w.isEmpty(c)&&n(o,h))return w.remove(c),!0}else if(3==h.nodeType){if(s=r.create(o,h),f=o.cloneNode(!0),h=r.resolve(f,s),e){if(p>=h.data.length)return;h.deleteData(p,1)}else{if(0>=p)return;h.deleteData(p-1,1)}if(w.isEmpty(f))return n(o,h)}}function y(e){var t,n,r;h(e)||(u.each(l.getBody().getElementsByTagName("*"),function(e){"SPAN"==e.tagName&&e.setAttribute("mce-data-marked",1),!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")&&l.dom.setAttrib(e,"style",l.dom.getAttrib(e,"style"))}),t=new S(function(){}),t.observe(l.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),l.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null),n=l.selection.getRng(),r=n.startContainer.parentNode,u.each(t.takeRecords(),function(e){if(w.isChildOf(e.target,l.getBody())){if("style"==e.attributeName){var t=e.target.getAttribute("data-mce-style");t?e.target.setAttribute("style",t):e.target.removeAttribute("style")}u.each(e.addedNodes,function(e){if("SPAN"==e.nodeName&&!e.getAttribute("mce-data-marked")){var t,i;e==r&&(t=n.startOffset,i=e.firstChild),w.remove(e,!0),i&&(n.setStart(i,t),n.setEnd(i,t),l.selection.setRng(n))}})}}),t.disconnect(),u.each(l.dom.select("span[mce-data-marked]"),function(e){e.removeAttribute("mce-data-marked")}))}var b=l.getDoc(),w=l.dom,E=l.selection,S=window.MutationObserver,x,T;S||(x=!0,S=function(){function e(e){var t=e.relatedNode||e.target;n.push({target:t,addedNodes:[t]})}function t(e){var t=e.relatedNode||e.target;n.push({target:t,attributeName:e.attrName})}var n=[],r;this.observe=function(n){r=n,r.addEventListener("DOMSubtreeModified",e,!1),r.addEventListener("DOMNodeInsertedIntoDocument",e,!1),r.addEventListener("DOMNodeInserted",e,!1),r.addEventListener("DOMAttrModified",t,!1)},this.disconnect=function(){r.removeEventListener("DOMSubtreeModified",e,!1),r.removeEventListener("DOMNodeInsertedIntoDocument",e,!1),r.removeEventListener("DOMNodeInserted",e,!1),r.removeEventListener("DOMAttrModified",t,!1)},this.takeRecords=function(){return n}}),l.on("keydown",function(e){var t=e.keyCode==Y,n=e.ctrlKey||e.metaKey;if(!p(e)&&(t||e.keyCode==G)){var r=l.selection.getRng(),i=r.startContainer,s=r.startOffset;if(t&&e.shiftKey)return;if(g(t,r))return void e.preventDefault();if(!n&&r.collapsed&&3==i.nodeType&&(t?s<i.data.length:s>0))return;e.preventDefault(),n&&l.selection.getSel().modify("extend",t?"forward":"backward",e.metaKey?"lineboundary":"word"),y(t)}}),l.on("keypress",function(t){if(!p(t)&&!E.isCollapsed()&&t.charCode>31&&!e.metaKeyPressed(t)){var n,r,i,s,o,u;n=l.selection.getRng(),u=String.fromCharCode(t.charCode),t.preventDefault(),r=Q(n.startContainer).parents().filter(function(e,t){return!!l.schema.getTextInlineElements()[t.nodeName]}),y(!0),r=r.filter(function(e,t){return!Q.contains(l.getBody(),t)}),r.length?(i=w.createFragment(),r.each(function(e,t){t=t.cloneNode(!1),i.hasChildNodes()?(t.appendChild(i.firstChild),i.appendChild(t)):(o=t,i.appendChild(t)),i.appendChild(t)}),o.appendChild(l.getDoc().createTextNode(u)),s=w.getParent(n.startContainer,w.isBlock),w.isEmpty(s)?Q(s).empty().append(i):n.insertNode(i),n.setStart(o.firstChild,1),n.setEnd(o.firstChild,1),l.selection.setRng(n)):l.selection.setContent(u)}}),l.addCommand("Delete",function(){y()}),l.addCommand("ForwardDelete",function(){y(!0)}),x||(l.on("dragstart",function(e){T=E.getRng(),d(e)}),l.on("drop",function(e){if(!p(e)){var n=v(e);n&&(e.preventDefault(),a.setEditorTimeout(l,function(){var r=t.getCaretRangeFromPoint(e.x,e.y,b);T&&(E.setRng(T),T=null),y(),E.setRng(r),m(n.html)}))}}),l.on("cut",function(e){p(e)||!e.clipboardData||l.selection.isCollapsed()||(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/html",l.selection.getContent()),e.clipboardData.setData("text/plain",l.selection.getContent({format:"text"})),a.setEditorTimeout(l,function(){y(!0)}))}))}function y(){function e(e){var t=Z.create("body"),n=e.cloneContents();return t.appendChild(n),et.serializer.serialize(t,{format:"html"})}function n(n){if(!n.setStart){if(n.item)return!1;var r=n.duplicate();return r.moveToElementText(l.getBody()),t.compareRanges(n,r)}var i=e(n),s=Z.createRng();s.selectNode(l.getBody());var o=e(s);return i===o}l.on("keydown",function(e){var t=e.keyCode,r,i;if(!p(e)&&(t==Y||t==G)){if(r=l.selection.isCollapsed(),i=l.getBody(),r&&!Z.isEmpty(i))return;if(!r&&!n(l.selection.getRng()))return;e.preventDefault(),l.setContent(""),i.firstChild&&Z.isBlock(i.firstChild)?l.selection.setCursorLocation(i.firstChild,0):l.selection.setCursorLocation(i,0),l.nodeChanged()}})}function b(){l.shortcuts.add("meta+a",null,"SelectAll")}function w(){l.settings.content_editable||Z.bind(l.getDoc(),"mousedown mouseup",function(e){var t;if(e.target==l.getDoc().documentElement)if(t=et.getRng(),l.getBody().focus(),"mousedown"==e.type){if(f.isCaretContainer(t.startContainer))return;et.placeCaretAt(e.clientX,e.clientY)}else et.setRng(t)})}function E(){l.on("keydown",function(e){if(!p(e)&&e.keyCode===G){if(!l.getBody().getElementsByTagName("hr").length)return;if(et.isCollapsed()&&0===et.getRng(!0).startOffset){var t=et.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return Z.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(Z.remove(n),e.preventDefault())}}})}function S(){window.Range.prototype.getClientRects||l.on("mousedown",function(e){if(!p(e)&&"HTML"===e.target.nodeName){var t=l.getBody();t.blur(),a.setEditorTimeout(l,function(){t.focus()})}})}function x(){l.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==Z.getContentEditableParent(t)&&(e.preventDefault(),et.getSel().setBaseAndExtent(t,0,t,1),l.nodeChanged()),"A"==t.nodeName&&Z.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),et.select(t))})}function T(){function e(){var e=Z.getAttribs(et.getStart().cloneNode(!1));return function(){var t=et.getStart();t!==l.getBody()&&(Z.setAttrib(t,"style",null),K(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function t(){return!et.isCollapsed()&&Z.getParent(et.getStart(),Z.isBlock)!=Z.getParent(et.getEnd(),Z.isBlock)}l.on("keypress",function(n){var r;return p(n)||8!=n.keyCode&&46!=n.keyCode||!t()?void 0:(r=e(),l.getDoc().execCommand("delete",!1,null),r(),n.preventDefault(),!1)}),Z.bind(l.getDoc(),"cut",function(n){var r;!p(n)&&t()&&(r=e(),a.setEditorTimeout(l,function(){r()}))})}function N(){document.body.setAttribute("role","application")}function C(){l.on("keydown",function(e){if(!p(e)&&e.keyCode===G&&et.isCollapsed()&&0===et.getRng(!0).startOffset){var t=et.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function k(){h()>7||(c("RespectVisibilityInDesign",!0),l.contentStyles.push(".mceHideBrInPre pre br {display: none}"),Z.addClass(l.getBody(),"mceHideBrInPre"),nt.addNodeFilter("pre",function(e){for(var t=e.length,n,r,s,o;t--;)for(n=e[t].getAll("br"),r=n.length;r--;)s=n[r],o=s.prev,o&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":s.parent.insert(new i("#text",3),s,!0).value="\n"}),rt.addNodeFilter("pre",function(e){for(var t=e.length,n,r,i,s;t--;)for(n=e[t].getAll("br"),r=n.length;r--;)i=n[r],s=i.prev,s&&3==s.type&&(s.value=s.value.replace(/\r?\n$/,""))}))}function L(){Z.bind(l.getBody(),"mouseup",function(){var e,t=et.getNode();"IMG"==t.nodeName&&((e=Z.getStyle(t,"width"))&&(Z.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),Z.setStyle(t,"width","")),(e=Z.getStyle(t,"height"))&&(Z.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),Z.setStyle(t,"height","")))})}function A(){l.on("keydown",function(t){var n,r,i,s,o;if(!p(t)&&t.keyCode==e.BACKSPACE&&(n=et.getRng(),r=n.startContainer,i=n.startOffset,s=Z.getRoot(),o=r,n.collapsed&&0===i)){for(;o&&o.parentNode&&o.parentNode.firstChild==o&&o.parentNode!=s;)o=o.parentNode;"BLOCKQUOTE"===o.tagName&&(l.formatter.toggle("blockquote",null,o),n=Z.createRng(),n.setStart(r,0),n.setEnd(r,0),et.setRng(n))}})}function O(){function e(){$(),c("StyleWithCSS",!1),c("enableInlineTableEditing",!1),tt.object_resizing||c("enableObjectResizing",!1)}tt.readonly||l.on("BeforeExecCommand MouseDown",e)}function M(){function e(){K(Z.select("a"),function(e){var t=e.parentNode,n=Z.getRoot();if(t.lastChild===e){for(;t&&!Z.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}Z.add(t,"br",{"data-mce-bogus":1})}})}l.on("SetContent ExecCommand",function(t){"setcontent"!=t.type&&"mceInsertLink"!==t.command||e()})}function _(){tt.forced_root_block&&l.on("init",function(){c("DefaultParagraphSeparator",tt.forced_root_block)})}function D(){l.on("keydown",function(e){var t;p(e)||e.keyCode!=G||(t=l.getDoc().selection.createRange(),t&&t.item&&(e.preventDefault(),l.undoManager.beforeChange(),Z.remove(t.item(0)),l.undoManager.add()))})}function P(){var e;h()>=10&&(e="",K("p div h1 h2 h3 h4 h5 h6".split(" "),function(t,n){e+=(n>0?",":"")+t+":empty"}),l.contentStyles.push(e+"{padding-right: 1px !important}"))}function H(){h()<9&&(nt.addNodeFilter("noscript",function(e){for(var t=e.length,n,r;t--;)n=e[t],r=n.firstChild,r&&n.attr("data-mce-innertext",r.value)}),rt.addNodeFilter("noscript",function(e){for(var t=e.length,n,r,o;t--;)n=e[t],r=e[t].firstChild,r?r.value=s.decode(r.value):(o=n.attributes.map["data-mce-innertext"],o&&(n.attr("data-mce-innertext",null),r=new i("#text",3),r.value=o,r.raw=!0,n.append(r)))}))}function B(){function e(e,t){var n=i.createTextRange();try{n.moveToPoint(e,t)}catch(r){n=null}return n}function t(t){var r;t.button?(r=e(t.x,t.y),r&&(r.compareEndPoints("StartToStart",o)>0?r.setEndPoint("StartToStart",o):r.setEndPoint("EndToEnd",o),r.select())):n()}function n(){var e=r.selection.createRange();o&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&o.select(),Z.unbind(r,"mouseup",n),Z.unbind(r,"mousemove",t),o=s=0}var r=Z.doc,i=r.body,s,o,u;r.documentElement.unselectable=!0,Z.bind(r,"mousedown contextmenu",function(i){if("HTML"===i.target.nodeName){if(s&&n(),u=r.documentElement,u.scrollHeight>u.clientHeight)return;s=1,o=e(i.x,i.y),o&&(Z.bind(r,"mouseup",n),Z.bind(r,"mousemove",t),Z.getRoot().focus(),o.select())}})}function j(){l.on("keyup focusin mouseup",function(t){65==t.keyCode&&e.metaKeyPressed(t)||et.normalize()},!0)}function F(){l.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function I(){l.inline||l.on("keydown",function(){document.activeElement==document.body&&l.getWin().focus()})}function q(){l.inline||(l.contentStyles.push("body {min-height: 150px}"),l.on("click",function(e){var t;if("HTML"==e.target.nodeName){if(o.ie>11)return void l.getBody().focus();t=l.selection.getRng(),l.getBody().focus(),l.selection.setRng(t),l.selection.normalize(),l.nodeChanged()}}))}function R(){o.mac&&l.on("keydown",function(t){!e.metaKeyPressed(t)||t.shiftKey||37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),l.selection.getSel().modify("move",37==t.keyCode?"backward":"forward","lineboundary"))})}function U(){c("AutoUrlDetect",!1)}function z(){l.on("click",function(e){var t=e.target;do if("A"===t.tagName)return void e.preventDefault();while(t=t.parentNode)}),l.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function W(){l.on("init",function(){l.dom.bind(l.getBody(),"submit",function(e){e.preventDefault()})})}function X(){nt.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()})}function V(){l.on("dragstart",function(e){d(e)}),l.on("drop",function(e){if(!p(e)){var n=v(e);if(n&&n.id!=l.id){e.preventDefault();var r=t.getCaretRangeFromPoint(e.x,e.y,l.getDoc());et.setRng(r),m(n.html)}}})}function $(){var e,t;J()&&(e=l.getBody(),t=e.parentNode,t.removeChild(e),t.appendChild(e),e.focus())}function J(){var e;return it?(e=l.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount):0}var K=u.each,Q=l.$,G=e.BACKSPACE,Y=e.DELETE,Z=l.dom,et=l.selection,tt=l.settings,nt=l.parser,rt=l.serializer,it=o.gecko,st=o.ie,ot=o.webkit,ut="data:text/mce-internal,",at=st?"Text":"URL";return A(),y(),o.windowsPhone||j(),ot&&(g(),w(),x(),_(),W(),C(),X(),o.iOS?(I(),q(),z()):b()),st&&o.ie<11&&(E(),N(),k(),L(),D(),P(),H(),B()),o.ie>=11&&(q(),C()),o.ie&&(b(),U(),V()),it&&(E(),S(),T(),O(),M(),F(),R(),C()),{refreshContentEditable:$,isHidden:J}}}),r(Bt,[at,S,v],function(e,t,n){function r(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=s.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function i(e,t){function n(e){return!e.hidden&&!e.readonly}var i=r(e,t),u;if(e.delegates||(e.delegates={}),!e.delegates[t])if(e.settings.event_root){if(o||(o={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&o){for(t in o)e.dom.unbind(r(e,t));o=null}})),o[t])return;u=function(r){for(var i=r.target,o=e.editorManager.editors,u=o.length;u--;){var a=o[u].getBody();(a===i||s.isChildOf(i,a))&&n(o[u])&&o[u].fire(t,r)}},o[t]=u,s.bind(i,t,u)}else u=function(r){n(e)&&e.fire(t,r)},s.bind(i,t,u),e.delegates[t]=u}var s=t.DOM,o,u={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,function(t){i(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!=e&&"blur"!=e&&(t?n.initialized?i(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(r(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t;if(e.delegates){for(t in e.delegates)e.dom.unbind(r(e,t),t,e.delegates[t]);delete e.delegates}e.inline||(e.getBody().onload=null,e.dom.unbind(e.getWin()),e.dom.unbind(e.getDoc())),e.dom.unbind(e.getBody()),e.dom.unbind(e.getContainer())}};return u=n.extend({},e,u)}),r(jt,[],function(){function e(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}}function t(e){var t,n;return t=e.getBody(),n=function(t){e.dom.getParents(t.target,"a").length>0&&t.preventDefault()},e.dom.bind(t,"click",n),{unbind:function(){e.dom.unbind(t,"click",n)}}}function n(n,r){n._clickBlocker&&(n._clickBlocker.unbind(),n._clickBlocker=null),r?(n._clickBlocker=t(n),n.selection.controlSelection.hideResizeRect(),n.readonly=!0,n.getBody().contentEditable=!1):(n.readonly=!1,n.getBody().contentEditable=!0,e(n,"StyleWithCSS",!1),e(n,"enableInlineTableEditing",!1),e(n,"enableObjectResizing",!1),n.focus(),n.nodeChanged())}function r(e,t){var r=e.readonly?"readonly":"design";t!=r&&(e.initialized?n(e,"readonly"==t):e.on("init",function(){n(e,"readonly"==t)}),e.fire("SwitchMode",{mode:t}))}return{setMode:r}}),r(Ft,[v,c],function(e,t){var n=e.each,r=e.explode,i={f9:120,f10:121,f11:122},s=e.makeMap("alt,ctrl,shift,meta,access");return function(o){function u(e){var o,u,a={};n(r(e,"+"),function(e){e in s?a[e]=!0:/^[0-9]{2,}$/.test(e)?a.keyCode=parseInt(e,10):(a.charCode=e.charCodeAt(0),a.keyCode=i[e]||e.toUpperCase().charCodeAt(0))}),o=[a.keyCode];for(u in s)a[u]?o.push(u):a[u]=!1;return a.id=o.join(","),a.access&&(a.alt=!0,t.mac?a.ctrl=!0:a.shift=!0),a.meta&&(t.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a}function a(t,n,i,s){var a;return a=e.map(r(t,">"),u),a[a.length-1]=e.extend(a[a.length-1],{func:i,scope:s||o}),e.extend(a[0],{desc:o.translate(n),subpatterns:a.slice(1)})}function f(e){return e.altKey||e.ctrlKey||e.metaKey}function l(e){return e.keyCode>=112&&e.keyCode<=123}function c(e,t){return t?t.ctrl!=e.ctrlKey||t.meta!=e.metaKey?!1:t.alt!=e.altKey||t.shift!=e.shiftKey?!1:e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode?(e.preventDefault(),!0):!1:!1}function h(e){return e.func?e.func.call(e.scope):null}var p=this,d={},v=[];o.on("keyup keypress keydown",function(e){!f(e)&&!l(e)||e.isDefaultPrevented()||(n(d,function(t){return c(e,t)?(v=t.subpatterns.slice(0),"keydown"==e.type&&h(t),!0):void 0}),c(e,v[0])&&(1===v.length&&"keydown"==e.type&&h(v[0]),v.shift()))}),p.add=function(t,i,s,u){var f;return f=s,"string"==typeof s?s=function(){o.execCommand(f,!1,null)}:e.isArray(f)&&(s=function(){o.execCommand(f[0],f[1],f[2])}),n(r(e.trim(t.toLowerCase())),function(e){var t=a(e,i,s,u);d[t.id]=t}),!0},p.remove=function(e){var t=a(e);return d[t.id]?(delete d[t.id],!0):!1}}}),r(It,[f,v,q],function(e,t,n){return function(r){function i(e){var t,n;return n={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"},t=n[e.blob().type.toLowerCase()]||"dat",e.id()+"."+t}function s(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t}function o(e){return{id:e.id,blob:e.blob,base64:e.base64,filename:n.constant(i(e))}}function u(e,t,n,o){var u,a,f;u=new XMLHttpRequest,u.open("POST",r.url),u.withCredentials=r.credentials,f=o(),u.upload.onprogress=function(e){var t=Math.round(e.loaded/e.total*100);f.progressBar.value(t)},u.onerror=function(){f.close(),n("Image upload failed due to a XHR Transport error. Code: "+u.status)},u.onload=function(){var e;return f.close(),200!=u.status?void n("HTTP Error: "+u.status):(e=JSON.parse(u.responseText),e&&"string"==typeof e.location?void t(s(r.basePath,e.location)):void n("Invalid JSON: "+u.responseText))},a=new FormData,a.append("file",e.blob(),i(e)),u.send(a)}function a(){return new e(function(e){e([])})}function f(e){return e.then(function(e){return e})["catch"](function(e){return e})}function l(e,t,n){var r=e(n),i=f(r);return delete d[t],d[t]=i,i}function c(e,n){return t.map(e,function(e){var t=e.id();return d[t]?d[t]:l(n,t,e)})}function h(t,n){function i(t){return new e(function(e){var i=r.handler;try{i(o(t),function(n){e({url:n,blobInfo:t,status:!0})},function(n){e({url:"",blobInfo:t,status:!1,error:n})},n)}catch(s){e({url:"",blobInfo:t,status:!1,error:s.message})}})}var s=c(t,i);return e.all(s)}function p(e,t){return r.url||r.handler!==u?h(e,t):a()}var d={};return r=t.extend({credentials:!1,handler:u},r),{upload:p}}}),r(qt,[f],function(e){function t(t){return new e(function(e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){200==this.status&&e(this.response)},n.send()})}function n(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}}function r(t){return new e(function(e){var r,i,s;t=n(t);try{r=atob(t.data)}catch(o){return void e(new Blob([]))}for(i=new Uint8Array(r.length),s=0;s<i.length;s++)i[s]=r.charCodeAt(s);e(new Blob([i],{type:t.type}))})}function i(e){return 0===e.indexOf("blob:")?t(e):0===e.indexOf("data:")?r(e):null}function s(t){return new e(function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})}return{uriToBlob:i,blobToDataUri:s,parseDataUri:n}}),r(Rt,[f,d,q,qt,c],function(e,t,n,r,i){var s=0;return function(o){function u(u,f){function l(e,t){var n,i;return 0===e.src.indexOf("blob:")?(i=o.getByUri(e.src),void (i&&t({image:e,blobInfo:i}))):(n=r.parseDataUri(e.src).data,i=o.findFirst(function(e){return e.base64()===n}),void (i?t({image:e,blobInfo:i}):r.uriToBlob(e.src).then(function(r){var i="blobid"+s++,u=o.create(i,r,n);o.add(u),t({image:e,blobInfo:u})})))}var c,h;return f||(f=n.constant(!0)),c=t.filter(u.getElementsByTagName("img"),function(e){var t=e.src;return i.fileApi?e.hasAttribute("data-mce-bogus")?!1:e.hasAttribute("data-mce-placeholder")?!1:t&&t!=i.transparentSrc?0===t.indexOf("blob:")?!0:0===t.indexOf("data:")?f(e):!1:!1:!1}),h=t.map(c,function(t){var n;return a[t.src]?new e(function(e){a[t.src].then(function(n){e({image:t,blobInfo:n.blobInfo})})}):(n=(new e(function(e){l(t,e)})).then(function(e){return delete a[e.image.src],e})["catch"](function(e){return delete a[t.src],e}),a[t.src]=n,n)}),e.all(h)}var a={};return{findAll:u}}}),r(Ut,[d,q],function(e,t){return function(){function n(e,t,n){return{id:f(e),blob:f(t),base64:f(n),blobUri:f(URL.createObjectURL(t))}}function r(e){i(e.id())||a.push(e)}function i(e){return s(function(t){return t.id()===e})}function s(t){return e.filter(a,t)[0]}function o(e){return s(function(t){return t.blobUri()==e})}function u(){e.each(a,function(e){URL.revokeObjectURL(e.blobUri())}),a=[]}var a=[],f=t.constant;return{create:n,add:r,get:i,getByUri:o,findFirst:s,destroy:u}}}),r(zt,[d,It,Rt,Ut],function(e,t,n,r){return function(i){function s(e){return function(t){return i.selection?e(t):[]}}function o(e,t,n){var r=0;do r=e.indexOf(t,r),-1!==r&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1);while(-1!==r);return e}function u(e,t,n){return e=o(e,'src="'+t+'"','src="'+n+'"'),e=o(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function a(t,n){e.each(i.undoManager.data,function(e){e.content=u(e.content,t,n)})}function f(){return i.notificationManager.open({text:i.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function l(n){return m||(m=new t({url:y.images_upload_url,basePath:y.images_upload_base_path,credentials:y.images_upload_credentials,handler:y.images_upload_handler})),h().then(s(function(t){var r;return r=e.map(t,function(e){return e.blobInfo}),m.upload(r,f).then(s(function(r){return r=e.map(r,function(e,n){var r=t[n].image;return e.status&&(a(r.src,e.url),i.$(r).attr({src:e.url,"data-mce-src":i.convertURL(e.url,"src")})),{element:r,status:e.status}}),n&&n(r),r}))}))}function c(e){return y.automatic_uploads!==!1?l(e):void 0}function h(){return g||(g=new n(v)),g.findAll(i.getBody(),y.images_dataimg_filter).then(s(function(t){return e.each(t,function(e){a(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri()}),t}))}function p(){v.destroy(),g=m=null}function d(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var r=v.getByUri(n);return r||(r=e.reduce(i.editorManager.editors,function(e,t){return e||t.editorUpload.blobCache.getByUri(n)},null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':t})}var v=new r,m,g,y=i.settings;return i.on("setContent",function(){i.settings.automatic_uploads!==!1?c():h()}),i.on("RawSaveContent",function(e){e.content=d(e.content)}),i.on("getContent",function(e){e.source_view||"raw"==e.format||(e.content=d(e.content))}),{blobCache:v,uploadImages:l,uploadImagesAuto:c,scanForImages:h,destroy:p}}}),r(Wt,[k,W,N,L,m,U,l],function(e,t,n,r,i,s,o){var u=n.isContentEditableFalse;return function(t,n){function r(e,n){var r=s.collapse(e.getBoundingClientRect(),n),i,o,u,a,f;return"BODY"==t.tagName?(i=t.ownerDocument.documentElement,o=t.scrollLeft||i.scrollLeft,u=t.scrollTop||i.scrollTop):(f=t.getBoundingClientRect(),o=t.scrollLeft-f.left,u=t.scrollTop-f.top),r.left+=o,r.right+=o,r.top+=u,r.bottom+=u,r.width=1,a=e.offsetWidth-e.clientWidth,a>0&&(n&&(a*=-1),r.left+=a,r.right+=a),r}function a(){var n,r,s,o,u;for(n=i("*[contentEditable=false]",t),o=0;o<n.length;o++)r=n[o],s=r.previousSibling,e.endsWithCaretContainer(s)&&(u=s.data,1==u.length?s.parentNode.removeChild(s):s.deleteData(u.length-1,1)),s=r.nextSibling,e.startsWithCaretContainer(s)&&(u=s.data,1==u.length?s.parentNode.removeChild(s):s.deleteData(0,1));return null}function f(s,o){var a,f,h;return l(),n(o)?(m=e.insertBlock("p",o,s),a=r(o,s),i(m).css("top",a.top),v=i('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(a).appendTo(t),s&&v.addClass("mce-visual-caret-before"),c(),f=o.ownerDocument.createRange(),h=m.firstChild,f.setStart(h,0),f.setEnd(h,1),f):(m=e.insertInline(o,s),f=o.ownerDocument.createRange(),u(m.nextSibling)?(f.setStart(m,0),f.setEnd(m,0)):(f.setStart(m,1),f.setEnd(m,1)),f)}function l(){a(),m&&(e.remove(m),m=null),v&&(v.remove(),v=null),clearInterval(d)}function c(){d=o.setInterval(function(){i("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden")},500)}function h(){o.clearInterval(d)}function p(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}var d,v,m;return{show:f,hide:l,getCss:p,destroy:h}}}),r(Xt,[d,N,U],function(e,t,n){function r(i){function s(t){return e.map(t,function(e){return e=n.clone(e),e.node=i,e})}if(e.isArray(i))return e.reduce(i,function(e,t){return e.concat(r(t))},[]);if(t.isElement(i))return s(i.getClientRects());if(t.isText(i)){var o=i.ownerDocument.createRange();return o.setStart(i,0),o.setEnd(i,i.data.length),s(o.getClientRects())}}return{getClientRects:r}}),r(Vt,[q,d,Xt,R,tt,nt,W,U],function(e,t,n,r,i,s,o,u){function a(e,t,n,s){for(;s=i.findNode(s,e,r.isEditableCaretCandidate,t);)if(n(s))return}function f(e,r,i,s,o,u){function f(s){var u,a,f;for(f=n.getClientRects(s),-1==e&&(f=f.reverse()),u=0;u<f.length;u++)if(a=f[u],!i(a,p)){if(h.length>0&&r(a,t.last(h))&&l++,a.line=l,o(a))return!0;h.push(a)}}var l=0,c,h=[],p;return(p=t.last(u.getClientRects()))?(c=u.getNode(),f(c),a(e,s,f,c),h):h}function l(e,t){return t.line>e}function c(e,t){return t.line===e}function h(e,n,r,i){function a(n){return 1==e?t.last(n.getClientRects()):t.last(n.getClientRects())}var f=new s(n),l,c,h,p,d=[],v=0,m,g;1==e?(l=f.next,c=u.isBelow,h=u.isAbove,p=o.after(i)):(l=f.prev,c=u.isAbove,h=u.isBelow,p=o.before(i)),g=a(p);do if(p.isVisible()&&(m=a(p),!h(m,g))){if(d.length>0&&c(m,t.last(d))&&v++,m=u.clone(m),m.position=p,m.line=v,r(m))return d;d.push(m)}while(p=l(p));return d}var p=e.curry,d=p(f,-1,u.isAbove,u.isBelow),v=p(f,1,u.isBelow,u.isAbove);return{upUntil:d,downUntil:v,positionsUntil:h,isAboveLine:p(l),isLine:p(c)}}),r($t,[q,d,N,Xt,U,tt,R],function(e,t,n,r,i,s,o){function u(e,t){return Math.abs(e.left-t)}function a(e,t){return Math.abs(e.right-t)}function f(e,n){function r(e,t){return e>=t.left&&e<=t.right}return t.reduce(e,function(e,t){var i,s;return i=Math.min(u(e,n),a(e,n)),s=Math.min(u(t,n),a(t,n)),r(n,t)?t:r(n,e)?e:s==i&&v(t.node)?t:i>s?t:e})}function l(e,t,n,r){for(;r=m(r,e,o.isEditableCaretCandidate,t);)if(n(r))return}function c(e,n){function s(e,i){var s;return s=t.filter(r.getClientRects(i),function(t){return!e(t,n)}),o=o.concat(s),0===s.length}var o=[];return o.push(n),l(-1,e,g(s,i.isAbove),n.node),l(1,e,g(s,i.isBelow),n.node),o}function h(e){return t.filter(t.toArray(e.getElementsByTagName("*")),v)}function p(e,t){return{node:e.node,before:u(e,t)<a(e,t)}}function d(e,n,i){var s,o;return s=r.getClientRects(h(e)),s=t.filter(s,function(e){return i>=e.top&&i<=e.bottom}),o=f(s,n),o&&(o=f(c(e,o),n),o&&v(o.node))?p(o,n):null}var v=n.isContentEditableFalse,m=s.findNode,g=e.curry;return{findClosestClientRect:f,findLineNodeRects:c,closestCaret:d}}),r(Jt,[N,d,q],function(e,t,n){function r(e){function r(e){return i(e)}function o(t){h(e.getBody()).css("cursor",t)}function u(t){return t==m.element||e.dom.isChildOf(t,m.element)?!1:!i(t)}function a(t){var n,r,i,s,u=0,a=0,f,l,c,p;0===t.button&&(n=t.screenX-m.screenX,r=t.screenY-m.screenY,f=Math.max(Math.abs(n),Math.abs(r)),!m.dragging&&f>10&&(m.dragging=!0,o("default"),m.clone=m.element.cloneNode(!0),i=v.getPos(m.element),m.relX=m.clientX-i.x,m.relY=m.clientY-i.y,m.width=m.element.offsetWidth,m.height=m.element.offsetHeight,h(m.clone).css({width:m.width,height:m.height}).removeAttr("data-mce-selected"),m.ghost=h("<div>").css({position:"absolute",opacity:.5,overflow:"hidden",width:m.width,height:m.height}).attr({"data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}).addClass("mce-drag-container mce-reset").append(m.clone).appendTo(e.getBody())[0],s=e.dom.getViewPort(e.getWin()),m.maxX=s.w,m.maxY=s.h),m.dragging&&(e.selection.placeCaretAt(t.clientX,t.clientY),l=m.clientX+n-m.relX,c=m.clientY+r+5,l+m.width>m.maxX&&(u=l+m.width-m.maxX),c+m.height>m.maxY&&(a=c+m.height-m.maxY),p="BODY"!=e.getBody().nodeName?e.getBody().getBoundingClientRect():{left:0,top:0},h(m.ghost).css({left:l-p.left,top:c-p.top,width:m.width-u,height:m.height-a})))}function f(){var t;if(m.dragging&&(e.selection.setRng(e.selection.getSel().getRangeAt(0)),u(e.selection.getNode()))){var n=m.element;if(t=e.fire("drop",{targetClone:n}),t.isDefaultPrevented())return;n=t.targetClone,e.undoManager.transact(function(){e.insertContent(v.getOuterHTML(n)),h(m.element).remove()})}c()}function l(o){var u,l;if(c(),0===o.button&&(u=t.find(e.dom.getParents(o.target),n.or(i,s)),r(u))){if(l=e.fire("dragstart",{target:u}),l.isDefaultPrevented())return;e.on("mousemove",a),e.on("mouseup",f),p!=d&&(v.bind(p,"mousemove",a),v.bind(p,"mouseup",f)),m={screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY,element:u}}}function c(){h(m.ghost).remove(),o(null),e.off("mousemove",a),e.off("mouseup",c),p!=d&&(v.unbind(p,"mousemove",a),v.unbind(p,"mouseup",c)),m={}}var h=e.$,p=document,d=e.getDoc(),v=e.dom,m={};e.on("mousedown",l),e.on("drop",function(t){var n=e.getDoc().elementFromPoint(t.clientX,t.clientY);(i(n)||i(e.dom.getContentEditableParent(n)))&&t.preventDefault()})}var i=e.isContentEditableFalse,s=e.isContentEditableTrue;return{init:r}}),r(Kt,[c,nt,W,k,tt,Wt,Vt,$t,N,L,U,F,q,d,l,Jt,C],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){function g(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}function y(f){function y(e){return f.dom.isBlock(e)}function C(e){e&&f.selection.setRng(e)}function k(){return f.selection.getRng()}function L(e,t){f.selection.scrollIntoView(e,t)}function A(e,t,n){var r;return r=f.fire("ShowCaret",{target:t,direction:e,before:n}),r.isDefaultPrevented()?null:(L(t,-1===e),rt.show(n,t))}function O(e){var t;return rt.hide(),t=f.fire("BeforeObjectSelected",{target:e}),t.isDefaultPrevented()?null:M(e)}function M(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}function _(e,t){var n=i.isInSameBlock(e,t);return!n&&a.isBr(e.getNode())?!0:n}function D(e,t){return t=i.normalizeRange(e,Z,t),-1==e?n.fromRangeStart(t):n.fromRangeEnd(t)}function P(e){return r.isCaretContainerBlock(e.startContainer)}function H(e,t,n,r){var i,s,o,u;return!r.collapsed&&(i=N(r),E(i))?A(e,i,-1==e):(u=P(r),s=D(e,r),n(s)?O(s.getNode(-1==e)):(s=t(s))?n(s)?A(e,s.getNode(-1==e),1==e):(o=t(s),n(o)&&_(s,o)?A(e,o.getNode(-1==e),1==e):u?z(s.toRange()):null):u?r:null)}function B(e,t,n){var r,i,s,a,f,l,c,h,d;if(d=N(n),r=D(e,n),i=t(Z,o.isAboveLine(1),r),s=p.filter(i,o.isLine(1)),f=p.last(r.getClientRects()),T(r)&&(d=r.getNode()),x(r)&&(d=r.getNode(!0)),!f)return null;if(l=f.left,a=u.findClosestClientRect(s,l),a&&E(a.node))return c=Math.abs(l-a.left),h=Math.abs(l-a.right),A(e,a.node,h>c);if(d){var v=o.positionsUntil(e,Z,o.isAboveLine(1),d);if(a=u.findClosestClientRect(p.filter(v,o.isLine(1)),l))return z(a.position.toRange());if(a=p.last(p.filter(v,o.isLine(0))))return z(a.position.toRange())}}function j(t,r){function i(){var t=f.dom.create(f.settings.forced_root_block);return(!e.ie||e.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t}var s,o,u;if(r.collapsed&&f.settings.forced_root_block){if(s=f.dom.getParent(r.startContainer,"PRE"),!s)return;o=1==t?tt(n.fromRangeStart(r)):nt(n.fromRangeStart(r)),o||(u=i(),1==t?f.$(s).after(u):f.$(s).before(u),f.selection.select(u,!0),f.selection.collapse())}}function F(e,t,n,r){var i;return(i=H(e,t,n,r))?i:(i=j(e,r),i?i:null)}function I(e,t,n){var r;return(r=B(e,t,n))?r:(r=j(e,n),r?r:null)}function q(){return ot("*[data-mce-caret]")[0]}function R(e){e=ot(e),e.attr("data-mce-caret")&&(rt.hide(),e.removeAttr("data-mce-caret"),e.removeAttr("data-mce-bogus"),e.removeAttr("style"),C(k()),L(e[0]))}function U(e){var t,r;return e=i.normalizeRange(1,Z,e),t=n.fromRangeStart(e),E(t.getNode())?A(1,t.getNode(),!t.isAtEnd()):E(t.getNode(!0))?A(1,t.getNode(!0),!1):(r=f.dom.getParent(t.getNode(),h.or(E,w)),E(r)?A(1,r,!1):(rt.hide(),null))}function z(e){var t;return e&&e.collapsed?(t=U(e),t?t:e):e}function W(e){var t,i,s,o;return E(e)?(E(e.previousSibling)&&(s=e.previousSibling),i=nt(n.before(e)),i||(t=tt(n.after(e))),t&&S(t.getNode())&&(o=t.getNode()),r.remove(e.previousSibling),r.remove(e.nextSibling),f.dom.remove(e),G(),f.dom.isEmpty(f.getBody())?(f.setContent(""),void f.focus()):s?n.after(s).toRange():o?n.before(o).toRange():i?i.toRange():t?t.toRange():null):null}function X(e,t,n){var r=f.dom,i,s,o,u;if(-1===e){if(x(n)&&y(n.getNode(!0)))return W(n.getNode(!0))}else if(T(t)&&y(t.getNode()))return W(t.getNode());if(u=f.schema.getTextBlockElements(),i=r.getParent(t.getNode(),r.isBlock),s=r.getParent(n.getNode(),r.isBlock),i===s||!u[i.nodeName]||!u[s.nodeName])return null;for(;o=i.firstChild;)s.appendChild(o);return f.dom.remove(i),n.toRange()}function V(e,t,n){var r,i,s;return!n.collapsed&&(r=N(n),E(r))?z(W(r)):(i=D(e,n),t(i)?z(W(i.getNode(-1==e))):(s=-1==e?et.prev(i):et.next(i),t(s)?-1===e?X(e,i,s):X(e,s,i):void 0))}function $(){function e(e,t){var n=t(k());n&&!e.isDefaultPrevented()&&(e.preventDefault(),C(n))}function t(e){for(var t=f.getBody();e&&e!=t;){if(w(e)||E(e))return e;e=e.parentNode}return null}function r(e,t,n){return n.collapsed?!1:p.reduce(n.getClientRects(),function(n,r){return n||l.containsXY(r,e,t)},!1)}function i(){var e,r=t(f.selection.getNode());w(r)&&y(r)&&f.dom.isEmpty(r)&&(e=f.dom.create("br",{"data-mce-bogus":"1"}),f.$(r).empty().append(e),f.selection.setRng(n.before(e).toRange()))}function s(e){var t=q();if(t)return"compositionstart"==e.type?(e.preventDefault(),e.stopPropagation(),void R(t)):void ("&nbsp;"!=t.innerHTML&&R(t))}function a(e){var t;switch(e.keyCode){case c.DELETE:t=i();break;case c.BACKSPACE:t=i()}t&&e.preventDefault()}var h=b(F,1,tt,T),m=b(F,-1,nt,x),g=b(V,1,T),S=b(V,-1,x),N=b(I,-1,o.upUntil),L=b(I,1,o.downUntil);f.on("mouseup",function(){var e=k();e.collapsed&&C(U(e))}),f.on("click",function(e){var n;n=t(e.target),n&&E(n)&&e.preventDefault()}),f.on("mousedown",function(e){var n;if(n=t(e.target))E(n)?(e.preventDefault(),Q(O(n))):(G(),r(e.clientX,e.clientY,f.selection.getRng())||f.selection.placeCaretAt(e.clientX,e.clientY));else{G(),rt.hide();var i=u.closestCaret(Z,e.clientX,e.clientY);i&&(e.preventDefault(),f.getBody().focus(),C(A(1,i.node,i.before)))}}),f.on("keydown",function(t){if(!c.modifierPressed(t))switch(t.keyCode){case c.RIGHT:e(t,h);break;case c.DOWN:e(t,L);break;case c.LEFT:e(t,m);break;case c.UP:e(t,N);break;case c.DELETE:e(t,g);break;case c.BACKSPACE:e(t,S);break;default:E(f.selection.getNode())&&t.preventDefault()}}),f.on("keyup compositionstart",function(e){s(e),a(e)},!0),f.on("cut",function(){var e=f.selection.getNode();E(e)&&d.setEditorTimeout(f,function(){C(z(W(e)))})}),f.on("getSelectionRange",function(e){var t=e.range;if(st){if(!st.parentNode)return void (st=null);t=t.cloneRange(),t.selectNode(st),e.range=t}}),f.on("setSelectionRange",function(e){var t;t=Q(e.range),t&&(e.range=t)}),f.on("focus",function(){d.setEditorTimeout(f,function(){f.selection.setRng(z(f.selection.getRng()))},0)}),v.init(f)}function J(){var e=f.contentStyles,t=".mce-content-body";e.push(rt.getCss()),e.push(t+" .mce-offscreen-selection {position: absolute;left: -9999999999px;width: 100px;height: 100px;}"+t+" *[contentEditable=false] {cursor: default;}"+t+" *[contentEditable=true] {cursor: text;}")}function K(e){return r.isCaretContainer(e.startContainer)||r.isCaretContainer(e.endContainer)}function Q(t){var n,r=f.$,i=f.dom,s,o,u,a,l,c,h,p,d;if(!t)return G(),null;if(t.collapsed){if(G(),!K(t)){if(h=D(1,t),E(h.getNode()))return A(1,h.getNode(),!h.isAtEnd());if(E(h.getNode(!0)))return A(1,h.getNode(!0),!1)}return null}return u=t.startContainer,a=t.startOffset,l=t.endOffset,3==u.nodeType&&0==a&&E(u.parentNode)&&(u=u.parentNode,a=i.nodeIndex(u),u=u.parentNode),1!=u.nodeType?(G(),null):(l==a+1&&(n=u.childNodes[a]),E(n)?(p=d=n.cloneNode(!0),c=f.fire("ObjectSelected",{target:n,targetClone:p}),c.isDefaultPrevented()?(G(),null):(p=c.targetClone,s=r("#"+it),0===s.length&&(s=r('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",it),s.appendTo(f.getBody())),t=f.dom.createRng(),p===d&&e.ie?(s.empty().append(m.ZWSP).append(p).append(m.ZWSP),t.setStart(s[0].firstChild,0),t.setEnd(s[0].lastChild,1)):(s.empty().append("").append(p).append(""),t.setStart(s[0].firstChild,1),t.setEnd(s[0].lastChild,0)),s.css({top:i.getPos(n,f.getBody()).y}),f.getBody().focus(),s[0].focus(),o=f.selection.getSel(),o.removeAllRanges(),o.addRange(t),f.$("*[data-mce-selected]").removeAttr("data-mce-selected"),n.setAttribute("data-mce-selected",1),st=n,t)):(G(),null))}function G(){st&&(st.removeAttribute("data-mce-selected"),f.$("#"+it).remove(),st=null)}function Y(){rt.destroy(),st=null}var Z=f.getBody(),et=new t(Z),tt=b(g,et.next),nt=b(g,et.prev),rt=new s(f.getBody(),y),it="sel-"+f.dom.uniqueId(),st,ot=f.$;return e.ceFalse&&($(),J()),{showBlockCaretContainer:R,destroy:Y}}var b=h.curry,w=a.isContentEditableTrue,E=a.isContentEditableFalse,S=a.isElement,x=i.isAfterContentEditableFalse,T=i.isBeforeContentEditableFalse,N=f.getSelectedNode;return y}),r(Qt,[S,m,T,A,O,B,H,$,G,Y,Z,et,rt,it,x,h,Lt,Dt,M,D,Ht,c,v,l,Bt,jt,Ft,zt,Kt],function(e,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A){function O(e,t,i){var s=this,o,u,a;o=s.documentBaseUrl=i.documentBaseURL,u=i.baseURI,a=i.defaultSettings,t=P({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:s.convertURL,url_converter_scope:s,ie7_compat:!0},a,t),a&&a.external_plugins&&t.external_plugins&&(t.external_plugins=P({},a.external_plugins,t.external_plugins)),s.settings=t,r.language=t.language||"en",r.languageLoad=t.language_load,r.baseURL=i.baseURL,s.id=t.id=e,s.setDirty(!1),s.plugins={},s.documentBaseURI=new d(t.document_base_url||o,{base_uri:u}),s.baseURI=u,s.contentCSS=[],s.contentStyles=[],s.shortcuts=new k(s),s.loadedCSS={},s.editorCommands=new p(s),t.target&&(s.targetElm=t.target),s.suffix=i.suffix,s.editorManager=i,s.inline=t.inline,t.cache_suffix&&(S.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),t.override_viewport===!1&&(S.overrideViewPort=!1),i.fire("SetupEditor",s),s.execCallback("setup",s),s.$=n.overrideDefaults(function(){return{context:s.inline?s.getBody():s.getDoc(),element:s.getBody()}})}var M=e.DOM,_=r.ThemeManager,D=r.PluginManager,P=x.extend,H=x.each,B=x.explode,j=x.inArray,F=x.trim,I=x.resolve,q=m.Event,R=S.gecko,U=S.ie;return O.prototype={render:function(){function e(){M.unbind(window,"ready",e),n.render()}function t(){var e=v.ScriptLoader;if(r.language&&"en"!=r.language&&!r.language_url&&(r.language_url=n.editorManager.baseURL+"/langs/"+r.language+".js"),r.language_url&&e.add(r.language_url),r.theme&&"function"!=typeof r.theme&&"-"!=r.theme.charAt(0)&&!_.urls[r.theme]){var t=r.theme_url;t=t?n.documentBaseURI.toAbsolute(t):"themes/"+r.theme+"/theme"+s+".js",_.load(r.theme,t)}x.isArray(r.plugins)&&(r.plugins=r.plugins.join(" ")),H(r.external_plugins,function(e,t){D.load(t,e),r.plugins+=" "+t}),H(r.plugins.split(/[ ,]/),function(e){if(e=F(e),e&&!D.urls[e])if("-"==e.charAt(0)){e=e.substr(1,e.length);var t=D.dependencies(e);H(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+s+".js"};e=D.createUrl(t,e),D.load(e.resource,e)})}else D.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+s+".js"})}),e.loadQueue(function(){n.removed||n.init()})}var n=this,r=n.settings,i=n.id,s=n.suffix;if(!q.domLoaded)return void M.bind(window,"ready",e);if(n.getElement()&&S.contentEditable){r.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var o=n.getElement().form||M.getParent(i,"form");o&&(n.formElement=o,r.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(M.insertAfter(M.create("input",{type:"hidden",name:i}),i),n.hasHiddenInput=!0),n.formEventDelegate=function(e){n.fire(e.type,e)},M.bind(o,"submit reset",n.formEventDelegate),n.on("reset",function(){n.setContent(n.startContent,{format:"raw"})}),!r.submit_patch||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return n.editorManager.triggerSave(),n.setDirty(!1),o._mceOldSubmit(o)})),n.windowManager=new g(n),n.notificationManager=new y(n),"xml"==r.encoding&&n.on("GetContent",function(e){e.save&&(e.content=M.encode(e.content))}),r.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),r.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),t()}},init:function(){function e(n){var r=D.get(n),i,s;if(i=D.urls[n]||t.documentBaseUrl.replace(/\/$/,""),n=F(n),r&&-1===j(v,n)){if(H(D.dependencies(n),function(t){e(t)}),t.plugins[n])return;s=new r(t,i,t.$),t.plugins[n]=s,s.init&&(s.init(t,i),v.push(n))}}var t=this,n=t.settings,r=t.getElement(),i,s,o,u,a,f,l,c,h,p,d,v=[];if(this.editorManager.i18n.setCode(n.language),t.rtl=n.rtl_ui||this.editorManager.i18n.rtl,t.editorManager.add(t),n.aria_label=n.aria_label||M.getAttrib(r,"aria-label",t.getLang("aria.rich_text_area")),n.theme&&("function"!=typeof n.theme?(n.theme=n.theme.replace(/-/,""),f=_.get(n.theme),t.theme=new f(t,_.urls[n.theme]),t.theme.init&&t.theme.init(t,_.urls[n.theme]||t.documentBaseUrl.replace(/\/$/,""),t.$)):t.theme=n.theme),H(n.plugins.replace(/\-/g,"").split(/[ ,]/),e),n.render_ui&&t.theme&&(t.orgDisplay=r.style.display,"function"!=typeof n.theme?(i=n.width||r.style.width||r.offsetWidth,s=n.height||r.style.height||r.offsetHeight,o=n.min_height||100,p=/^[0-9\.]+(|px)$/i,p.test(""+i)&&(i=Math.max(parseInt(i,10),100)),p.test(""+s)&&(s=Math.max(parseInt(s,10),o)),a=t.theme.renderUI({targetNode:r,width:i,height:s,deltaWidth:n.delta_width,deltaHeight:n.delta_height}),n.content_editable||(s=(a.iframeHeight||s)+("number"==typeof s?a.deltaHeight||0:""),o>s&&(s=o))):(a=n.theme(t,r),a.editorContainer.nodeType&&(a.editorContainer=a.editorContainer.id=a.editorContainer.id||t.id+"_parent"),a.iframeContainer.nodeType&&(a.iframeContainer=a.iframeContainer.id=a.iframeContainer.id||t.id+"_iframecontainer"),s=a.iframeHeight||r.offsetHeight),t.editorContainer=a.editorContainer),n.content_css&&H(B(n.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),n.content_style&&t.contentStyles.push(n.content_style),n.content_editable)return r=u=a=null,t.initContentBody();if(t.iframeHTML=n.doctype+"<html><head>",n.document_base_url!=t.documentBaseUrl&&(t.iframeHTML+='<base href="'+t.documentBaseURI.getURI()+'" />'),!S.caretAfter&&n.ie7_compat&&(t.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),t.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(d=0;d<t.contentCSS.length;d++){var m=t.contentCSS[d];t.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+x._addCacheSuffix(m)+'" />',t.loadedCSS[m]=!0}c=n.body_id||"tinymce",-1!=c.indexOf("=")&&(c=t.getParam("body_id","","hash"),c=c[t.id]||c),h=n.body_class||"",-1!=h.indexOf("=")&&(h=t.getParam("body_class","","hash"),h=h[t.id]||""),n.content_security_policy&&(t.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+n.content_security_policy+'" />'),t.iframeHTML+='</head><body id="'+c+'" class="mce-content-body '+h+'" data-id="'+t.id+'"><br></body></html>';var g='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&S.ie&&S.ie<12&&(l=g);var y=M.create("iframe",{id:t.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:t.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:s,display:"block"}});if(y.onload=function(){y.onload=null,t.fire("load")},M.setAttrib(y,"src",l||'javascript:""'),t.contentAreaContainer=a.iframeContainer,t.iframeElement=y,u=M.add(a.iframeContainer,y),U)try{t.getDoc()}catch(b){u.src=l=g}a.editorContainer&&(M.get(a.editorContainer).style.display=t.orgDisplay,t.hidden=M.isHidden(a.editorContainer)),t.getElement().style.display="none",M.setAttrib(t.id,"aria-hidden",!0),l||t.initContentBody(),r=u=a=null},initContentBody:function(t){var n=this,r=n.settings,u=n.getElement(),p=n.getDoc(),d,v;r.inline||(n.getElement().style.visibility=n.orgVisibility),t||r.content_editable||(p.open(),p.write(n.iframeHTML),p.close()),r.content_editable&&(n.on("remove",function(){var e=this.getBody();M.removeClass(e,"mce-content-body"),M.removeClass(e,"mce-edit-focus"),M.setAttrib(e,"contentEditable",null)}),M.addClass(u,"mce-content-body"),n.contentDocument=p=r.content_document||document,n.contentWindow=r.content_window||window,n.bodyElement=u,r.content_document=r.content_window=null,r.root_name=u.nodeName.toLowerCase()),d=n.getBody(),d.disabled=!0,n.readonly=r.readonly,n.readonly||(n.inline&&"static"==M.getStyle(d,"position",!0)&&(d.style.position="relative"),d.contentEditable=n.getParam("content_editable_state",!0)),d.disabled=!1,n.editorUpload=new L(n),n.schema=new b(r),n.dom=new e(p,{keep_values:!0,url_converter:n.convertURL,url_converter_scope:n,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:n.inline?n.getBody():null,collect:r.content_editable,schema:n.schema,onSetAttrib:function(e){n.fire("SetAttrib",e)}}),n.parser=new w(r,n.schema),n.parser.addAttributeFilter("src,href,style,tabindex",function(e,t){for(var r=e.length,i,s=n.dom,o,u;r--;)if(i=e[r],o=i.attr(t),u="data-mce-"+t,!i.attributes.map[u]){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===t?(o=s.serializeStyle(s.parseStyle(o),i.name),o.length||(o=null),i.attr(u,o),i.attr(t,o)):"tabindex"===t?(i.attr(u,o),i.attr(t,null)):i.attr(u,n.convertURL(o,t,i.name))}}),n.parser.addNodeFilter("script",function(e){for(var t=e.length,n,r;t--;)n=e[t],r=n.attr("type")||"no/type",0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}),n.parser.addNodeFilter("#cdata",function(e){for(var t=e.length,n;t--;)n=e[t],n.type=8,n.name="#comment",n.value="[CDATA["+n.value+"]]"}),n.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t=e.length,r,i=n.schema.getNonEmptyElements();t--;)r=e[t],r.isEmpty(i)&&(r.append(new s("br",1)).shortEnded=!0)}),n.serializer=new o(r,n),n.selection=new a(n.dom,n.getWin(),n.serializer,n),n.formatter=new f(n),n.undoManager=new l(n),n.forceBlocks=new h(n),n.enterKey=new c(n),n._nodeChangeDispatcher=new i(n),n._selectionOverrides=new A(n),n.fire("PreInit"),r.browser_spellcheck||r.gecko_spellcheck||(p.body.spellcheck=!1,M.setAttrib(d,"spellcheck","false")),n.quirks=new E(n),n.fire("PostRender"),r.directionality&&(d.dir=r.directionality),r.nowrap&&(d.style.whiteSpace="nowrap"),r.protect&&n.on("BeforeSetContent",function(e){H(r.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),n.on("SetContent",function(){n.addVisual(n.getBody())}),r.padd_empty_editor&&n.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),n.load({initial:!0,format:"html"}),n.startContent=n.getContent({format:"raw"}),n.initialized=!0,n.bindPendingEventDelegates(),n.fire("init"),n.focus(!0),n.nodeChanged({initial:!0}),n.execCallback("init_instance_callback",n),n.on("compositionstart compositionend",function(e){n.composing="compositionstart"===e.type}),n.contentStyles.length>0&&(v="",H(n.contentStyles,function(e){v+=e+"\r\n"}),n.dom.addStyle(v)),H(n.contentCSS,function(e){n.loadedCSS[e]||(n.dom.loadCSS(e),n.loadedCSS[e]=!0)}),r.auto_focus&&T.setEditorTimeout(n,function(){var e;e=r.auto_focus===!0?n:n.editorManager.get(r.auto_focus),e.destroyed||e.focus()},100),u=p=d=null},focus:function(e){function t(e){return n.dom.getParent(e,function(e){return"true"===n.dom.getContentEditable(e)})}var n=this,r=n.selection,i=n.settings.content_editable,s,o,u=n.getDoc(),a=n.getBody(),f;if(!e){if(s=r.getRng(),s.item&&(o=s.item(0)),n.quirks.refreshContentEditable(),f=t(r.getNode()),n.$.contains(a,f))return f.focus(),r.normalize(),void n.editorManager.setActive(n);if(i||(S.opera||n.getBody().focus(),n.getWin().focus()),R||i){if(a.setActive)try{a.setActive()}catch(l){a.focus()}else a.focus();i&&r.normalize()}o&&o.ownerDocument==u&&(s=u.body.createControlRange(),s.addElement(o),s.select())}n.editorManager.setActive(n)},execCallback:function(e){var t=this,n=t.settings[e],r;if(n)return t.callbackLookup&&(r=t.callbackLookup[e])&&(n=r.func,r=r.scope),"string"==typeof n&&(r=n.replace(/\.\w+$/,""),r=r?I(r):0,n=I(n),t.callbackLookup=t.callbackLookup||{},t.callbackLookup[e]={func:n,scope:r}),n.apply(r||t,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;return e?(e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,r){return n.data[t+"."+r]||"{#"+r+"}"}),this.editorManager.translate(e)):""},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(n!==t?n:"{#"+e+"}")},getParam:function(e,t,n){var r=e in this.settings?this.settings[e]:t,i;return"hash"===n?(i={},"string"==typeof r?H(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(e){e=e.split("="),e.length>1?i[F(e[0])]=F(e[1]):i[F(e[0])]=F(e)}):i=r,i):r},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n=this,r;n.contextToolbars=n.contextToolbars||[],"string"==typeof e&&(r=e,e=function(e){return n.dom.is(e,r)}),n.contextToolbars.push({predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(M.show(e.getContainer()),M.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(U&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(M.hide(e.getContainer()),M.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var n=this,r=n.getElement(),i;return r?(e=e||{},e.load=!0,i=n.setContent(r.value!==t?r.value:r.innerHTML,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,i):void 0},save:function(e){var t=this,n=t.getElement(),r,i;if(n&&t.initialized)return e=e||{},e.save=!0,e.element=n,r=e.content=t.getContent(e),e.no_events||t.fire("SaveContent",e),"raw"==e.format&&t.fire("RawSaveContent",e),r=e.content,/TEXTAREA|INPUT/i.test(n.nodeName)?n.value=r:(t.inline||(n.innerHTML=r),(i=M.getParent(t.id,"form"))&&H(i.elements,function(e){return e.name==t.id?(e.value=r,!1):void 0})),e.element=n=null,e.set_dirty!==!1&&t.setDirty(!1),r},setContent:function(e,t){var n=this,r=n.getBody(),i,s;return t=t||{},t.format=t.format||"html",t.set=!0,t.content=e,t.no_events||n.fire("BeforeSetContent",t),e=t.content,0===e.length||/^\s+$/.test(e)?(s=U&&11>U?"":'<br data-mce-bogus="1">',"TABLE"==r.nodeName?e="<tr><td>"+s+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(e="<li>"+s+"</li>"),i=n.settings.forced_root_block,i&&n.schema.isValidChild(r.nodeName.toLowerCase(),i.toLowerCase())?(e=s,e=n.dom.createHTML(i,n.settings.forced_root_block_attrs,e)):U||e||(e='<br data-mce-bogus="1">'),n.dom.setHTML(r,e),n.fire("SetContent",t)):("raw"!==t.format&&(e=(new u({validate:n.validate},n.schema)).serialize(n.parser.parse(e,{isRootContent:!0}))),t.content=F(e),n.dom.setHTML(r,t.content),t.no_events||n.fire("SetContent",t)),t.content},getContent:function(e){var t=this,n,r=t.getBody();return e=e||{},e.format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),n="raw"==e.format?t.serializer.getTrimmedContent():"text"==e.format?r.innerText||r.textContent:t.serializer.serialize(r,e),"text"!=e.format?e.content=F(n):e.content=n,e.no_events||t.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=P({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire("dirty")},setMode:function(e){C.setMode(this,e)},getContainer:function(){var e=this;return e.container||(e.container=M.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=M.get(this.id)),this.targetElm},getWin:function(){var e=this,t;return e.contentWindow||(t=e.iframeElement,t&&(e.contentWindow=t.contentWindow)),e.contentWindow},getDoc:function(){var e=this,t;return e.contentDocument||(t=e.getWin(),t&&(e.contentDocument=t.document)),e.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var r=this,i=r.settings;return i.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var n=this,r=n.settings,i=n.dom,s;e=e||n.getBody(),n.hasVisual===t&&(n.hasVisual=r.visual),H(i.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return s=r.visual_table_class||"mce-item-table",t=i.getAttrib(e,"border"),void (t&&"0"!=t||!n.hasVisual?i.removeClass(e,s):i.addClass(e,s));case"A":return void (i.getAttrib(e,"href",!1)||(t=i.getAttrib(e,"name")||e.id,s=r.visual_anchor_class||"mce-item-anchor",t&&n.hasVisual?i.addClass(e,s):i.removeClass(e,s)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&M.remove(e.getElement().nextSibling),e.inline||(U&&10>U&&e.getDoc().execCommand("SelectAll",!1,null),M.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),M.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t=this,n;if(!t.destroyed){if(!e&&!t.removed)return void t.remove();e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),t.selection.destroy(),t.dom.destroy()),n=t.formElement,n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),M.unbind(n,"submit reset",t.formEventDelegate)),t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null),t.destroyed=1}},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},P(O.prototype,N),O}),r(Gt,[],function(){var e={},t="en";return{setCode:function(e){e&&(t=e,this.rtl=this.data[e]?"rtl"===this.data[e]._dir:!1)},getCode:function(){return t},rtl:!1,add:function(t,n){var r=e[t];r||(e[t]=r={});for(var i in n)r[i]=n[i];this.setCode(t)},translate:function(n){var r;if(r=e[t],r||(r={}),"undefined"==typeof n)return n;if("string"!=typeof n&&n.raw)return n.raw;if(n.push){var i=n.slice(1);n=(r[n[0]]||n[0]).replace(/\{([0-9]+)\}/g,function(e,t){return i[t]})}return(r[n]||n).replace(/{context:\w+}$/,"")},data:e}}),r(Yt,[S,l,c],function(e,t,n){function r(e){function a(){try{return document.activeElement}catch(e){return document.body}}function f(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}function l(e,t){var n;return t.startContainer?(n=e.getDoc().createRange(),n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}function c(e){return!!u.getParent(e,r.isEditorUIElement)}function h(r){var h=r.editor;h.on("init",function(){(h.inline||n.ie)&&("onbeforedeactivate"in document&&n.ie<9?h.dom.bind(h.getBody(),"beforedeactivate",function(e){if(e.target==h.getBody())try{h.lastRng=h.selection.getRng()}catch(t){}}):h.on("nodechange mouseup keyup",function(e){var t=a();"nodechange"==e.type&&e.selectionChange||(t&&t.id==h.id+"_ifr"&&(t=h.getBody()),h.dom.isChildOf(t,h.getBody())&&(h.lastRng=h.selection.getRng()))}),n.webkit&&!i&&(i=function(){var t=e.activeEditor;if(t&&t.selection){var n=t.selection.getRng();n&&!n.collapsed&&(h.lastRng=n)}},u.bind(document,"selectionchange",i)))}),h.on("setcontent",function(){h.lastRng=null}),h.on("mousedown",function(){h.selection.lastFocusBookmark=null}),h.on("focusin",function(){var t=e.focusedEditor,n;h.selection.lastFocusBookmark&&(n=l(h,h.selection.lastFocusBookmark),h.selection.lastFocusBookmark=null,h.selection.setRng(n)),t!=h&&(t&&t.fire("blur",{focusedEditor:h}),e.setActive(h),e.focusedEditor=h,h.fire("focus",{blurredEditor:t}),h.focus(!0)),h.lastRng=null}),h.on("focusout",function(){t.setEditorTimeout(h,function(){var t=e.focusedEditor;c(a())||t!=h||(h.fire("blur",{focusedEditor:null}),e.focusedEditor=null,h.selection&&(h.selection.lastFocusBookmark=null))})}),s||(s=function(t){var n=e.activeEditor,r;r=t.target,n&&r.ownerDocument==document&&(n.selection&&r!=n.getBody()&&(n.selection.lastFocusBookmark=f(n.dom,n.lastRng)),r==document.body||c(r)||e.focusedEditor!=n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},u.bind(document,"focusin",s)),h.inline&&!o&&(o=function(t){var n=e.activeEditor;if(n.inline&&!n.dom.isChildOf(t.target,n.getBody())){var r=n.selection.getRng();r.collapsed||(n.lastRng=r)}},u.bind(document,"mouseup",o))}function p(t){e.focusedEditor==t.editor&&(e.focusedEditor=null),e.activeEditor||(u.unbind(document,"selectionchange",i),u.unbind(document,"focusin",s),u.unbind(document,"mouseup",o),i=s=o=null)}e.on("AddEditor",h),e.on("RemoveEditor",p)}var i,s,o,u=e.DOM;return r.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf("mce-")},r}),r(Zt,[Qt,m,S,it,c,v,f,at,Gt,Yt],function(e,t,n,r,i,s,o,u,a,f){function l(e){m(w.editors,function(t){"scroll"===e.type?t.fire("ScrollWindow",e):t.fire("ResizeWindow",e)})}function c(e,n){n!==E&&(n?t(window).on("resize scroll",l):t(window).off("resize scroll",l),E=n)}function h(e){var t=w.editors,n;delete t[e.id];for(var r=0;r<t.length;r++)if(t[r]==e){t.splice(r,1),n=!0;break}return w.activeEditor==e&&(w.activeEditor=t[0]),w.focusedEditor==e&&(w.focusedEditor=null),n}function p(e){return e&&!(e.getContainer()||e.getBody()).parentNode&&(h(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e}var d=n.DOM,v=s.explode,m=s.each,g=s.extend,y=0,b,w,E=!1;return w={$:t,majorVersion:"4",minorVersion:"3.12",releaseDate:"2016-05-10",editors:[],i18n:a,activeEditor:null,setup:function(){var e=this,t,n,i="",s,o;if(n=r.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),s=window.tinymce||window.tinyMCEPreInit)t=s.base||s.baseURL,i=s.suffix;else{for(var u=document.getElementsByTagName("script"),a=0;a<u.length;a++){o=u[a].src;var l=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!=l.indexOf(".min")&&(i=".min"),t=o.substring(0,o.lastIndexOf("/"));break}}!t&&document.currentScript&&(o=document.currentScript.src,-1!=o.indexOf(".min")&&(i=".min"),t=o.substring(0,o.lastIndexOf("/")))}e.baseURL=(new r(n)).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new r(e.baseURL),e.suffix=i,e.focusManager=new f(e)},overrideDefaults:function(e){var t,n;t=e.base_url,t&&(this.baseURL=(new r(this.documentBaseURL)).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new r(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e},init:function(n){function r(e){var t=e.id;return t||(t=e.name,t=t&&!d.get(t)?e.name:d.uniqueId(),e.setAttribute("id",t)),t}function i(e){var t=n[e];if(t)return t.apply(l,Array.prototype.slice.call(arguments,2))}function u(e,t){return t.constructor===RegExp?t.test(e.className):d.hasClass(e,t)}function a(e){var t,n=[];if(e.types)return m(e.types,function(e){n=n.concat(d.select(e.selector))}),n;if(e.selector)return d.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":t=e.elements||"",t.length>0&&m(v(t),function(e){var t;(t=d.get(e))?n.push(t):m(document.forms,function(t){m(t.elements,function(t){t.name===e&&(e="mce_editor_"+y++,d.setAttrib(t,"id",e),n.push(t))})})});break;case"textareas":case"specific_textareas":m(d.select("textarea"),function(t){e.editor_deselector&&u(t,e.editor_deselector)||e.editor_selector&&!u(t,e.editor_selector)||n.push(t)})}return n}function f(){function o(t,n,r){if(!p(l.get(t))){var i=new e(t,n,l);c.push(i),i.on("init",function(){++u===v.length&&h(c)}),i.targetElm=i.targetElm||r,i.render()}}var u=0,c=[],v;return d.unbind(window,"ready",f),i("onpageload"),v=t.unique(a(n)),n.types?void m(n.types,function(e){s.each(v,function(t){return d.is(t,e.selector)?(o(r(t),g({},n,e),t),!1):!0})}):void m(v,function(e){o(r(e),n,e)})}var l=this,c,h=function(e){c=e};return l.settings=n,d.bind(window,"ready",f),new o(function(e){c?e(c):h=function(t){e(t)}})},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),c(n,!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),b||(b=function(){t.fire("BeforeUnload")},d.bind(window,"beforeunload",b)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t=this,n,r=t.editors,i;if(e)return"string"==typeof e?(e=e.selector||e,void m(d.select(e),function(e){i=r[e.id],i&&t.remove(i)})):(i=e,r[i.id]?(h(i)&&t.fire("RemoveEditor",{editor:i}),r.length||d.unbind(window,"beforeunload",b),i.remove(),c(r,r.length>0),i):null);for(n=r.length-1;n>=0;n--)t.remove(r[n])},execCommand:function(t,n,r){var i=this,s=i.get(r);switch(t){case"mceAddEditor":return i.get(r)||(new e(r,i.settings,i)).render(),!0;case"mceRemoveEditor":return s&&s.remove(),!0;case"mceToggleEditor":return s?(s.isHidden()?s.show():s.hide(),!0):(i.execCommand("mceAddEditor",0,r),!0)}return i.activeEditor?i.activeEditor.execCommand(t,n,r):!1},triggerSave:function(){m(this.editors,function(e){e.save()})},addI18n:function(e,t){a.add(e,t)},translate:function(e){return a.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},g(w,u),w.setup(),window.tinymce=window.tinyMCE=w,w}),r(en,[Zt,v],function(e,t){var n=t.each,r=t.explode;e.on("AddEditor",function(e){var t=e.editor;t.on("preInit",function(){function e(e,t){n(t,function(t,n){t&&u.setStyle(e,n,t)}),u.rename(e,"span")}function i(e){u=t.dom,a.convert_fonts_to_spans&&n(u.select("font,u,strike",e.node),function(e){s[e.nodeName.toLowerCase()](u,e)})}var s,o,u,a=t.settings;a.inline_styles&&(o=r(a.font_size_legacy_values),s={font:function(t,n){e(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:o[parseInt(n.size,10)-1]})},u:function(n,r){"html4"===t.settings.schema&&e(r,{textDecoration:"underline"})},strike:function(t,n){e(n,{textDecoration:"line-through"})}},t.on("PreProcess SetContent",i))})})}),r(tn,[at,v],function(e,t){var n={send:function(e){function r(){!e.async||4==i.readyState||s++>1e4?(e.success&&1e4>s&&200==i.status?e.success.call(e.success_scope,""+i.responseText,i,e):e.error&&e.error.call(e.error_scope,s>1e4?"TIMED_OUT":"GENERAL",i,e),i=null):setTimeout(r,10)}var i,s=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",n.fire("beforeInitialize",{settings:e}),i=new XMLHttpRequest){if(i.overrideMimeType&&i.overrideMimeType(e.content_type),i.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(i.withCredentials=!0),e.content_type&&i.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&t.each(e.requestheaders,function(e){i.setRequestHeader(e.key,e.value)}),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i=n.fire("beforeSend",{xhr:i,settings:e}).xhr,i.send(e.data),!e.async)return r();setTimeout(r,10)}}};return t.extend(n,e),n}),r(nn,[],function(){function e(t,n){var r,i,s,o;if(n=n||'"',null===t)return"null";if(s=typeof t,"string"==s)return i="\bb	t\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(r=i.indexOf(t),r+1?"\\"+i.charAt(r+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+n;if("object"==s){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(r=0,i="[";r<t.length;r++)i+=(r>0?",":"")+e(t[r],n);return i+"]"}i="{";for(o in t)t.hasOwnProperty(o)&&(i+="function"!=typeof t[o]?(i.length>1?","+n:n)+o+n+":"+e(t[o],n):"");return i+"}"}return""+t}return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}}),r(rn,[nn,tn,v],function(e,t,n){function r(e){this.settings=i({},e),this.count=0}var i=n.extend;return r.sendRPC=function(e){return(new r).send(e)},r.prototype={send:function(n){var r=n.error,s=n.success;n=i(this.settings,n),n.success=function(t,i){t=e.parse(t),"undefined"==typeof t&&(t={error:"JSON Parse error."}),t.error?r.call(n.error_scope||n.scope,t.error,i):s.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){r&&r.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",t.send(n)}},r}),r(sn,[S],function(e){return{callbacks:{},count:0,send:function(n){var r=this,i=e.DOM,s=n.count!==t?n.count:r.count,o="tinymce_jsonp_"+s;r.callbacks[s]=function(e){i.remove(o),delete r.callbacks[s],n.callback(e)},i.add(i.doc.body,"script",{id:o,src:n.url,type:"text/javascript"}),r.count++}}}),r(on,[],function(){function e(){u=[];for(var e in o)u.push(e);i.length=u.length}function n(){function n(e){var n,r;return r=e!==t?l+e:i.indexOf(",",l),-1===r||r>i.length?null:(n=i.substring(l,r),l=r+1,n)}var r,i,u,l=0;if(o={},f){s.load(a),i=s.getAttribute(a)||"";do{var c=n();if(null===c)break;if(r=n(parseInt(c,32)||0),null!==r){if(c=n(),null===c)break;u=n(parseInt(c,32)||0),r&&(o[r]=u)}}while(null!==r);e()}}function r(){var t,n="";if(f){for(var r in o)t=o[r],n+=(n?",":"")+r.length.toString(32)+","+r+","+t.length.toString(32)+","+t;s.setAttribute(a,n);try{s.save(a)}catch(i){}e()}}var i,s,o,u,a,f;try{if(window.localStorage)return localStorage}catch(l){}return a="tinymce",s=document.documentElement,f=!!s.addBehavior,f&&s.addBehavior("#default#userData"),i={key:function(e){return u[e]},getItem:function(e){return e in o?o[e]:null},setItem:function(e,t){o[e]=""+t,r()},removeItem:function(e){delete o[e],r()},clear:function(){o={},r()}},n(),i}),r(un,[S,h,x,T,v,c],function(e,t,n,r,i,s){var o=window.tinymce;return o.DOM=e.DOM,o.ScriptLoader=n.ScriptLoader,o.PluginManager=r.PluginManager,o.ThemeManager=r.ThemeManager,o.dom=o.dom||{},o.dom.Event=t.Event,i.each(i,function(e,t){o[t]=e}),i.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){o[e]=s[e.substr(2).toLowerCase()]}),{}}),r(an,[st,v],function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t=this,n=t.settings,r,i,s,o;r=n.firstControlClass,i=n.lastControlClass,e.each(function(e){e.classes.remove(r).remove(i).add(n.controlClass),e.visible()&&(s||(s=e),o=e)}),s&&s.classes.add(r),o&&o.classes.add(i)},renderHtml:function(e){var t=this,n="";return t.applyClasses(e.items()),e.items().each(function(e){n+=e.renderHtml()}),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),r(fn,[an],function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),r(ln,[Ot],function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t=this,n;t._super(e),e=t.settings,n=t.settings.size,t.on("click mousedown",function(e){e.preventDefault()}),t.on("touchstart",function(e){t.fire("click",e),e.preventDefault()}),e.subtype&&t.classes.add(e.subtype),n&&t.classes.add("btn-"+n),e.icon&&t.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e=this.getEl().firstChild,t;e&&(t=e.style,t.width=t.height="100%"),this._super()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("icon"),i,s=e.state.get("text"),o="";return i=e.settings.image,i?(r="none","string"!=typeof i&&(i=window.getSelection?i[0]:i[1]),i=" style=\"background-image: url('"+i+"')\""):i="",s&&(e.classes.add("btn-has-text"),o='<span class="'+n+'txt">'+e.encode(s)+"</span>"),r=e.settings.icon?n+"ico "+n+"i-"+r:"",'<div id="'+t+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+t+'"><button role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+i+"></i>":"")+o+"</button></div>"},bindStates:function(){function e(e){var i=n("span."+r,t.getEl());e?(i[0]||(n("button:first",t.getEl()).append('<span class="'+r+'"></span>'),i=n("span."+r,t.getEl())),i.html(t.encode(e))):i.remove(),t.classes.toggle("btn-has-text",!!e)}var t=this,n=t.$,r=t.classPrefix+"txt";return t.state.on("change:text",function(t){e(t.value)}),t.state.on("change:icon",function(n){var r=n.value,i=t.classPrefix;t.settings.icon=r,r=r?i+"ico "+i+"i-"+t.settings.icon:"";var s=t.getEl().firstChild,o=s.getElementsByTagName("i")[0];r?(o&&o==s.firstChild||(o=document.createElement("i"),s.insertBefore(o,s.firstChild)),o.className=r):o&&s.removeChild(o),e(t.state.get("text"))}),t._super()}})}),r(cn,[bt],function(e){return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),r(hn,[Ot],function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){function e(e){t.classes.toggle("checked",e),t.aria("checked",e)}var t=this;return t.state.on("change:text",function(e){t.getEl("al").firstChild.data=t.translate(e.value)}),t.state.on("change:checked change:value",function(n){t.fire("change"),e(n.value)}),t.state.on("change:icon",function(e){var n=e.value,r=t.classPrefix;if("undefined"==typeof n)return t.settings.icon;t.settings.icon=n,n=n?r+"ico "+r+"i-"+t.settings.icon:"";var i=t.getEl().firstChild,s=i.getElementsByTagName("i")[0];n?(s&&s==i.firstChild||(s=document.createElement("i"),i.insertBefore(s,i.firstChild)),s.className=n):s&&i.removeChild(s)}),t.state.get("checked")&&e(!0),t._super()}})}),r(pn,[Ot,gt,ht,m],function(e,t,n,r){return e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add("combobox"),t.subinput=!0,t.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),t.on("click",function(n){var i=n.target,s=t.getEl();if(r.contains(s,i)||i==s)for(;i&&i!=s;)i.id&&-1!=i.id.indexOf("-open")&&(t.fire("action"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),i=i.parentNode}),t.on("keydown",function(e){"INPUT"==e.target.nodeName&&13==e.keyCode&&t.parents().reverse().each(function(n){var r=t.state.get("value"),i=t.getEl("inp").value;return e.preventDefault(),t.state.set("value",i),r!=i&&t.fire("change"),n.hasEventListeners("submit")&&n.toJSON?(n.fire("submit",{data:n.toJSON()}),!1):void 0})}),t.on("keyup",function(e){"INPUT"==e.target.nodeName&&t.state.set("value",e.target.value)})},showMenu:function(){var e=this,n=e.settings,r;e.menu||(r=n.menu||[],r.length?r={type:"menu",items:r}:r.type=r.type||"menu",e.menu=t.create(r).parent(e).renderTo(e.getContainerElm()),e.fire("createmenu"),e.menu.reflow(),e.menu.on("cancel",function(t){t.control===e.menu&&e.focus()}),e.menu.on("show hide",function(t){t.control.items().each(function(t){t.active(t.value()==e.value())})}).fire("show"),e.menu.on("select",function(t){e.value(t.control.value())}),e.on("focusin",function(t){"INPUT"==t.target.tagName.toUpperCase()&&e.menu.hide()}),e.aria("expanded",!0)),e.menu.show(),e.menu.layoutRect({w:e.layoutRect().w}),e.menu.moveRel(e.getEl(),e.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e=this,t=e.getEl(),i=e.getEl("open"),s=e.layoutRect(),o,u;o=i?s.w-n.getSize(i).width-10:s.w-10;var a=document;return a.all&&(!a.documentMode||a.documentMode<=8)&&(u=e.layoutRect().h-2+"px"),r(t.firstChild).css({width:o,lineHeight:u}),e._super(),e},postRender:function(){var e=this;return r(this.getEl("inp")).on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)}),e._super()},renderHtml:function(){var e=this,t=e._id,n=e.settings,r=e.classPrefix,i=e.state.get("value")||"",s,o,u="",a="";return"spellcheck"in n&&(a+=' spellcheck="'+n.spellcheck+'"'),n.maxLength&&(a+=' maxlength="'+n.maxLength+'"'),n.size&&(a+=' size="'+n.size+'"'),n.subtype&&(a+=' type="'+n.subtype+'"'),e.disabled()&&(a+=' disabled="disabled"'),s=n.icon,s&&"caret"!=s&&(s=r+"ico "+r+"i-"+n.icon),o=e.state.get("text"),(s||o)&&(u='<div id="'+t+'-open" class="'+r+"btn "+r+'open" tabIndex="-1" role="button"><button id="'+t+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=s?'<i class="'+s+'"></i>':'<i class="'+r+'caret"></i>')+(o?(s?" ":"")+o:"")+"</button></div>",e.classes.add("has-open")),'<div id="'+t+'" class="'+e.classes+'"><input id="'+t+'-inp" class="'+r+'textbox" value="'+e.encode(i,!1)+'" hidefocus="1"'+a+' placeholder="'+e.encode(n.placeholder)+'" />'+u+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl("inp").value!=t.value&&(e.getEl("inp").value=t.value)}),e.state.on("change:disabled",function(t){e.getEl("inp").disabled=t.value}),e._super()},remove:function(){r(this.getEl("inp")).off(),this._super()}})}),r(dn,[pn],function(e){return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl().getElementsByTagName("i")[0];if(t)try{t.style.background=e}catch(n){}},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.state.get("rendered")&&e.repaintColor(t.value)}),e._super()}})}),r(vn,[ln,Nt],function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var r=n.panel;r.type&&(r={layout:"grid",items:r}),r.role=r.role||"dialog",r.popover=!0,r.autohide=!0,r.ariaRoot=!0,e.panel=(new t(r)).on("hide",function(){e.active(!1)}).on("cancel",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),r(mn,[vn,S],function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("text"),i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",s=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",o="";return r&&(e.classes.add("btn-has-text"),o='<span class="'+n+'txt">'+e.encode(r)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+s+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+o+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(r){r.aria&&"down"==r.aria.key||r.control!=e||n.getParent(r.target,"."+e.classPrefix+"open")||(r.stopImmediatePropagation(),t.call(e,r))}),delete e.settings.onclick,e._super()}})}),r(gn,[],function(){function e(e){function i(e,i,s){var o,u,a,f,l,c;return o=0,u=0,a=0,e/=255,i/=255,s/=255,l=t(e,t(i,s)),c=n(e,n(i,s)),l==c?(a=l,{h:0,s:0,v:100*a}):(f=e==l?i-s:s==l?e-i:s-e,o=e==l?3:s==l?1:5,o=60*(o-f/(c-l)),u=(c-l)/c,a=c,{h:r(o),s:r(100*u),v:r(100*a)})}function s(e,i,s){var o,u,a,f;if(e=(parseInt(e,10)||0)%360,i=parseInt(i,10)/100,s=parseInt(s,10)/100,i=n(0,t(i,1)),s=n(0,t(s,1)),0===i)return void (c=h=p=r(255*s));switch(o=e/60,u=s*i,a=u*(1-Math.abs(o%2-1)),f=s-u,Math.floor(o)){case 0:c=u,h=a,p=0;break;case 1:c=a,h=u,p=0;break;case 2:c=0,h=u,p=a;break;case 3:c=0,h=a,p=u;break;case 4:c=a,h=0,p=u;break;case 5:c=u,h=0,p=a;break;default:c=h=p=0}c=r(255*(c+f)),h=r(255*(h+f)),p=r(255*(p+f))}function o(){function e(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}return"#"+e(c)+e(h)+e(p)}function u(){return{r:c,g:h,b:p}}function a(){return i(c,h,p)}function f(e){var t;return"object"==typeof e?"r"in e?(c=e.r,h=e.g,p=e.b):"v"in e&&s(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(c=parseInt(t[1],10),h=parseInt(t[2],10),p=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(c=parseInt(t[1],16),h=parseInt(t[2],16),p=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(c=parseInt(t[1]+t[1],16),h=parseInt(t[2]+t[2],16),p=parseInt(t[3]+t[3],16)),c=0>c?0:c>255?255:c,h=0>h?0:h>255?255:h,p=0>p?0:p>255?255:p,l}var l=this,c=0,h=0,p=0;e&&f(e),l.toRgb=u,l.toHsv=a,l.toHex=o,l.parse=f}var t=Math.min,n=Math.max,r=Math.round;return e}),r(yn,[Ot,wt,ht,gn],function(e,t,n,r){return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var r=n.getPos(e),i,s;return i=t.pageX-r.x,s=t.pageY-r.y,i=Math.max(0,Math.min(i/e.clientWidth,1)),s=Math.max(0,Math.min(s/e.clientHeight,1)),{x:i,y:s}}function i(e,t){var i=(360-e.h)/360;n.css(c,{top:100*i+"%"}),t||n.css(p,{left:e.s+"%",top:100-e.v+"%"}),h.style.background=(new r({s:100,v:100,h:e.h})).toHex(),u.color().parse({s:e.s,v:e.v,h:e.h})}function s(t){var n;n=e(h,t),f.s=100*n.x,f.v=100*(1-n.y),i(f),u.fire("change")}function o(t){var n;n=e(l,t),f=a.toHsv(),f.h=360*(1-n.y),i(f,!0),u.fire("change")}var u=this,a=u.color(),f,l,c,h,p;l=u.getEl("h"),c=u.getEl("hp"),h=u.getEl("sv"),p=u.getEl("svp"),u._repaint=function(){f=a.toHsv(),i(f)},u._super(),u._svdraghelper=new t(u._id+"-sv",{start:s,drag:s}),u._hdraghelper=new t(u._id+"-h",{start:o,drag:o}),u._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;return arguments.length?(t.color().parse(e),void (t._rendered&&t._repaint())):t.color().toHex()},color:function(){return this._color||(this._color=new r),this._color},renderHtml:function(){function e(){var e,t,n="",i,o;for(i="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",o=s.split(","),e=0,t=o.length-1;t>e;e++)n+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/t+"%;"+i+o[e]+",endColorstr="+o[e+1]+");-ms-"+i+o[e]+",endColorstr="+o[e+1]+')"></div>';return n}var t=this,n=t._id,r=t.classPrefix,i,s="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",o="background: -ms-linear-gradient(top,"+s+");background: linear-gradient(to bottom,"+s+");";return i='<div id="'+n+'-h" class="'+r+'colorpicker-h" style="'+o+'">'+e()+'<div id="'+n+'-hp" class="'+r+'colorpicker-h-marker"></div></div>','<div id="'+n+'" class="'+t.classes+'"><div id="'+n+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+n+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+i+"</div>"}})}),r(bn,[Ot],function(e){return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter=""),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){var n,r=e.target;(n=r.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})}),t.row(t.settings.row)},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",function(t){e.innerHtml(e._getDataPathHtml(t.value))}),e._super()},_getDataPathHtml:function(e){var t=this,n=e||[],r,i,s="",o=t.classPrefix;for(r=0,i=n.length;i>r;r++)s+=(r>0?'<div class="'+o+'divider" aria-hidden="true"> '+t.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(r==i-1?" "+o+"last":"")+'" data-index="'+r+'" tabindex="-1" id="'+t._id+"-"+r+'" aria-level="'+r+'">'+n[r].name+"</div>";return s||(s='<div class="'+o+'path-item"></div>'),s}})}),r(wn,[bn,Zt],function(e,t){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var n=this,r=t.activeEditor;return r.settings.elementpath!==!1&&(n.on("select",function(e){r.focus(),r.selection.select(this.row()[e.index].element),r.nodeChanged()}),r.on("nodeChange",function(t){for(var i=[],s=t.parents,o=s.length;o--;)if(1==s[o].nodeType&&!e(s[o])){var u=r.fire("ResolveName",{name:s[o].nodeName.toLowerCase(),target:s[o]});if(u.isDefaultPrevented()||i.push({name:u.name,element:s[o]}),u.isPropagationStopped())break}n.row(i)})),n._super()}})}),r(En,[bt],function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),r(Sn,[bt,En,v],function(e,t,n){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,r=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),r.each(function(r){var i,s=r.settings.label;s&&(i=new t(n.extend({items:{type:"label",id:r._id+"-l",text:s,flex:0,forId:r._id,disabled:r.disabled()}},e.settings.formItemDefaults)),i.type="formitem",r.aria("labelledby",r._id+"-l"),"undefined"==typeof r.settings.flex&&(r.settings.flex=1),e.replace(r,i),i.add(r))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e=0,n=[],r,i,s;if(t.settings.labelGapCalc!==!1)for(s="children"==t.settings.labelGapCalc?t.find("formitem"):t.items(),s.filter("formitem").each(function(t){var r=t.items()[0],i=r.getEl().clientWidth;e=i>e?i:e,n.push(r)}),i=t.settings.labelGap||0,r=n.length;r--;)n[r].settings.minWidth=e+i}var t=this;t._super(),t.on("show",e),e()}})}),r(xn,[Sn],function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})}),r(Tn,[pn,v],function(e,t){return e.extend({init:function(e){var n=this,r=tinymce.activeEditor,i=r.settings,s,o,u;e.spellcheck=!1,u=i.file_picker_types||i.file_browser_callback_types,u&&(u=t.makeMap(u,/[, ]/)),u&&!u[e.filetype]||(o=i.file_picker_callback,!o||u&&!u[e.filetype]?(o=i.file_browser_callback,!o||u&&!u[e.filetype]||(s=function(){o(n.getEl("inp").id,n.value(),e.filetype,window)})):s=function(){var i=n.fire("beforecall").meta;i=t.extend({filetype:e.filetype},i),o.call(r,function(e,t){n.value(e).fire("change",{meta:t})},n.value(),i)}),s&&(e.icon="browse",e.onaction=s),n._super(e)}})}),r(Nn,[fn],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),r(Cn,[fn],function(e){return e.extend({recalc:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g=[],y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q=Math.max,R=Math.min;for(r=e.items().filter(":visible"),i=e.layoutRect(),s=e.paddingBox,o=e.settings,h=e.isRtl()?o.direction||"row-reversed":o.direction,u=o.align,a=e.isRtl()?o.pack||"end":o.pack,f=o.spacing||0,"row-reversed"!=h&&"column-reverse"!=h||(r=r.set(r.toArray().reverse()),h=h.split("-")[0]),"column"==h?(C="y",T="h",N="minH",k="maxH",A="innerH",L="top",O="deltaH",M="contentH",B="left",P="w",_="x",D="innerW",H="minW",j="right",F="deltaW",I="contentW"):(C="x",T="w",N="minW",k="maxW",A="innerW",L="left",O="deltaW",M="contentW",B="top",P="h",_="y",D="innerH",H="minH",j="bottom",F="deltaH",I="contentH"),c=i[A]-s[L]-s[L],x=l=0,t=0,n=r.length;n>t;t++)p=r[t],d=p.layoutRect(),v=p.settings,m=v.flex,c-=n-1>t?f:0,m>0&&(l+=m,d[k]&&g.push(p),d.flex=m),c-=d[N],y=s[B]+d[H]+s[j],y>x&&(x=y);if(E={},0>c?E[N]=i[N]-c+i[O]:E[N]=i[A]-c+i[O],E[H]=x+i[F],E[M]=i[A]-c,E[I]=x,E.minW=R(E.minW,i.maxW),E.minH=R(E.minH,i.maxH),E.minW=q(E.minW,i.startMinWidth),E.minH=q(E.minH,i.startMinHeight),!i.autoResize||E.minW==i.minW&&E.minH==i.minH){for(w=c/l,t=0,n=g.length;n>t;t++)p=g[t],d=p.layoutRect(),b=d[k],y=d[N]+d.flex*w,y>b?(c-=d[k]-d[N],l-=d.flex,d.flex=0,d.maxFlexSize=b):d.maxFlexSize=0;for(w=c/l,S=s[L],E={},0===l&&("end"==a?S=c+s[L]:"center"==a?(S=Math.round(i[A]/2-(i[A]-c)/2)+s[L],0>S&&(S=s[L])):"justify"==a&&(S=s[L],f=Math.floor(c/(r.length-1)))),E[_]=s[B],t=0,n=r.length;n>t;t++)p=r[t],d=p.layoutRect(),y=d.maxFlexSize||d[N],"center"===u?E[_]=Math.round(i[D]/2-d[P]/2):"stretch"===u?(E[P]=q(d[H]||0,i[D]-s[B]-s[j]),E[_]=s[B]):"end"===u&&(E[_]=i[D]-d[P]-s.top),d.flex>0&&(y+=d.flex*w),E[T]=y,E[C]=S,p.layoutRect(E),p.recalc&&p.recalc(),S+=y+f}else if(E.w=E.minW,E.h=E.minH,e.layoutRect(E),this.recalc(e),null===e._lastRect){var U=e.parent();U&&(U._lastRect=null,U.recalc())}}})}),r(kn,[an],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),r(Ln,[mt,Ot,Nt,v,Zt,c],function(e,t,n,r,i,s){function o(e){function t(t,n){return function(){var r=this;e.on("nodeChange",function(i){var s=e.formatter,o=null;u(i.parents,function(e){return u(t,function(t){return n?s.matchNode(e,n,{value:t.value})&&(o=t.value):s.matchNode(e,t.value)&&(o=t.value),o?!1:void 0}),o?!1:void 0}),r.value(o)})}}function r(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e}function i(){function t(e){var n=[];if(e)return u(e,function(e){var s={text:e.title,icon:e.icon};if(e.items)s.menu=t(e.items);else{var o=e.format||"custom"+r++;e.format||(e.name=o,i.push(e)),s.format=o,s.cmd=e.cmd}n.push(s)}),n}function n(){var n;return n=t(e.settings.style_formats_merge?e.settings.style_formats?s.concat(e.settings.style_formats):s:e.settings.style_formats||s)}var r=0,i=[],s=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return e.on("init",function(){u(i,function(t){e.formatter.register(t.name,t)})}),{type:"menu",items:n(),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?e.formatter.getCssText(this.settings.format):void 0},onPostRender:function(){var t=this;t.parent().on("show",function(){var n,r;n=t.settings.format,n&&(t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))),r=t.settings.cmd,r&&t.active(e.queryCommandState(r))})},onclick:function(){this.settings.format&&f(this.settings.format),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}}function s(t){return function(){var n=this;e.formatter?e.formatter.formatChanged(t,function(e){n.active(e)}):e.on("init",function(){e.formatter.formatChanged(t,function(e){n.active(e)})})}}function o(t){return function(){function n(){return e.undoManager?e.undoManager[t]():!1}var r=this;t="redo"==t?"hasRedo":"hasUndo",r.disabled(!n()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){r.disabled(e.readonly||!n())})}}function a(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}function f(t){t.control&&(t=t.control.value()),t&&e.execCommand("mceToggleFormat",!1,t)}var l;l=i(),u({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{tooltip:t,onPostRender:s(n),onclick:function(){f(n)}})}),u({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})}),u({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:s(n)})}),e.addButton("undo",{tooltip:"Undo",onPostRender:o("undo"),cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:o("redo"),cmd:"redo"}),e.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:o("undo"),cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:o("redo"),cmd:"redo"}),e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:a,cmd:"mceToggleVisualAid"}),e.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),u({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.on("mousedown",function(){n.hideAll()}),e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:l}),e.addButton("formatselect",function(){var n=[],i=r(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return u(i,function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})}),{type:"listbox",text:i[0][0],values:n,fixedWidth:!0,onselect:f,onPostRender:t(n)}}),e.addButton("fontselect",function(){var n="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",i=[],s=r(e.settings.font_formats||n);return u(s,function(e){i.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:i,fixedWidth:!0,onPostRender:t(i,"fontname"),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}}),e.addButton("fontsizeselect",function(){var n=[],r="8pt 10pt 12pt 14pt 18pt 24pt 36pt",i=e.settings.fontsize_formats||r;return u(i.split(" "),function(e){var t=e,r=e,i=e.split("=");i.length>1&&(t=i[0],r=i[1]),n.push({text:t,value:r})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:n,fixedWidth:!0,onPostRender:t(n,"fontsize"),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}}),e.addMenuItem("formats",{text:"Formats",menu:l})}var u=r.each;i.on("AddEditor",function(t){t.editor.rtl&&(e.rtl=!0),o(t.editor)}),e.translate=function(e){return i.translate(e)},t.tooltips=!s.iOS}),r(An,[fn],function(e){return e.extend({recalc:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T=[],N=[],C,k,L,A,O,M;t=e.settings,i=e.items().filter(":visible"),s=e.layoutRect(),r=t.columns||Math.ceil(Math.sqrt(i.length)),n=Math.ceil(i.length/r),y=t.spacingH||t.spacing||0,b=t.spacingV||t.spacing||0,w=t.alignH||t.align,E=t.alignV||t.align,m=e.paddingBox,O="reverseRows"in t?t.reverseRows:e.isRtl(),w&&"string"==typeof w&&(w=[w]),E&&"string"==typeof E&&(E=[E]);for(c=0;r>c;c++)T.push(0);for(h=0;n>h;h++)N.push(0);for(h=0;n>h;h++)for(c=0;r>c&&(l=i[h*r+c],l);c++)f=l.layoutRect(),C=f.minW,k=f.minH,T[c]=C>T[c]?C:T[c],N[h]=k>N[h]?k:N[h];for(L=s.innerW-m.left-m.right,S=0,c=0;r>c;c++)S+=T[c]+(c>0?y:0),L-=(c>0?y:0)+T[c];for(A=s.innerH-m.top-m.bottom,x=0,h=0;n>h;h++)x+=N[h]+(h>0?b:0),A-=(h>0?b:0)+N[h];if(S+=m.left+m.right,x+=m.top+m.bottom,a={},a.minW=S+(s.w-s.innerW),a.minH=x+(s.h-s.innerH),a.contentW=a.minW-s.deltaW,a.contentH=a.minH-s.deltaH,a.minW=Math.min(a.minW,s.maxW),a.minH=Math.min(a.minH,s.maxH),a.minW=Math.max(a.minW,s.startMinWidth),a.minH=Math.max(a.minH,s.startMinHeight),!s.autoResize||a.minW==s.minW&&a.minH==s.minH){s.autoResize&&(a=e.layoutRect(a),a.contentW=a.minW-s.deltaW,a.contentH=a.minH-s.deltaH);var _;_="start"==t.packV?0:A>0?Math.floor(A/n):0;var D=0,P=t.flexWidths;if(P)for(c=0;c<P.length;c++)D+=P[c];else D=r;var H=L/D;for(c=0;r>c;c++)T[c]+=P?P[c]*H:H;for(d=m.top,h=0;n>h;h++){for(p=m.left,u=N[h]+_,c=0;r>c&&(M=O?h*r+r-1-c:h*r+c,l=i[M],l);c++)v=l.settings,f=l.layoutRect(),o=Math.max(T[c],f.startMinWidth),f.x=p,f.y=d,g=v.alignH||(w?w[c]||w[0]:null),"center"==g?f.x=p+o/2-f.w/2:"right"==g?f.x=p+o-f.w:"stretch"==g&&(f.w=o),g=v.alignV||(E?E[c]||E[0]:null),"center"==g?f.y=d+u/2-f.h/2:"bottom"==g?f.y=d+u-f.h:"stretch"==g&&(f.h=u),l.layoutRect(f),p+=o+y,l.recalc&&l.recalc();d+=u+b}}else if(a.w=a.minW,a.h=a.minH,e.layoutRect(a),this.recalc(e),null===e._lastRect){var B=e.parent();B&&(B._lastRect=null,B.recalc())}}})}),r(On,[Ot,l],function(e,t){return e.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,n){var r=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,n&&n()):t.setTimeout(function(){r.html(e)}),this}})}),r(Mn,[Ot],function(e){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("infobox"),t.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+e.encode(e.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl("body").firstChild.data=e.encode(t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e.state.on("change:help",function(t){e.classes.toggle("has-help",t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}})}),r(_n,[Ot,ht],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,n=e._super();if(e.settings.multiline){var r=t.getSize(e.getEl());r.width>n.maxW&&(n.minW=n.maxW,e.classes.add("multiline")),e.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)}return n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e=this,t,n,r=e.settings.forId;return!r&&(n=e.settings.forName)&&(t=e.getRoot().find("#"+n)[0],t&&(r=t._id)),r?'<label id="'+e._id+'" class="'+e.classes+'"'+(r?' for="'+r+'"':"")+">"+e.encode(e.state.get("text"))+"</label>":'<span id="'+e._id+'" class="'+e.classes+'">'+e.encode(e.state.get("text"))+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.innerHtml(e.encode(t.value)),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}})}),r(Dn,[bt],function(e){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.classes.add("toolbar")},postRender:function(){var e=this;return e.items().each(function(e){e.classes.add("toolbar-item")}),e._super()}})}),r(Pn,[Dn],function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),r(Hn,[ln,gt,Pn],function(e,t,n){function r(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}var i=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(){var e=this,n;return e.menu&&e.menu.visible()?e.hideMenu():(e.menu||(n=e.state.get("menu")||[],n.length?n={type:"menu",items:n}:n.type=n.type||"menu",n.renderTo?e.menu=n.parent(e).show().renderTo():e.menu=t.create(n).parent(e).renderTo(),e.fire("createmenu"),e.menu.reflow(),e.menu.on("cancel",function(t){t.control.parent()===e.menu&&(t.stopPropagation(),e.focus(),e.hideMenu())}),e.menu.on("select",function(){e.focus()}),e.menu.on("show hide",function(t){t.control==e.menu&&e.activeMenu("show"==t.type),e.aria("expanded","show"==t.type)}).fire("show")),e.menu.show(),e.menu.layoutRect({w:e.layoutRect().w}),void e.menu.moveRel(e.getEl(),e.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e=this,t=e._id,r=e.classPrefix,i=e.settings.icon,s,o=e.state.get("text"),u="";return s=e.settings.image,s?(i="none","string"!=typeof s&&(s=window.getSelection?s[0]:s[1]),s=" style=\"background-image: url('"+s+"')\""):s="",o&&(e.classes.add("btn-has-text"),u='<span class="'+r+'txt">'+e.encode(o)+"</span>"),i=e.settings.icon?r+"ico "+r+"i-"+i:"",e.aria("role",e.parent()instanceof n?"menuitem":"button"),'<div id="'+t+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+t+'"><button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+s+"></i>":"")+u+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&r(t.target,e.getEl())&&(e.showMenu(),t.aria&&e.menu.items()[0].focus())}),e.on("mouseenter",function(t){var n=t.control,r=e.parent(),s;n&&r&&n instanceof i&&n.parent()==r&&(r.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=n&&(e.menu&&e.menu.visible()&&(s=!0),e.hideMenu())}),s&&(n.focus(),n.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return i}),r(Bn,[Ot,gt,c,l],function(e,t,n,r){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t=this,n;t._super(e),e=t.settings,t.classes.add("menu-item"),e.menu&&t.classes.add("menu-item-expand"),e.preview&&t.classes.add("menu-item-preview"),n=t.state.get("text"),"-"!==n&&"|"!==n||(t.classes.add("menu-item-sep"),t.aria("role","separator"),t.state.set("text","-")),e.selectable&&(t.aria("role","menuitemcheckbox"),t.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||t.classes.add("menu-item-normal"),t.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&t.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e=this,n=e.settings,r,i=e.parent();if(i.items().each(function(t){t!==e&&t.hideMenu()}),n.menu){r=e.menu,r?r.show():(r=n.menu,r.length?r={type:"menu",items:r}:r.type=r.type||"menu",i.settings.itemDefaults&&(r.itemDefaults=i.settings.itemDefaults),r=e.menu=t.create(r).parent(e).renderTo(),r.reflow(),r.on("cancel",function(t){t.stopPropagation(),e.focus(),r.hide()}),r.on("show hide",function(e){e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),r.on("hide",function(t){t.control===r&&e.classes.remove("selected")}),r.submenu=!0),r._parentMenu=i,r.classes.add("menu-sub");var s=r.testMoveRel(e.getEl(),e.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);r.moveRel(e.getEl(),s),r.rel=s,s="menu-sub-"+s,r.classes.remove(r._lastRel).add(s),r._lastRel=s,e.classes.add("selected"),e.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){function e(e){var t,r,i={};for(i=n.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)r=i[e[t].toLowerCase()],r&&(e[t]=r);return e.join("+")}var t=this,r=t._id,i=t.settings,s=t.classPrefix,o=t.encode(t.state.get("text")),u=t.settings.icon,a="",f=i.shortcut;return u&&t.parent().classes.add("menu-has-icons"),i.image&&(a=" style=\"background-image: url('"+i.image+"')\""),f&&(f=e(f)),u=s+"ico "+s+"i-"+(t.settings.icon||"none"),'<div id="'+r+'" class="'+t.classes+'" tabindex="-1">'+("-"!==o?'<i class="'+u+'"'+a+"></i>":"")+("-"!==o?'<span id="'+r+'-text" class="'+s+'text">'+o+"</span>":"")+(f?'<div id="'+r+'-shortcut" class="'+s+'menu-shortcut">'+f+"</div>":"")+(i.menu?'<div class="'+s+'caret"></div>':"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var i=e.getEl("text");i&&i.setAttribute("style",n)}return e.on("mouseenter click",function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),r.requestAnimationFrame(function(){e.parent().hideAll()})))}),e._super(),e},hover:function(){var e=this;return e.parent().items().each(function(e){e.classes.remove("selected")}),e.classes.toggle("selected",!0),e},active:function(e){return"undefined"!=typeof e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),r(jn,[m,mt,l],function(e,t,n){return function(r,i){var s=this,o,u=t.classPrefix,a;s.show=function(t,f){function l(){o&&(e(r).append('<div class="'+u+"throbber"+(i?" "+u+"throbber-inline":"")+'"></div>'),f&&f())}return s.hide(),o=!0,t?a=n.setTimeout(l,t):l(),s},s.hide=function(){var e=r.lastChild;return n.clearTimeout(a),e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),o=!1,s}}}),r(Fn,[Nt,Bn,jn,v],function(e,t,n,r){return e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var n=e.items,i=n.length;i--;)n[i]=r.extend({},e.itemDefaults,n[i]);t._super(e),t.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("select")},load:function(){function e(){t.throbber&&(t.throbber.hide(),t.throbber=null)}var t=this,r,i;i=t.settings.itemsFactory,i&&(t.throbber||(t.throbber=new n(t.getEl("body"),!0),0===t.items().length?(t.throbber.show(),t.fire("loading")):t.throbber.show(100,function(){t.items().remove(),t.fire("loading")}),t.on("hide close",e)),t.requestTime=r=(new Date).getTime(),t.settings.itemsFactory(function(n){return 0===n.length?void t.hide():void (t.requestTime===r&&(t.getEl().style.width="",t.getEl("body").style.width="",e(),t.items().remove(),t.getEl("body").innerHTML="",t.add(n),t.renderNew(),t.fire("loaded")))}))},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;return n.icon||n.image||n.selectable?(e._hasIcons=!0,!1):void 0}),e.settings.itemsFactory&&e.on("postrender",function(){e.settings.itemsFactory&&e.load()}),e._super()}})}),r(In,[Hn,Fn],function(e,t){return e.extend({init:function(e){function t(r){for(var o=0;o<r.length;o++){if(i=r[o].selected||e.value===r[o].value)return s=s||r[o].text,n.state.set("value",r[o].value),!0;if(r[o].menu&&t(r[o].menu))return!0}}var n=this,r,i,s,o;n._super(e),e=n.settings,n._values=r=e.values,r&&("undefined"!=typeof e.value&&t(r),!i&&r.length>0&&(s=r[0].text,n.state.set("value",r[0].value)),n.state.set("menu",r)),n.state.set("text",e.text||s),n.classes.add("listbox"),n.on("select",function(t){var r=t.control;o&&(t.lastControl=o),e.multiple?r.active(!r.active()):n.value(t.control.value()),o=r})},bindStates:function(){function e(e,n){e instanceof t&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===n)})}function n(e,t){var r;if(e)for(var i=0;i<e.length;i++){if(e[i].value===t)return e[i];if(e[i].menu&&(r=n(e[i].menu,t)))return r}}var r=this;return r.on("show",function(t){e(t.control,r.value())}),r.state.on("change:value",function(e){var t=n(r.state.get("menu"),e.value);t?r.text(t.text):r.text(r.settings.text)}),r._super()}})}),r(qn,[hn],function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})}),r(Rn,[Ot,wt],function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"==e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!=e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),r(Un,[Ot],function(e){function t(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}return e.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on("keydown",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){return e.toJSON?(n=e,!1):void 0}),t.fire("submit",{data:n.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e=this,n,r="";return n=t(e._options),e.size&&(r=' size = "'+e.size+'"'),'<select id="'+e._id+'" class="'+e.classes+'"'+r+">"+n+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",function(n){e.getEl().innerHTML=t(n.value)}),e._super()}})}),r(zn,[Ot,wt,ht],function(e,t,n){function r(e,t,n){return t>e&&(e=t),e>n&&(e=n),e}function i(e,t,n){e.setAttribute("aria-"+t,n)}function s(e,t){var r,s,o,u,a,f;"v"==e.settings.orientation?(u="top",o="height",s="h"):(u="left",o="width",s="w"),f=e.getEl("handle"),r=(e.layoutRect()[s]||100)-n.getSize(f)[o],a=r*((t-e._minValue)/(e._maxValue-e._minValue))+"px",f.style[u]=a,f.style.height=e.layoutRect().h+"px",i(f,"valuenow",t),i(f,"valuetext",""+e.settings.previewFilter(t)),i(f,"valuemin",e._minValue),i(f,"valuemax",e._maxValue)}return e.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"==e.orientation&&t.classes.add("vertical"),t._minValue=e.minValue||0,t._maxValue=e.maxValue||100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function e(e,t,n){return(n+e)/(t-e)}function i(e,t,n){return n*(t-e)-e}function s(t,n){function s(s){var o;o=u.value(),o=i(t,n,e(t,n,o)+.05*s),o=r(o,t,n),u.value(o),u.fire("dragstart",{value:o}),u.fire("drag",{value:o}),u.fire("dragend",{value:o})}u.on("keydown",function(e){switch(e.keyCode){case 37:case 38:s(-1);break;case 39:case 40:s(1)}})}function o(e,i,s){var o,a,f,d,v;u._dragHelper=new t(u._id,{handle:u._id+"-handle",start:function(e){o=e[l],a=parseInt(u.getEl("handle").style[c],10),f=(u.layoutRect()[p]||100)-n.getSize(s)[h],u.fire("dragstart",{value:v})},drag:function(t){var n=t[l]-o;d=r(a+n,0,f),s.style[c]=d+"px",v=e+d/f*(i-e),u.value(v),u.tooltip().text(""+u.settings.previewFilter(v)).show().moveRel(s,"bc tc"),u.fire("drag",{value:v})},stop:function(){u.tooltip().hide(),u.fire("dragend",{value:v})}})}var u=this,a,f,l,c,h,p;a=u._minValue,f=u._maxValue,"v"==u.settings.orientation?(l="screenY",c="top",h="height",p="h"):(l="screenX",c="left",h="width",p="w"),u._super(),s(a,f,u.getEl("handle")),o(a,f,u.getEl("handle"))},repaint:function(){this._super(),s(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",function(t){s(e,t.value)}),e._super()}})}),r(Wn,[Ot],function(e){return e.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}})}),r(Xn,[Hn,ht,m],function(e,t,n){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e=this,r=e.getEl(),i=e.layoutRect(),s,o;return e._super(),s=r.firstChild,o=r.lastChild,n(s).css({width:i.w-t.getSize(o).width,height:i.h-2}),n(o).css({height:i.h-2}),e},activeMenu:function(e){var t=this;n(t.getEl().lastChild).toggleClass(t.classPrefix+"active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r,i=e.state.get("icon"),s=e.state.get("text"),o="";return r=e.settings.image,r?(i="none","string"!=typeof r&&(r=window.getSelection?r[0]:r[1]),r=" style=\"background-image: url('"+r+"')\""):r="",i=e.settings.icon?n+"ico "+n+"i-"+i:"",s&&(e.classes.add("btn-has-text"),o='<span class="'+n+'txt">'+e.encode(s)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+o+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1">'+(e._menuBtnText?(i?"":"")+e._menuBtnText:"")+' <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(e){var n=e.target;if(e.control==this)for(;n;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return e.stopImmediatePropagation(),void (t&&t.call(this,e));n=n.parentNode}}),delete e.settings.onclick,e._super()}})}),r(Vn,[kn],function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),r($n,[St,m,ht],function(e,t,n){return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),t(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+e,n=this.getEl("t"+e),n.setAttribute("aria-selected","true"),t(n).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each(function(t,n){e!=n&&t.hide()})},renderHtml:function(){var e=this,t=e._layout,n="",r=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,i){var s=e._id+"-t"+i;t.aria("role","tabpanel"),t.aria("labelledby",s),n+='<div id="'+s+'" class="'+r+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+r+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(t.target.parentNode.id==e._id+"-head")for(var r=n.childNodes.length;r--;)n.childNodes[r]==t.target&&e.activateTab(r)})},initLayoutRect:function(){var e=this,t,r,i;r=n.getSize(e.getEl("head")).width,r=0>r?0:r,i=0,e.items().each(function(e){r=Math.max(r,e.layoutRect().minW),i=Math.max(i,e.layoutRect().minH)}),e.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=r,e.settings.h=i,e.layoutRect({x:0,y:0,w:r,h:i})});var s=n.getSize(e.getEl("head")).height;return e.settings.minWidth=r,e.settings.minHeight=i+s,t=e._super(),t.deltaH+=s,t.innerH=t.h-t.deltaH,t}})}),r(Jn,[Ot,v,ht],function(e,t,n){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){return e.toJSON?(n=e,!1):void 0}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){t.state.set("value",e.target.value)}))},repaint:function(){var e=this,t,n,r,i,s=0,o;t=e.getEl().style,n=e._layoutRect,o=e._lastRepaintRect||{};var u=document;return!e.settings.multiline&&u.all&&(!u.documentMode||u.documentMode<=8)&&(t.lineHeight=n.h-s+"px"),r=e.borderBox,i=r.left+r.right+8,s=r.top+r.bottom+(e.settings.multiline?8:0),n.x!==o.x&&(t.left=n.x+"px",o.x=n.x),n.y!==o.y&&(t.top=n.y+"px",o.y=n.y),n.w!==o.w&&(t.width=n.w-i+"px",o.w=n.w),n.h!==o.h&&(t.height=n.h-s+"px",o.h=n.h),e._lastRepaintRect=o,e.fire("repaint",{},!1),e},renderHtml:function(){var e=this,r=e.settings,i,s;return i={id:e._id,hidefocus:"1"},t.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){i[e]=r[e]}),e.disabled()&&(i.disabled="disabled"),r.subtype&&(i.type=r.subtype),s=n.create(r.multiline?"textarea":"input",i),s.value=e.state.get("value"),s.className=e.classes,s.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)})},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl().value!=t.value&&(e.getEl().value=t.value)}),e.state.on("change:disabled",function(t){e.getEl().disabled=t.value}),e._super()},remove:function(){this.$el.off(),this._super()}})}),r(Kn,[],function(){var e=this||window,t=function(){return e.tinymce};return"function"==typeof e.define&&(e.define.amd||e.define("ephox/tinymce",[],t)),{}}),o([a,f,l,c,h,p,v,m,g,y,w,S,x,T,L,O,M,_,D,P,H,B,F,I,V,$,G,Y,rt,it,st,ot,at,lt,ct,vt,mt,gt,yt,bt,wt,Et,St,xt,Tt,Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Bt,Ft,Qt,Gt,Yt,Zt,tn,nn,rn,sn,on,un,an,fn,ln,cn,hn,pn,dn,vn,mn,gn,yn,bn,wn,En,Sn,xn,Tn,Nn,Cn,kn,Ln,An,On,Mn,_n,Dn,Pn,Hn,Bn,jn,Fn,In,qn,Rn,Un,zn,Wn,Xn,Vn,$n,Jn])}(this),e.tinymce=tinymce}.apply(e,arguments)})}(this),function(e){define("bootstrap",["jquery"],function(){return function(){if(typeof jQuery=="undefined")throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||t[0]==1&&t[1]==9&&t[2]<1||t[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(e.style[n]!==undefined)return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t();if(!e.support.transition)return;e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}})}(jQuery),+function(e){"use strict";function r(t){return this.each(function(){var r=e(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})}var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function o(){s.detach().trigger("closed.bs.alert").remove()}var r=e(this),i=r.attr("data-target");i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var s=e(i);t&&t.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(t=e.Event("close.bs.alert"));if(t.isDefaultPrevented())return;s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o()};var i=e.fn.alert;e.fn.alert=r,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),+function(e){"use strict";function n(n){return this.each(function(){var r=e(this),i=r.data("bs.button"),s=typeof n=="object"&&n;i||r.data("bs.button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})}var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.isLoading=!1};t.VERSION="3.3.6",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",s.resetText==null&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](s[t]==null?this.options[t]:s[t]),t=="loadingText"?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");n.prop("type")=="radio"?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):n.prop("type")=="checkbox"&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=n,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=e(t.target);r.hasClass("btn")||(r=r.closest(".btn")),n.call(r,"toggle"),!e(t.target).is('input[type="radio"]')&&!e(t.target).is('input[type="checkbox"]')&&t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function n(n){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("bs.carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})}var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};t.VERSION="3.3.6",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},t.prototype.keydown=function(e){if(/input|textarea/i.test(e.target.tagName))return;switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},t.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r=e=="prev"&&n===0||e=="next"&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i=e=="prev"?-1:1,s=(n+i)%this.$items.length;return this.$items.eq(s)},t.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(e>this.$items.length-1||e<0)return;return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(this.sliding)return;return this.slide("next")},t.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")},t.prototype.slide=function(n,r){var i=this.$element.find(".item.active"),s=r||this.getItemForDirection(n,i),o=this.interval,u=n=="next"?"left":"right",a=this;if(s.hasClass("active"))return this.sliding=!1;var f=s[0],l=e.Event("slide.bs.carousel",{relatedTarget:f,direction:u});this.$element.trigger(l);if(l.isDefaultPrevented())return;this.sliding=!0,o&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=e(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:f,direction:u});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(n),s[0].offsetWidth,i.addClass(u),s.addClass(u),i.one("bsTransitionEnd",function(){s.removeClass([n,u].join(" ")).addClass("active"),i.removeClass(["active",u].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(h)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(i.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(h)),o&&this.cycle(),this};var r=e.fn.carousel;e.fn.carousel=n,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(t){var r,i=e(this),s=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(!s.hasClass("carousel"))return;var o=e.extend({},s.data(),i.data()),u=i.attr("data-slide-to");u&&(o.interval=!1),n.call(s,o),u&&s.data("bs.carousel").to(u),t.preventDefault()};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function n(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function r(n){return this.each(function(){var r=e(this),i=r.data("bs.collapse"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n);!i&&s.toggle&&/show|hide/.test(n)&&(s.toggle=!1),i||r.data("bs.collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})}var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.$trigger=e('[data-toggle="collapse"][href="#'+n.id+'"],'+'[data-toggle="collapse"][data-target="#'+n.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};t.VERSION="3.3.6",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var n,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(i&&i.length){n=i.data("bs.collapse");if(n&&n.transitioning)return}var s=e.Event("show.bs.collapse");this.$element.trigger(s);if(s.isDefaultPrevented())return;i&&i.length&&(r.call(i,"hide"),n||i.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var u=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return u.call(this);var a=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[o](this.$element[0][a])},t.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var n=e.Event("hide.bs.collapse");this.$element.trigger(n);if(n.isDefaultPrevented())return;var r=this.dimension();this.$element[r](this.$element[r]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return i.call(this);this.$element[r](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(t.TRANSITION_DURATION)},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},t.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(t,r){var i=e(r);this.addAriaAndCollapsedClass(n(i),i)},this)).end()},t.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=r,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var i=e(this);i.attr("data-target")||t.preventDefault();var s=n(i),o=s.data("bs.collapse"),u=o?"toggle":i.data();r.call(s,u)})}(jQuery),+function(e){"use strict";function i(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function s(r){if(r&&r.which===3)return;e(t).remove(),e(n).each(function(){var t=e(this),n=i(t),s={relatedTarget:this};if(!n.hasClass("open"))return;if(r&&r.type=="click"&&/input|textarea/i.test(r.target.tagName)&&e.contains(n[0],r.target))return;n.trigger(r=e.Event("hide.bs.dropdown",s));if(r.isDefaultPrevented())return;t.attr("aria-expanded","false"),n.removeClass("open").trigger(e.Event("hidden.bs.dropdown",s))})}function o(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),typeof t=="string"&&i[t].call(n)})}var t=".dropdown-backdrop",n='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.6",r.prototype.toggle=function(t){var n=e(this);if(n.is(".disabled, :disabled"))return;var r=i(n),o=r.hasClass("open");s();if(!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",s);var u={relatedTarget:this};r.trigger(t=e.Event("show.bs.dropdown",u));if(t.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(e.Event("shown.bs.dropdown",u))}return!1},r.prototype.keydown=function(t){if(!/(38|40|27|32)/.test(t.which)||/input|textarea/i.test(t.target.tagName))return;var r=e(this);t.preventDefault(),t.stopPropagation();if(r.is(".disabled, :disabled"))return;var s=i(r),o=s.hasClass("open");if(!o&&t.which!=27||o&&t.which==27)return t.which==27&&s.find(n).trigger("focus"),r.trigger("click");var u=" li:not(.disabled):visible a",a=s.find(".dropdown-menu"+u);if(!a.length)return;var f=a.index(t.target);t.which==38&&f>0&&f--,t.which==40&&f<a.length-1&&f++,~f||(f=0),a.eq(f).trigger("focus")};var u=e.fn.dropdown;e.fn.dropdown=o,e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=u,this},e(document).on("click.bs.dropdown.data-api",s).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),+function(e){"use strict";function n(n,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},t.DEFAULTS,i.data(),typeof n=="object"&&n);s||i.data("bs.modal",s=new t(this,o)),typeof n=="string"?s[n](r):o.show&&s.show(r)})}var t=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.VERSION="3.3.6",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(n){var r=this,i=e.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(i);if(this.isShown||i.isDefaultPrevented())return;this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:n});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(s)})},t.prototype.hide=function(n){n&&n.preventDefault(),n=e.Event("hide.bs.modal"),this.$element.trigger(n);if(!this.isShown||n.isDefaultPrevented())return;this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal()},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]!==e.target&&!this.$element.has(e.target).length&&this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(n){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&i;this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus():this.hide()},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!n)return;s?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){r.removeBackdrop(),n&&n()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):o()}else n&&n()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=n,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=e(this),i=r.attr("href"),s=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},s.data(),r.data());r.is("a")&&t.preventDefault(),s.one("show.bs.modal",function(e){if(e.isDefaultPrevented())return;s.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),n.call(s,o,this)})}(jQuery),+function(e){"use strict";function n(n){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s=typeof n=="object"&&n;if(!i&&/destroy|hide/.test(n))return;i||r.data("bs.tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})}var t=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};t.VERSION="3.3.6",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1};if(this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");var i=this.options.trigger.split(" ");for(var s=i.length;s--;){var o=i[s];if(o=="click")this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if(o!="manual"){var u=o=="hover"?"mouseenter":"focusin",a=o=="hover"?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState[t.type=="focusin"?"focus":"hover"]=!0);if(n.tip().hasClass("in")||n.hoverState=="in"){n.hoverState="in";return}clearTimeout(n.timeout),n.hoverState="in";if(!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},t.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState[t.type=="focusout"?"focus":"hover"]=!1);if(n.isInStateTrue())return;clearTimeout(n.timeout),n.hoverState="out";if(!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},t.prototype.show=function(){var n=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!r)return;var i=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var u=typeof this.options.placement=="function"?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,f=a.test(u);f&&(u=u.replace(a,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(u).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=s[0].offsetWidth,h=s[0].offsetHeight;if(f){var p=u,d=this.getPosition(this.$viewport);u=u=="bottom"&&l.bottom+h>d.bottom?"top":u=="top"&&l.top-h<d.top?"bottom":u=="right"&&l.right+c>d.width?"left":u=="left"&&l.left-c<d.left?"right":u,s.removeClass(p).addClass(u)}var v=this.getCalculatedOffset(u,l,c,h);this.applyPlacement(v,u);var m=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,e=="out"&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",m).emulateTransitionEnd(t.TRANSITION_DURATION):m()}},t.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,s=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),u=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(u)&&(u=0),t.top+=o,t.left+=u,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var a=r[0].offsetWidth,f=r[0].offsetHeight;n=="top"&&f!=s&&(t.top=t.top+s-f);var l=this.getViewportAdjustedDelta(n,t,a,f);l.left?t.left+=l.left:t.top+=l.top;var c=/top|bottom/.test(n),h=c?l.left*2-i+a:l.top*2-s+f,p=c?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(h,r[0][p],c)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(n){function o(){r.hoverState!="in"&&i.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),n&&n()}var r=this,i=e(this.$tip),s=e.Event("hide.bs."+this.type);this.$element.trigger(s);if(s.isDefaultPrevented())return;return i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",o).emulateTransitionEnd(t.TRANSITION_DURATION):o(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r=n.tagName=="BODY",i=n.getBoundingClientRect();i.width==null&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var s=r?{top:0,left:0}:t.offset(),o={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},u=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,o,u,s)},t.prototype.getCalculatedOffset=function(e,t,n,r){return e=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-n/2}:e=="top"?{top:t.top-r,left:t.left+t.width/2-n/2}:e=="left"?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var u=t.top-s-o.scroll,a=t.top+s-o.scroll+r;u<o.top?i.top=o.top-u:a>o.top+o.height&&(i.top=o.top+o.height-a)}else{var f=t.left-s,l=t.left+s+n;f<o.left?i.left=o.left-f:l>o.right&&(i.left=o.left+o.width-l)}return i},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},t.prototype.getUID=function(e){do e+=~~(Math.random()*1e6);while(document.getElementById(e));return e},t.prototype.tip=function(){if(!this.$tip){this.$tip=e(this.options.template);if(this.$tip.length!=1)throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")}return this.$tip},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var r=e.fn.tooltip;e.fn.tooltip=n,e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function n(n){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s=typeof n=="object"&&n;if(!i&&/destroy|hide/.test(n))return;i||r.data("bs.popover",i=new t(this,s)),typeof n=="string"&&i[n]()})}var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.6",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?typeof n=="string"?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||(typeof t.content=="function"?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=n,e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(n).is(document.body)?e(window):e(n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s=typeof n=="object"&&n;i||r.data("bs.scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})}t.VERSION="3.3.6",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.getScrollHeight(),n=this.options.offset+t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;this.scrollHeight!=t&&this.refresh();if(e>=n)return s!=(o=i[i.length-1])&&this.activate(o);if(s&&e<r[0])return this.activeTarget=null,this.clear();for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(r[o+1]===undefined||e<r[o+1])&&this.activate(i[o])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function n(n){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new t(this)),typeof n=="string"&&i[n]()})}var t=function(t){this.element=e(t)};t.VERSION="3.3.6",t.TRANSITION_DURATION=150,t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;var i=n.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:i[0]});i.trigger(s),t.trigger(o);if(o.isDefaultPrevented()||s.isDefaultPrevented())return;var u=e(r);this.activate(t.closest("li"),n),this.activate(u,u.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})},t.prototype.activate=function(n,r,i){function u(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),n.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(n[0].offsetWidth,n.addClass("in")):n.removeClass("fade"),n.parent(".dropdown-menu").length&&n.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var s=r.find("> .active"),o=i&&e.support.transition&&(s.length&&s.hasClass("fade")||!!r.find("> .fade").length);s.length&&o?s.one("bsTransitionEnd",u).emulateTransitionEnd(t.TRANSITION_DURATION):u(),s.removeClass("in")};var r=e.fn.tab;e.fn.tab=n,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(t){t.preventDefault(),n.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(e){"use strict";function n(n){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s=typeof n=="object"&&n;i||r.data("bs.affix",i=new t(this,s)),typeof n=="string"&&i[n]()})}var t=function(n,r){this.options=e.extend({},t.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};t.VERSION="3.3.6",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(n!=null&&this.affixed=="top")return i<n?"top":!1;if(this.affixed=="bottom")return n!=null?i+this.unpin<=s.top?!1:"bottom":i+o<=e-r?!1:"bottom";var u=this.affixed==null,a=u?i:s.top,f=u?o:t;return n!=null&&i<=n?"top":r!=null&&a+f>=e-r?"bottom":!1},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$target.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var n=this.$element.height(),r=this.options.offset,i=r.top,s=r.bottom,o=Math.max(e(document).height(),e(document.body).height());typeof r!="object"&&(s=i=r),typeof i=="function"&&(i=r.top(this.$element)),typeof s=="function"&&(s=r.bottom(this.$element));var u=this.getState(o,n,i,s);if(this.affixed!=u){this.unpin!=null&&this.$element.css("top","");var a="affix"+(u?"-"+u:""),f=e.Event(a+".bs.affix");this.$element.trigger(f);if(f.isDefaultPrevented())return;this.affixed=u,this.unpin=u=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}u=="bottom"&&this.$element.offset({top:o-n-s})};var r=e.fn.affix;e.fn.affix=n,e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),r=t.data();r.offset=r.offset||{},r.offsetBottom!=null&&(r.offset.bottom=r.offsetBottom),r.offsetTop!=null&&(r.offset.top=r.offsetTop),n.call(t,r)})})}(jQuery)}.apply(e,arguments)})}(this),define("app",["views/view1","views/view2","models/model1","common/dispatch","router/router","backbone","tinymce","jquery","bootstrap"],function(e,t,n,r,i,s,o){"use strict";var u,a="mto",f;return u={loadPage:function(r){var i={foo:1,bar:2},u=new n(i);console.log("data1 @ init: ",u);var a=new e(u);$("#v1").html(a.render().el);var f=new t(u);$("#v2").html(f.render().el);var l=s.View.extend({events:{},getTinymceContent:function(e){console.log(e.getContent())},initialize:function(e){this.data=e,this.listenTo(e,"change",function(){console.log("PageView detects model change event")})},initializeTinymce:function(){var e=this;o.init({skin:"lightgray",selector:"textarea",plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste code"],plugin_preview_width:300,menubar:"file edit insert format tools",toolbar:["mybutton | insert file undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link "],setup:function(t){t.addButton("mybutton",{text:"Log content",icon:!1,onclick:function(){e.getTinymceContent(t)}})}})},render:function(){return this.$el.html("<textarea id='t1'></textarea>"),c.initializeTinymce(),this}}),c=new l(u);$("#sidebar1").html(c.render().el),c.initializeTinymce()},start:function(){var e=this;console.log("mto app started . . . ");var t=new i;s.history.start({pushState:!0,root:a}),$("#mtoNav  a").on("click",function(e){$(e.target).attr("subMenu")!="true"&&$(".collapse").collapse("hide"),e.preventDefault()})}},r.on("loadPage",function(e){u.loadPage(e)}),r.on("model1:change",function(e){console.log("dat changed",e)}),u}),requirejs.config({waitSeconds:200,baseUrl:"http://localhost/mto/assets/js/",paths:{backbone:"vendor/node_modules/backbone/backbone",jquery:"vendor/node_modules/jquery/dist/jquery",json2:"vendor/json2",text:"vendor/text",tpl:"vendor/underscore-tpl",underscore:"vendor/node_modules/backbone/node_modules/underscore/underscore",bootstrap:"vendor/node_modules/bootstrap/dist/js/bootstrap",tinymce:"vendor/tinymce/tinymce.min"},shim:{bootstrap:{deps:["jquery"]},underscore:{exports:"_"},backbone:{deps:["jquery","underscore","json2"],exports:"Backbone"},tpl:{deps:["text"]},datatables:{deps:["jquery"]},tinymce:{deps:["jquery"],exports:"tinymce"}}}),require(["app"],function(e){e.start()}),define("require_main.js",function(){});